function my(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function gy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yy={exports:{}},Zl={},vy={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ks=Symbol.for("react.element"),NE=Symbol.for("react.portal"),DE=Symbol.for("react.fragment"),VE=Symbol.for("react.strict_mode"),LE=Symbol.for("react.profiler"),jE=Symbol.for("react.provider"),ME=Symbol.for("react.context"),OE=Symbol.for("react.forward_ref"),bE=Symbol.for("react.suspense"),FE=Symbol.for("react.memo"),$E=Symbol.for("react.lazy"),Dp=Symbol.iterator;function UE(t){return t===null||typeof t!="object"?null:(t=Dp&&t[Dp]||t["@@iterator"],typeof t=="function"?t:null)}var _y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ey=Object.assign,wy={};function ho(t,e,n){this.props=t,this.context=e,this.refs=wy,this.updater=n||_y}ho.prototype.isReactComponent={};ho.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ho.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ty(){}Ty.prototype=ho.prototype;function wd(t,e,n){this.props=t,this.context=e,this.refs=wy,this.updater=n||_y}var Td=wd.prototype=new Ty;Td.constructor=wd;Ey(Td,ho.prototype);Td.isPureReactComponent=!0;var Vp=Array.isArray,Iy=Object.prototype.hasOwnProperty,Id={current:null},Sy={key:!0,ref:!0,__self:!0,__source:!0};function Ay(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Iy.call(e,r)&&!Sy.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ks,type:t,key:o,ref:s,props:i,_owner:Id.current}}function zE(t,e){return{$$typeof:Ks,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sd(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ks}function BE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Lp=/\/+/g;function tc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BE(""+t.key):e.toString(36)}function qa(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ks:case NE:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+tc(s,0):r,Vp(i)?(n="",t!=null&&(n=t.replace(Lp,"$&/")+"/"),qa(i,e,n,"",function(u){return u})):i!=null&&(Sd(i)&&(i=zE(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Lp,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Vp(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+tc(o,a);s+=qa(o,e,n,l,i)}else if(l=UE(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+tc(o,a++),s+=qa(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ta(t,e,n){if(t==null)return t;var r=[],i=0;return qa(t,r,"","",function(o){return e.call(n,o,i++)}),r}function QE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kt={current:null},Ka={transition:null},HE={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:Ka,ReactCurrentOwner:Id};ae.Children={map:Ta,forEach:function(t,e,n){Ta(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ta(t,function(){e++}),e},toArray:function(t){return Ta(t,function(e){return e})||[]},only:function(t){if(!Sd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=ho;ae.Fragment=DE;ae.Profiler=LE;ae.PureComponent=wd;ae.StrictMode=VE;ae.Suspense=bE;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HE;ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ey({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Id.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Iy.call(e,l)&&!Sy.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ks,type:t.type,key:i,ref:o,props:r,_owner:s}};ae.createContext=function(t){return t={$$typeof:ME,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:jE,_context:t},t.Consumer=t};ae.createElement=Ay;ae.createFactory=function(t){var e=Ay.bind(null,t);return e.type=t,e};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:OE,render:t}};ae.isValidElement=Sd;ae.lazy=function(t){return{$$typeof:$E,_payload:{_status:-1,_result:t},_init:QE}};ae.memo=function(t,e){return{$$typeof:FE,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=Ka.transition;Ka.transition={};try{t()}finally{Ka.transition=e}};ae.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ae.useCallback=function(t,e){return kt.current.useCallback(t,e)};ae.useContext=function(t){return kt.current.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t){return kt.current.useDeferredValue(t)};ae.useEffect=function(t,e){return kt.current.useEffect(t,e)};ae.useId=function(){return kt.current.useId()};ae.useImperativeHandle=function(t,e,n){return kt.current.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return kt.current.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return kt.current.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return kt.current.useMemo(t,e)};ae.useReducer=function(t,e,n){return kt.current.useReducer(t,e,n)};ae.useRef=function(t){return kt.current.useRef(t)};ae.useState=function(t){return kt.current.useState(t)};ae.useSyncExternalStore=function(t,e,n){return kt.current.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return kt.current.useTransition()};ae.version="18.2.0";vy.exports=ae;var A=vy.exports;const WE=gy(A),qE=my({__proto__:null,default:WE},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KE=A,GE=Symbol.for("react.element"),YE=Symbol.for("react.fragment"),XE=Object.prototype.hasOwnProperty,JE=KE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZE={key:!0,ref:!0,__self:!0,__source:!0};function xy(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)XE.call(e,r)&&!ZE.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:GE,type:t,key:o,ref:s,props:i,_owner:JE.current}}Zl.Fragment=YE;Zl.jsx=xy;Zl.jsxs=xy;yy.exports=Zl;var m=yy.exports,Wc={},Ry={exports:{}},qt={},Cy={exports:{}},Py={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,W){var q=V.length;V.push(W);e:for(;0<q;){var le=q-1>>>1,ge=V[le];if(0<i(ge,W))V[le]=W,V[q]=ge,q=le;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var W=V[0],q=V.pop();if(q!==W){V[0]=q;e:for(var le=0,ge=V.length,Dt=ge>>>1;le<Dt;){var $e=2*(le+1)-1,B=V[$e],te=$e+1,At=V[te];if(0>i(B,q))te<ge&&0>i(At,B)?(V[le]=At,V[te]=q,le=te):(V[le]=B,V[$e]=q,le=$e);else if(te<ge&&0>i(At,q))V[le]=At,V[te]=q,le=te;else break e}}return W}function i(V,W){var q=V.sortIndex-W.sortIndex;return q!==0?q:V.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,h=null,d=3,g=!1,E=!1,_=!1,T=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(V){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=V)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function S(V){if(_=!1,y(V),!E)if(n(l)!==null)E=!0,Gt(D);else{var W=n(u);W!==null&&me(S,W.startTime-V)}}function D(V,W){E=!1,_&&(_=!1,p(k),k=-1),g=!0;var q=d;try{for(y(W),h=n(l);h!==null&&(!(h.expirationTime>W)||V&&!ne());){var le=h.callback;if(typeof le=="function"){h.callback=null,d=h.priorityLevel;var ge=le(h.expirationTime<=W);W=t.unstable_now(),typeof ge=="function"?h.callback=ge:h===n(l)&&r(l),y(W)}else r(l);h=n(l)}if(h!==null)var Dt=!0;else{var $e=n(u);$e!==null&&me(S,$e.startTime-W),Dt=!1}return Dt}finally{h=null,d=q,g=!1}}var v=!1,R=null,k=-1,O=5,U=-1;function ne(){return!(t.unstable_now()-U<O)}function pe(){if(R!==null){var V=t.unstable_now();U=V;var W=!0;try{W=R(!0,V)}finally{W?_e():(v=!1,R=null)}}else v=!1}var _e;if(typeof f=="function")_e=function(){f(pe)};else if(typeof MessageChannel<"u"){var pt=new MessageChannel,sn=pt.port2;pt.port1.onmessage=pe,_e=function(){sn.postMessage(null)}}else _e=function(){T(pe,0)};function Gt(V){R=V,v||(v=!0,_e())}function me(V,W){k=T(function(){V(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){E||g||(E=!0,Gt(D))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(d){case 1:case 2:case 3:var W=3;break;default:W=d}var q=d;d=W;try{return V()}finally{d=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,W){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var q=d;d=V;try{return W()}finally{d=q}},t.unstable_scheduleCallback=function(V,W,q){var le=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?le+q:le):q=le,V){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=q+ge,V={id:c++,callback:W,priorityLevel:V,startTime:q,expirationTime:ge,sortIndex:-1},q>le?(V.sortIndex=q,e(u,V),n(l)===null&&V===n(u)&&(_?(p(k),k=-1):_=!0,me(S,q-le))):(V.sortIndex=ge,e(l,V),E||g||(E=!0,Gt(D))),V},t.unstable_shouldYield=ne,t.unstable_wrapCallback=function(V){var W=d;return function(){var q=d;d=W;try{return V.apply(this,arguments)}finally{d=q}}}})(Py);Cy.exports=Py;var ew=Cy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky=A,Ht=ew;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ny=new Set,hs={};function li(t,e){Gi(t,e),Gi(t+"Capture",e)}function Gi(t,e){for(hs[t]=e,t=0;t<e.length;t++)Ny.add(e[t])}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qc=Object.prototype.hasOwnProperty,tw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jp={},Mp={};function nw(t){return qc.call(Mp,t)?!0:qc.call(jp,t)?!1:tw.test(t)?Mp[t]=!0:(jp[t]=!0,!1)}function rw(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function iw(t,e,n,r){if(e===null||typeof e>"u"||rw(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ft[t]=new Nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ft[e]=new Nt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ft[t]=new Nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ft[t]=new Nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ft[t]=new Nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ft[t]=new Nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ft[t]=new Nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ft[t]=new Nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ft[t]=new Nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ad=/[\-:]([a-z])/g;function xd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ad,xd);ft[e]=new Nt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ad,xd);ft[e]=new Nt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ad,xd);ft[e]=new Nt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ft[t]=new Nt(t,1,!1,t.toLowerCase(),null,!1,!1)});ft.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ft[t]=new Nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rd(t,e,n,r){var i=ft.hasOwnProperty(e)?ft[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(iw(e,n,i,r)&&(n=null),r||i===null?nw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Wn=ky.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ia=Symbol.for("react.element"),Ii=Symbol.for("react.portal"),Si=Symbol.for("react.fragment"),Cd=Symbol.for("react.strict_mode"),Kc=Symbol.for("react.profiler"),Dy=Symbol.for("react.provider"),Vy=Symbol.for("react.context"),Pd=Symbol.for("react.forward_ref"),Gc=Symbol.for("react.suspense"),Yc=Symbol.for("react.suspense_list"),kd=Symbol.for("react.memo"),tr=Symbol.for("react.lazy"),Ly=Symbol.for("react.offscreen"),Op=Symbol.iterator;function So(t){return t===null||typeof t!="object"?null:(t=Op&&t[Op]||t["@@iterator"],typeof t=="function"?t:null)}var Le=Object.assign,nc;function $o(t){if(nc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);nc=e&&e[1]||""}return`
`+nc+t}var rc=!1;function ic(t,e){if(!t||rc)return"";rc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{rc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$o(t):""}function ow(t){switch(t.tag){case 5:return $o(t.type);case 16:return $o("Lazy");case 13:return $o("Suspense");case 19:return $o("SuspenseList");case 0:case 2:case 15:return t=ic(t.type,!1),t;case 11:return t=ic(t.type.render,!1),t;case 1:return t=ic(t.type,!0),t;default:return""}}function Xc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Si:return"Fragment";case Ii:return"Portal";case Kc:return"Profiler";case Cd:return"StrictMode";case Gc:return"Suspense";case Yc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Vy:return(t.displayName||"Context")+".Consumer";case Dy:return(t._context.displayName||"Context")+".Provider";case Pd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kd:return e=t.displayName||null,e!==null?e:Xc(t.type)||"Memo";case tr:e=t._payload,t=t._init;try{return Xc(t(e))}catch{}}return null}function sw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xc(e);case 8:return e===Cd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ir(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aw(t){var e=jy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sa(t){t._valueTracker||(t._valueTracker=aw(t))}function My(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=jy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ul(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jc(t,e){var n=e.checked;return Le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ir(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Oy(t,e){e=e.checked,e!=null&&Rd(t,"checked",e,!1)}function Zc(t,e){Oy(t,e);var n=Ir(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?eh(t,e.type,n):e.hasOwnProperty("defaultValue")&&eh(t,e.type,Ir(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Fp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function eh(t,e,n){(e!=="number"||ul(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Uo=Array.isArray;function bi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ir(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function th(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return Le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $p(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(Uo(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ir(n)}}function by(t,e){var n=Ir(e.value),r=Ir(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Up(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Fy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Fy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Aa,$y=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Aa=Aa||document.createElement("div"),Aa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Aa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ds(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Go={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lw=["Webkit","ms","Moz","O"];Object.keys(Go).forEach(function(t){lw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Go[e]=Go[t]})});function Uy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Go.hasOwnProperty(t)&&Go[t]?(""+e).trim():e+"px"}function zy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Uy(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var uw=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rh(t,e){if(e){if(uw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function ih(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oh=null;function Nd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sh=null,Fi=null,$i=null;function zp(t){if(t=Xs(t)){if(typeof sh!="function")throw Error(N(280));var e=t.stateNode;e&&(e=iu(e),sh(t.stateNode,t.type,e))}}function By(t){Fi?$i?$i.push(t):$i=[t]:Fi=t}function Qy(){if(Fi){var t=Fi,e=$i;if($i=Fi=null,zp(t),e)for(t=0;t<e.length;t++)zp(e[t])}}function Hy(t,e){return t(e)}function Wy(){}var oc=!1;function qy(t,e,n){if(oc)return t(e,n);oc=!0;try{return Hy(t,e,n)}finally{oc=!1,(Fi!==null||$i!==null)&&(Wy(),Qy())}}function fs(t,e){var n=t.stateNode;if(n===null)return null;var r=iu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var ah=!1;if($n)try{var Ao={};Object.defineProperty(Ao,"passive",{get:function(){ah=!0}}),window.addEventListener("test",Ao,Ao),window.removeEventListener("test",Ao,Ao)}catch{ah=!1}function cw(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Yo=!1,cl=null,hl=!1,lh=null,hw={onError:function(t){Yo=!0,cl=t}};function dw(t,e,n,r,i,o,s,a,l){Yo=!1,cl=null,cw.apply(hw,arguments)}function fw(t,e,n,r,i,o,s,a,l){if(dw.apply(this,arguments),Yo){if(Yo){var u=cl;Yo=!1,cl=null}else throw Error(N(198));hl||(hl=!0,lh=u)}}function ui(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ky(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Bp(t){if(ui(t)!==t)throw Error(N(188))}function pw(t){var e=t.alternate;if(!e){if(e=ui(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Bp(i),t;if(o===r)return Bp(i),e;o=o.sibling}throw Error(N(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function Gy(t){return t=pw(t),t!==null?Yy(t):null}function Yy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Yy(t);if(e!==null)return e;t=t.sibling}return null}var Xy=Ht.unstable_scheduleCallback,Qp=Ht.unstable_cancelCallback,mw=Ht.unstable_shouldYield,gw=Ht.unstable_requestPaint,ze=Ht.unstable_now,yw=Ht.unstable_getCurrentPriorityLevel,Dd=Ht.unstable_ImmediatePriority,Jy=Ht.unstable_UserBlockingPriority,dl=Ht.unstable_NormalPriority,vw=Ht.unstable_LowPriority,Zy=Ht.unstable_IdlePriority,eu=null,Rn=null;function _w(t){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(eu,t,void 0,(t.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:Tw,Ew=Math.log,ww=Math.LN2;function Tw(t){return t>>>=0,t===0?32:31-(Ew(t)/ww|0)|0}var xa=64,Ra=4194304;function zo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=zo(a):(o&=s,o!==0&&(r=zo(o)))}else s=n&~i,s!==0?r=zo(s):o!==0&&(r=zo(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-dn(e),i=1<<n,r|=t[n],e&=~i;return r}function Iw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-dn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=Iw(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function uh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function e0(){var t=xa;return xa<<=1,!(xa&4194240)&&(xa=64),t}function sc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Gs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dn(e),t[e]=n}function Aw(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-dn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Vd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-dn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ye=0;function t0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var n0,Ld,r0,i0,o0,ch=!1,Ca=[],lr=null,ur=null,cr=null,ps=new Map,ms=new Map,rr=[],xw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hp(t,e){switch(t){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":ps.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ms.delete(e.pointerId)}}function xo(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Xs(e),e!==null&&Ld(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Rw(t,e,n,r,i){switch(e){case"focusin":return lr=xo(lr,t,e,n,r,i),!0;case"dragenter":return ur=xo(ur,t,e,n,r,i),!0;case"mouseover":return cr=xo(cr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ps.set(o,xo(ps.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ms.set(o,xo(ms.get(o)||null,t,e,n,r,i)),!0}return!1}function s0(t){var e=$r(t.target);if(e!==null){var n=ui(e);if(n!==null){if(e=n.tag,e===13){if(e=Ky(n),e!==null){t.blockedOn=e,o0(t.priority,function(){r0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ga(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);oh=r,n.target.dispatchEvent(r),oh=null}else return e=Xs(n),e!==null&&Ld(e),t.blockedOn=n,!1;e.shift()}return!0}function Wp(t,e,n){Ga(t)&&n.delete(e)}function Cw(){ch=!1,lr!==null&&Ga(lr)&&(lr=null),ur!==null&&Ga(ur)&&(ur=null),cr!==null&&Ga(cr)&&(cr=null),ps.forEach(Wp),ms.forEach(Wp)}function Ro(t,e){t.blockedOn===e&&(t.blockedOn=null,ch||(ch=!0,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,Cw)))}function gs(t){function e(i){return Ro(i,t)}if(0<Ca.length){Ro(Ca[0],t);for(var n=1;n<Ca.length;n++){var r=Ca[n];r.blockedOn===t&&(r.blockedOn=null)}}for(lr!==null&&Ro(lr,t),ur!==null&&Ro(ur,t),cr!==null&&Ro(cr,t),ps.forEach(e),ms.forEach(e),n=0;n<rr.length;n++)r=rr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<rr.length&&(n=rr[0],n.blockedOn===null);)s0(n),n.blockedOn===null&&rr.shift()}var Ui=Wn.ReactCurrentBatchConfig,pl=!0;function Pw(t,e,n,r){var i=ye,o=Ui.transition;Ui.transition=null;try{ye=1,jd(t,e,n,r)}finally{ye=i,Ui.transition=o}}function kw(t,e,n,r){var i=ye,o=Ui.transition;Ui.transition=null;try{ye=4,jd(t,e,n,r)}finally{ye=i,Ui.transition=o}}function jd(t,e,n,r){if(pl){var i=hh(t,e,n,r);if(i===null)gc(t,e,r,ml,n),Hp(t,r);else if(Rw(i,t,e,n,r))r.stopPropagation();else if(Hp(t,r),e&4&&-1<xw.indexOf(t)){for(;i!==null;){var o=Xs(i);if(o!==null&&n0(o),o=hh(t,e,n,r),o===null&&gc(t,e,r,ml,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else gc(t,e,r,null,n)}}var ml=null;function hh(t,e,n,r){if(ml=null,t=Nd(r),t=$r(t),t!==null)if(e=ui(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ky(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ml=t,null}function a0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yw()){case Dd:return 1;case Jy:return 4;case dl:case vw:return 16;case Zy:return 536870912;default:return 16}default:return 16}}var or=null,Md=null,Ya=null;function l0(){if(Ya)return Ya;var t,e=Md,n=e.length,r,i="value"in or?or.value:or.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Ya=i.slice(t,1<r?1-r:void 0)}function Xa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pa(){return!0}function qp(){return!1}function Kt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Pa:qp,this.isPropagationStopped=qp,this}return Le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pa)},persist:function(){},isPersistent:Pa}),e}var fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Od=Kt(fo),Ys=Le({},fo,{view:0,detail:0}),Nw=Kt(Ys),ac,lc,Co,tu=Le({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Co&&(Co&&t.type==="mousemove"?(ac=t.screenX-Co.screenX,lc=t.screenY-Co.screenY):lc=ac=0,Co=t),ac)},movementY:function(t){return"movementY"in t?t.movementY:lc}}),Kp=Kt(tu),Dw=Le({},tu,{dataTransfer:0}),Vw=Kt(Dw),Lw=Le({},Ys,{relatedTarget:0}),uc=Kt(Lw),jw=Le({},fo,{animationName:0,elapsedTime:0,pseudoElement:0}),Mw=Kt(jw),Ow=Le({},fo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bw=Kt(Ow),Fw=Le({},fo,{data:0}),Gp=Kt(Fw),$w={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zw[t])?!!e[t]:!1}function bd(){return Bw}var Qw=Le({},Ys,{key:function(t){if(t.key){var e=$w[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bd,charCode:function(t){return t.type==="keypress"?Xa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hw=Kt(Qw),Ww=Le({},tu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yp=Kt(Ww),qw=Le({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bd}),Kw=Kt(qw),Gw=Le({},fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yw=Kt(Gw),Xw=Le({},tu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Jw=Kt(Xw),Zw=[9,13,27,32],Fd=$n&&"CompositionEvent"in window,Xo=null;$n&&"documentMode"in document&&(Xo=document.documentMode);var eT=$n&&"TextEvent"in window&&!Xo,u0=$n&&(!Fd||Xo&&8<Xo&&11>=Xo),Xp=" ",Jp=!1;function c0(t,e){switch(t){case"keyup":return Zw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ai=!1;function tT(t,e){switch(t){case"compositionend":return h0(e);case"keypress":return e.which!==32?null:(Jp=!0,Xp);case"textInput":return t=e.data,t===Xp&&Jp?null:t;default:return null}}function nT(t,e){if(Ai)return t==="compositionend"||!Fd&&c0(t,e)?(t=l0(),Ya=Md=or=null,Ai=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return u0&&e.locale!=="ko"?null:e.data;default:return null}}var rT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rT[t.type]:e==="textarea"}function d0(t,e,n,r){By(r),e=gl(e,"onChange"),0<e.length&&(n=new Od("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Jo=null,ys=null;function iT(t){I0(t,0)}function nu(t){var e=Ci(t);if(My(e))return t}function oT(t,e){if(t==="change")return e}var f0=!1;if($n){var cc;if($n){var hc="oninput"in document;if(!hc){var em=document.createElement("div");em.setAttribute("oninput","return;"),hc=typeof em.oninput=="function"}cc=hc}else cc=!1;f0=cc&&(!document.documentMode||9<document.documentMode)}function tm(){Jo&&(Jo.detachEvent("onpropertychange",p0),ys=Jo=null)}function p0(t){if(t.propertyName==="value"&&nu(ys)){var e=[];d0(e,ys,t,Nd(t)),qy(iT,e)}}function sT(t,e,n){t==="focusin"?(tm(),Jo=e,ys=n,Jo.attachEvent("onpropertychange",p0)):t==="focusout"&&tm()}function aT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nu(ys)}function lT(t,e){if(t==="click")return nu(e)}function uT(t,e){if(t==="input"||t==="change")return nu(e)}function cT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mn=typeof Object.is=="function"?Object.is:cT;function vs(t,e){if(mn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!qc.call(e,i)||!mn(t[i],e[i]))return!1}return!0}function nm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rm(t,e){var n=nm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nm(n)}}function m0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?m0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function g0(){for(var t=window,e=ul();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ul(t.document)}return e}function $d(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function hT(t){var e=g0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&m0(n.ownerDocument.documentElement,n)){if(r!==null&&$d(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=rm(n,o);var s=rm(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var dT=$n&&"documentMode"in document&&11>=document.documentMode,xi=null,dh=null,Zo=null,fh=!1;function im(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fh||xi==null||xi!==ul(r)||(r=xi,"selectionStart"in r&&$d(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zo&&vs(Zo,r)||(Zo=r,r=gl(dh,"onSelect"),0<r.length&&(e=new Od("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xi)))}function ka(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ri={animationend:ka("Animation","AnimationEnd"),animationiteration:ka("Animation","AnimationIteration"),animationstart:ka("Animation","AnimationStart"),transitionend:ka("Transition","TransitionEnd")},dc={},y0={};$n&&(y0=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function ru(t){if(dc[t])return dc[t];if(!Ri[t])return t;var e=Ri[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in y0)return dc[t]=e[n];return t}var v0=ru("animationend"),_0=ru("animationiteration"),E0=ru("animationstart"),w0=ru("transitionend"),T0=new Map,om="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(t,e){T0.set(t,e),li(e,[t])}for(var fc=0;fc<om.length;fc++){var pc=om[fc],fT=pc.toLowerCase(),pT=pc[0].toUpperCase()+pc.slice(1);Cr(fT,"on"+pT)}Cr(v0,"onAnimationEnd");Cr(_0,"onAnimationIteration");Cr(E0,"onAnimationStart");Cr("dblclick","onDoubleClick");Cr("focusin","onFocus");Cr("focusout","onBlur");Cr(w0,"onTransitionEnd");Gi("onMouseEnter",["mouseout","mouseover"]);Gi("onMouseLeave",["mouseout","mouseover"]);Gi("onPointerEnter",["pointerout","pointerover"]);Gi("onPointerLeave",["pointerout","pointerover"]);li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));li("onBeforeInput",["compositionend","keypress","textInput","paste"]);li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bo));function sm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,fw(r,e,void 0,t),t.currentTarget=null}function I0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;sm(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;sm(i,a,u),o=l}}}if(hl)throw t=lh,hl=!1,lh=null,t}function Ae(t,e){var n=e[vh];n===void 0&&(n=e[vh]=new Set);var r=t+"__bubble";n.has(r)||(S0(e,t,2,!1),n.add(r))}function mc(t,e,n){var r=0;e&&(r|=4),S0(n,t,r,e)}var Na="_reactListening"+Math.random().toString(36).slice(2);function _s(t){if(!t[Na]){t[Na]=!0,Ny.forEach(function(n){n!=="selectionchange"&&(mT.has(n)||mc(n,!1,t),mc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Na]||(e[Na]=!0,mc("selectionchange",!1,e))}}function S0(t,e,n,r){switch(a0(e)){case 1:var i=Pw;break;case 4:i=kw;break;default:i=jd}n=i.bind(null,e,n,t),i=void 0,!ah||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function gc(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=$r(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}qy(function(){var u=o,c=Nd(n),h=[];e:{var d=T0.get(t);if(d!==void 0){var g=Od,E=t;switch(t){case"keypress":if(Xa(n)===0)break e;case"keydown":case"keyup":g=Hw;break;case"focusin":E="focus",g=uc;break;case"focusout":E="blur",g=uc;break;case"beforeblur":case"afterblur":g=uc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Kp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Vw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Kw;break;case v0:case _0:case E0:g=Mw;break;case w0:g=Yw;break;case"scroll":g=Nw;break;case"wheel":g=Jw;break;case"copy":case"cut":case"paste":g=bw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Yp}var _=(e&4)!==0,T=!_&&t==="scroll",p=_?d!==null?d+"Capture":null:d;_=[];for(var f=u,y;f!==null;){y=f;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,p!==null&&(S=fs(f,p),S!=null&&_.push(Es(f,S,y)))),T)break;f=f.return}0<_.length&&(d=new g(d,E,null,n,c),h.push({event:d,listeners:_}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",d&&n!==oh&&(E=n.relatedTarget||n.fromElement)&&($r(E)||E[Un]))break e;if((g||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,g?(E=n.relatedTarget||n.toElement,g=u,E=E?$r(E):null,E!==null&&(T=ui(E),E!==T||E.tag!==5&&E.tag!==6)&&(E=null)):(g=null,E=u),g!==E)){if(_=Kp,S="onMouseLeave",p="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(_=Yp,S="onPointerLeave",p="onPointerEnter",f="pointer"),T=g==null?d:Ci(g),y=E==null?d:Ci(E),d=new _(S,f+"leave",g,n,c),d.target=T,d.relatedTarget=y,S=null,$r(c)===u&&(_=new _(p,f+"enter",E,n,c),_.target=y,_.relatedTarget=T,S=_),T=S,g&&E)t:{for(_=g,p=E,f=0,y=_;y;y=vi(y))f++;for(y=0,S=p;S;S=vi(S))y++;for(;0<f-y;)_=vi(_),f--;for(;0<y-f;)p=vi(p),y--;for(;f--;){if(_===p||p!==null&&_===p.alternate)break t;_=vi(_),p=vi(p)}_=null}else _=null;g!==null&&am(h,d,g,_,!1),E!==null&&T!==null&&am(h,T,E,_,!0)}}e:{if(d=u?Ci(u):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var D=oT;else if(Zp(d))if(f0)D=uT;else{D=aT;var v=sT}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(D=lT);if(D&&(D=D(t,u))){d0(h,D,n,c);break e}v&&v(t,d,u),t==="focusout"&&(v=d._wrapperState)&&v.controlled&&d.type==="number"&&eh(d,"number",d.value)}switch(v=u?Ci(u):window,t){case"focusin":(Zp(v)||v.contentEditable==="true")&&(xi=v,dh=u,Zo=null);break;case"focusout":Zo=dh=xi=null;break;case"mousedown":fh=!0;break;case"contextmenu":case"mouseup":case"dragend":fh=!1,im(h,n,c);break;case"selectionchange":if(dT)break;case"keydown":case"keyup":im(h,n,c)}var R;if(Fd)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Ai?c0(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(u0&&n.locale!=="ko"&&(Ai||k!=="onCompositionStart"?k==="onCompositionEnd"&&Ai&&(R=l0()):(or=c,Md="value"in or?or.value:or.textContent,Ai=!0)),v=gl(u,k),0<v.length&&(k=new Gp(k,t,null,n,c),h.push({event:k,listeners:v}),R?k.data=R:(R=h0(n),R!==null&&(k.data=R)))),(R=eT?tT(t,n):nT(t,n))&&(u=gl(u,"onBeforeInput"),0<u.length&&(c=new Gp("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=R))}I0(h,e)})}function Es(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=fs(t,n),o!=null&&r.unshift(Es(t,o,i)),o=fs(t,e),o!=null&&r.push(Es(t,o,i))),t=t.return}return r}function vi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function am(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=fs(n,o),l!=null&&s.unshift(Es(n,l,a))):i||(l=fs(n,o),l!=null&&s.push(Es(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var gT=/\r\n?/g,yT=/\u0000|\uFFFD/g;function lm(t){return(typeof t=="string"?t:""+t).replace(gT,`
`).replace(yT,"")}function Da(t,e,n){if(e=lm(e),lm(t)!==e&&n)throw Error(N(425))}function yl(){}var ph=null,mh=null;function gh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var yh=typeof setTimeout=="function"?setTimeout:void 0,vT=typeof clearTimeout=="function"?clearTimeout:void 0,um=typeof Promise=="function"?Promise:void 0,_T=typeof queueMicrotask=="function"?queueMicrotask:typeof um<"u"?function(t){return um.resolve(null).then(t).catch(ET)}:yh;function ET(t){setTimeout(function(){throw t})}function yc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),gs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);gs(e)}function hr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var po=Math.random().toString(36).slice(2),In="__reactFiber$"+po,ws="__reactProps$"+po,Un="__reactContainer$"+po,vh="__reactEvents$"+po,wT="__reactListeners$"+po,TT="__reactHandles$"+po;function $r(t){var e=t[In];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Un]||n[In]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cm(t);t!==null;){if(n=t[In])return n;t=cm(t)}return e}t=n,n=t.parentNode}return null}function Xs(t){return t=t[In]||t[Un],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ci(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function iu(t){return t[ws]||null}var _h=[],Pi=-1;function Pr(t){return{current:t}}function Ce(t){0>Pi||(t.current=_h[Pi],_h[Pi]=null,Pi--)}function Ie(t,e){Pi++,_h[Pi]=t.current,t.current=e}var Sr={},It=Pr(Sr),Mt=Pr(!1),Jr=Sr;function Yi(t,e){var n=t.type.contextTypes;if(!n)return Sr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ot(t){return t=t.childContextTypes,t!=null}function vl(){Ce(Mt),Ce(It)}function hm(t,e,n){if(It.current!==Sr)throw Error(N(168));Ie(It,e),Ie(Mt,n)}function A0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(N(108,sw(t)||"Unknown",i));return Le({},n,r)}function _l(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Sr,Jr=It.current,Ie(It,t),Ie(Mt,Mt.current),!0}function dm(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=A0(t,e,Jr),r.__reactInternalMemoizedMergedChildContext=t,Ce(Mt),Ce(It),Ie(It,t)):Ce(Mt),Ie(Mt,n)}var jn=null,ou=!1,vc=!1;function x0(t){jn===null?jn=[t]:jn.push(t)}function IT(t){ou=!0,x0(t)}function kr(){if(!vc&&jn!==null){vc=!0;var t=0,e=ye;try{var n=jn;for(ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}jn=null,ou=!1}catch(i){throw jn!==null&&(jn=jn.slice(t+1)),Xy(Dd,kr),i}finally{ye=e,vc=!1}}return null}var ki=[],Ni=0,El=null,wl=0,Jt=[],Zt=0,Zr=null,Mn=1,On="";function Mr(t,e){ki[Ni++]=wl,ki[Ni++]=El,El=t,wl=e}function R0(t,e,n){Jt[Zt++]=Mn,Jt[Zt++]=On,Jt[Zt++]=Zr,Zr=t;var r=Mn;t=On;var i=32-dn(r)-1;r&=~(1<<i),n+=1;var o=32-dn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Mn=1<<32-dn(e)+i|n<<i|r,On=o+t}else Mn=1<<o|n<<i|r,On=t}function Ud(t){t.return!==null&&(Mr(t,1),R0(t,1,0))}function zd(t){for(;t===El;)El=ki[--Ni],ki[Ni]=null,wl=ki[--Ni],ki[Ni]=null;for(;t===Zr;)Zr=Jt[--Zt],Jt[Zt]=null,On=Jt[--Zt],Jt[Zt]=null,Mn=Jt[--Zt],Jt[Zt]=null}var Qt=null,zt=null,ke=!1,hn=null;function C0(t,e){var n=tn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function fm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qt=t,zt=hr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qt=t,zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zr!==null?{id:Mn,overflow:On}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=tn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qt=t,zt=null,!0):!1;default:return!1}}function Eh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wh(t){if(ke){var e=zt;if(e){var n=e;if(!fm(t,e)){if(Eh(t))throw Error(N(418));e=hr(n.nextSibling);var r=Qt;e&&fm(t,e)?C0(r,n):(t.flags=t.flags&-4097|2,ke=!1,Qt=t)}}else{if(Eh(t))throw Error(N(418));t.flags=t.flags&-4097|2,ke=!1,Qt=t}}}function pm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qt=t}function Va(t){if(t!==Qt)return!1;if(!ke)return pm(t),ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gh(t.type,t.memoizedProps)),e&&(e=zt)){if(Eh(t))throw P0(),Error(N(418));for(;e;)C0(t,e),e=hr(e.nextSibling)}if(pm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zt=hr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zt=null}}else zt=Qt?hr(t.stateNode.nextSibling):null;return!0}function P0(){for(var t=zt;t;)t=hr(t.nextSibling)}function Xi(){zt=Qt=null,ke=!1}function Bd(t){hn===null?hn=[t]:hn.push(t)}var ST=Wn.ReactCurrentBatchConfig;function ln(t,e){if(t&&t.defaultProps){e=Le({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Tl=Pr(null),Il=null,Di=null,Qd=null;function Hd(){Qd=Di=Il=null}function Wd(t){var e=Tl.current;Ce(Tl),t._currentValue=e}function Th(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function zi(t,e){Il=t,Qd=Di=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jt=!0),t.firstContext=null)}function rn(t){var e=t._currentValue;if(Qd!==t)if(t={context:t,memoizedValue:e,next:null},Di===null){if(Il===null)throw Error(N(308));Di=t,Il.dependencies={lanes:0,firstContext:t}}else Di=Di.next=t;return e}var Ur=null;function qd(t){Ur===null?Ur=[t]:Ur.push(t)}function k0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,qd(e)):(n.next=i.next,i.next=n),e.interleaved=n,zn(t,r)}function zn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var nr=!1;function Kd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function dr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,zn(t,n)}return i=r.interleaved,i===null?(e.next=e,qd(r)):(e.next=i.next,i.next=e),r.interleaved=e,zn(t,n)}function Ja(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vd(t,n)}}function mm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Sl(t,e,n,r){var i=t.updateQueue;nr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,g=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,_=a;switch(d=e,g=n,_.tag){case 1:if(E=_.payload,typeof E=="function"){h=E.call(g,h,d);break e}h=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=_.payload,d=typeof E=="function"?E.call(g,h,d):E,d==null)break e;h=Le({},h,d);break e;case 2:nr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else g={eventTime:g,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=h):c=c.next=g,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ti|=s,t.lanes=s,t.memoizedState=h}}function gm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(N(191,i));i.call(r)}}}var D0=new ky.Component().refs;function Ih(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Le({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var su={isMounted:function(t){return(t=t._reactInternals)?ui(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pt(),i=pr(t),o=Fn(r,i);o.payload=e,n!=null&&(o.callback=n),e=dr(t,o,i),e!==null&&(fn(e,t,i,r),Ja(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pt(),i=pr(t),o=Fn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=dr(t,o,i),e!==null&&(fn(e,t,i,r),Ja(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pt(),r=pr(t),i=Fn(n,r);i.tag=2,e!=null&&(i.callback=e),e=dr(t,i,r),e!==null&&(fn(e,t,r,n),Ja(e,t,r))}};function ym(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!vs(n,r)||!vs(i,o):!0}function V0(t,e,n){var r=!1,i=Sr,o=e.contextType;return typeof o=="object"&&o!==null?o=rn(o):(i=Ot(e)?Jr:It.current,r=e.contextTypes,o=(r=r!=null)?Yi(t,i):Sr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=su,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function vm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&su.enqueueReplaceState(e,e.state,null)}function Sh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=D0,Kd(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=rn(o):(o=Ot(e)?Jr:It.current,i.context=Yi(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Ih(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&su.enqueueReplaceState(i,i.state,null),Sl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Po(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===D0&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function La(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _m(t){var e=t._init;return e(t._payload)}function L0(t){function e(p,f){if(t){var y=p.deletions;y===null?(p.deletions=[f],p.flags|=16):y.push(f)}}function n(p,f){if(!t)return null;for(;f!==null;)e(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function i(p,f){return p=mr(p,f),p.index=0,p.sibling=null,p}function o(p,f,y){return p.index=y,t?(y=p.alternate,y!==null?(y=y.index,y<f?(p.flags|=2,f):y):(p.flags|=2,f)):(p.flags|=1048576,f)}function s(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,f,y,S){return f===null||f.tag!==6?(f=Ac(y,p.mode,S),f.return=p,f):(f=i(f,y),f.return=p,f)}function l(p,f,y,S){var D=y.type;return D===Si?c(p,f,y.props.children,S,y.key):f!==null&&(f.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===tr&&_m(D)===f.type)?(S=i(f,y.props),S.ref=Po(p,f,y),S.return=p,S):(S=il(y.type,y.key,y.props,null,p.mode,S),S.ref=Po(p,f,y),S.return=p,S)}function u(p,f,y,S){return f===null||f.tag!==4||f.stateNode.containerInfo!==y.containerInfo||f.stateNode.implementation!==y.implementation?(f=xc(y,p.mode,S),f.return=p,f):(f=i(f,y.children||[]),f.return=p,f)}function c(p,f,y,S,D){return f===null||f.tag!==7?(f=Yr(y,p.mode,S,D),f.return=p,f):(f=i(f,y),f.return=p,f)}function h(p,f,y){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Ac(""+f,p.mode,y),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ia:return y=il(f.type,f.key,f.props,null,p.mode,y),y.ref=Po(p,null,f),y.return=p,y;case Ii:return f=xc(f,p.mode,y),f.return=p,f;case tr:var S=f._init;return h(p,S(f._payload),y)}if(Uo(f)||So(f))return f=Yr(f,p.mode,y,null),f.return=p,f;La(p,f)}return null}function d(p,f,y,S){var D=f!==null?f.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return D!==null?null:a(p,f,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ia:return y.key===D?l(p,f,y,S):null;case Ii:return y.key===D?u(p,f,y,S):null;case tr:return D=y._init,d(p,f,D(y._payload),S)}if(Uo(y)||So(y))return D!==null?null:c(p,f,y,S,null);La(p,y)}return null}function g(p,f,y,S,D){if(typeof S=="string"&&S!==""||typeof S=="number")return p=p.get(y)||null,a(f,p,""+S,D);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ia:return p=p.get(S.key===null?y:S.key)||null,l(f,p,S,D);case Ii:return p=p.get(S.key===null?y:S.key)||null,u(f,p,S,D);case tr:var v=S._init;return g(p,f,y,v(S._payload),D)}if(Uo(S)||So(S))return p=p.get(y)||null,c(f,p,S,D,null);La(f,S)}return null}function E(p,f,y,S){for(var D=null,v=null,R=f,k=f=0,O=null;R!==null&&k<y.length;k++){R.index>k?(O=R,R=null):O=R.sibling;var U=d(p,R,y[k],S);if(U===null){R===null&&(R=O);break}t&&R&&U.alternate===null&&e(p,R),f=o(U,f,k),v===null?D=U:v.sibling=U,v=U,R=O}if(k===y.length)return n(p,R),ke&&Mr(p,k),D;if(R===null){for(;k<y.length;k++)R=h(p,y[k],S),R!==null&&(f=o(R,f,k),v===null?D=R:v.sibling=R,v=R);return ke&&Mr(p,k),D}for(R=r(p,R);k<y.length;k++)O=g(R,p,k,y[k],S),O!==null&&(t&&O.alternate!==null&&R.delete(O.key===null?k:O.key),f=o(O,f,k),v===null?D=O:v.sibling=O,v=O);return t&&R.forEach(function(ne){return e(p,ne)}),ke&&Mr(p,k),D}function _(p,f,y,S){var D=So(y);if(typeof D!="function")throw Error(N(150));if(y=D.call(y),y==null)throw Error(N(151));for(var v=D=null,R=f,k=f=0,O=null,U=y.next();R!==null&&!U.done;k++,U=y.next()){R.index>k?(O=R,R=null):O=R.sibling;var ne=d(p,R,U.value,S);if(ne===null){R===null&&(R=O);break}t&&R&&ne.alternate===null&&e(p,R),f=o(ne,f,k),v===null?D=ne:v.sibling=ne,v=ne,R=O}if(U.done)return n(p,R),ke&&Mr(p,k),D;if(R===null){for(;!U.done;k++,U=y.next())U=h(p,U.value,S),U!==null&&(f=o(U,f,k),v===null?D=U:v.sibling=U,v=U);return ke&&Mr(p,k),D}for(R=r(p,R);!U.done;k++,U=y.next())U=g(R,p,k,U.value,S),U!==null&&(t&&U.alternate!==null&&R.delete(U.key===null?k:U.key),f=o(U,f,k),v===null?D=U:v.sibling=U,v=U);return t&&R.forEach(function(pe){return e(p,pe)}),ke&&Mr(p,k),D}function T(p,f,y,S){if(typeof y=="object"&&y!==null&&y.type===Si&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ia:e:{for(var D=y.key,v=f;v!==null;){if(v.key===D){if(D=y.type,D===Si){if(v.tag===7){n(p,v.sibling),f=i(v,y.props.children),f.return=p,p=f;break e}}else if(v.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===tr&&_m(D)===v.type){n(p,v.sibling),f=i(v,y.props),f.ref=Po(p,v,y),f.return=p,p=f;break e}n(p,v);break}else e(p,v);v=v.sibling}y.type===Si?(f=Yr(y.props.children,p.mode,S,y.key),f.return=p,p=f):(S=il(y.type,y.key,y.props,null,p.mode,S),S.ref=Po(p,f,y),S.return=p,p=S)}return s(p);case Ii:e:{for(v=y.key;f!==null;){if(f.key===v)if(f.tag===4&&f.stateNode.containerInfo===y.containerInfo&&f.stateNode.implementation===y.implementation){n(p,f.sibling),f=i(f,y.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else e(p,f);f=f.sibling}f=xc(y,p.mode,S),f.return=p,p=f}return s(p);case tr:return v=y._init,T(p,f,v(y._payload),S)}if(Uo(y))return E(p,f,y,S);if(So(y))return _(p,f,y,S);La(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,f!==null&&f.tag===6?(n(p,f.sibling),f=i(f,y),f.return=p,p=f):(n(p,f),f=Ac(y,p.mode,S),f.return=p,p=f),s(p)):n(p,f)}return T}var Ji=L0(!0),j0=L0(!1),Js={},Cn=Pr(Js),Ts=Pr(Js),Is=Pr(Js);function zr(t){if(t===Js)throw Error(N(174));return t}function Gd(t,e){switch(Ie(Is,e),Ie(Ts,t),Ie(Cn,Js),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=nh(e,t)}Ce(Cn),Ie(Cn,e)}function Zi(){Ce(Cn),Ce(Ts),Ce(Is)}function M0(t){zr(Is.current);var e=zr(Cn.current),n=nh(e,t.type);e!==n&&(Ie(Ts,t),Ie(Cn,n))}function Yd(t){Ts.current===t&&(Ce(Cn),Ce(Ts))}var De=Pr(0);function Al(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _c=[];function Xd(){for(var t=0;t<_c.length;t++)_c[t]._workInProgressVersionPrimary=null;_c.length=0}var Za=Wn.ReactCurrentDispatcher,Ec=Wn.ReactCurrentBatchConfig,ei=0,Ve=null,Ke=null,tt=null,xl=!1,es=!1,Ss=0,AT=0;function mt(){throw Error(N(321))}function Jd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!mn(t[n],e[n]))return!1;return!0}function Zd(t,e,n,r,i,o){if(ei=o,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Za.current=t===null||t.memoizedState===null?PT:kT,t=n(r,i),es){o=0;do{if(es=!1,Ss=0,25<=o)throw Error(N(301));o+=1,tt=Ke=null,e.updateQueue=null,Za.current=NT,t=n(r,i)}while(es)}if(Za.current=Rl,e=Ke!==null&&Ke.next!==null,ei=0,tt=Ke=Ve=null,xl=!1,e)throw Error(N(300));return t}function ef(){var t=Ss!==0;return Ss=0,t}function Tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Ve.memoizedState=tt=t:tt=tt.next=t,tt}function on(){if(Ke===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var e=tt===null?Ve.memoizedState:tt.next;if(e!==null)tt=e,Ke=t;else{if(t===null)throw Error(N(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},tt===null?Ve.memoizedState=tt=t:tt=tt.next=t}return tt}function As(t,e){return typeof e=="function"?e(t):e}function wc(t){var e=on(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=Ke,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((ei&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,Ve.lanes|=c,ti|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,mn(r,e.memoizedState)||(jt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ve.lanes|=o,ti|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Tc(t){var e=on(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);mn(o,e.memoizedState)||(jt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function O0(){}function b0(t,e){var n=Ve,r=on(),i=e(),o=!mn(r.memoizedState,i);if(o&&(r.memoizedState=i,jt=!0),r=r.queue,tf(U0.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,xs(9,$0.bind(null,n,r,i,e),void 0,null),nt===null)throw Error(N(349));ei&30||F0(n,e,i)}return i}function F0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $0(t,e,n,r){e.value=n,e.getSnapshot=r,z0(e)&&B0(t)}function U0(t,e,n){return n(function(){z0(e)&&B0(t)})}function z0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mn(t,n)}catch{return!0}}function B0(t){var e=zn(t,1);e!==null&&fn(e,t,1,-1)}function Em(t){var e=Tn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:t},e.queue=t,t=t.dispatch=CT.bind(null,Ve,t),[e.memoizedState,t]}function xs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Q0(){return on().memoizedState}function el(t,e,n,r){var i=Tn();Ve.flags|=t,i.memoizedState=xs(1|e,n,void 0,r===void 0?null:r)}function au(t,e,n,r){var i=on();r=r===void 0?null:r;var o=void 0;if(Ke!==null){var s=Ke.memoizedState;if(o=s.destroy,r!==null&&Jd(r,s.deps)){i.memoizedState=xs(e,n,o,r);return}}Ve.flags|=t,i.memoizedState=xs(1|e,n,o,r)}function wm(t,e){return el(8390656,8,t,e)}function tf(t,e){return au(2048,8,t,e)}function H0(t,e){return au(4,2,t,e)}function W0(t,e){return au(4,4,t,e)}function q0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function K0(t,e,n){return n=n!=null?n.concat([t]):null,au(4,4,q0.bind(null,e,t),n)}function nf(){}function G0(t,e){var n=on();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Y0(t,e){var n=on();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function X0(t,e,n){return ei&21?(mn(n,e)||(n=e0(),Ve.lanes|=n,ti|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jt=!0),t.memoizedState=n)}function xT(t,e){var n=ye;ye=n!==0&&4>n?n:4,t(!0);var r=Ec.transition;Ec.transition={};try{t(!1),e()}finally{ye=n,Ec.transition=r}}function J0(){return on().memoizedState}function RT(t,e,n){var r=pr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Z0(t))ev(e,n);else if(n=k0(t,e,n,r),n!==null){var i=Pt();fn(n,t,r,i),tv(n,e,r)}}function CT(t,e,n){var r=pr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Z0(t))ev(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,mn(a,s)){var l=e.interleaved;l===null?(i.next=i,qd(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=k0(t,e,i,r),n!==null&&(i=Pt(),fn(n,t,r,i),tv(n,e,r))}}function Z0(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function ev(t,e){es=xl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vd(t,n)}}var Rl={readContext:rn,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},PT={readContext:rn,useCallback:function(t,e){return Tn().memoizedState=[t,e===void 0?null:e],t},useContext:rn,useEffect:wm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,el(4194308,4,q0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return el(4194308,4,t,e)},useInsertionEffect:function(t,e){return el(4,2,t,e)},useMemo:function(t,e){var n=Tn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Tn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=RT.bind(null,Ve,t),[r.memoizedState,t]},useRef:function(t){var e=Tn();return t={current:t},e.memoizedState=t},useState:Em,useDebugValue:nf,useDeferredValue:function(t){return Tn().memoizedState=t},useTransition:function(){var t=Em(!1),e=t[0];return t=xT.bind(null,t[1]),Tn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ve,i=Tn();if(ke){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),nt===null)throw Error(N(349));ei&30||F0(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,wm(U0.bind(null,r,o,t),[t]),r.flags|=2048,xs(9,$0.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Tn(),e=nt.identifierPrefix;if(ke){var n=On,r=Mn;n=(r&~(1<<32-dn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ss++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=AT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kT={readContext:rn,useCallback:G0,useContext:rn,useEffect:tf,useImperativeHandle:K0,useInsertionEffect:H0,useLayoutEffect:W0,useMemo:Y0,useReducer:wc,useRef:Q0,useState:function(){return wc(As)},useDebugValue:nf,useDeferredValue:function(t){var e=on();return X0(e,Ke.memoizedState,t)},useTransition:function(){var t=wc(As)[0],e=on().memoizedState;return[t,e]},useMutableSource:O0,useSyncExternalStore:b0,useId:J0,unstable_isNewReconciler:!1},NT={readContext:rn,useCallback:G0,useContext:rn,useEffect:tf,useImperativeHandle:K0,useInsertionEffect:H0,useLayoutEffect:W0,useMemo:Y0,useReducer:Tc,useRef:Q0,useState:function(){return Tc(As)},useDebugValue:nf,useDeferredValue:function(t){var e=on();return Ke===null?e.memoizedState=t:X0(e,Ke.memoizedState,t)},useTransition:function(){var t=Tc(As)[0],e=on().memoizedState;return[t,e]},useMutableSource:O0,useSyncExternalStore:b0,useId:J0,unstable_isNewReconciler:!1};function eo(t,e){try{var n="",r=e;do n+=ow(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Ic(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ah(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var DT=typeof WeakMap=="function"?WeakMap:Map;function nv(t,e,n){n=Fn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Pl||(Pl=!0,jh=r),Ah(t,e)},n}function rv(t,e,n){n=Fn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ah(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ah(t,e),typeof r!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Tm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new DT;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=WT.bind(null,t,e,n),e.then(t,t))}function Im(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Sm(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Fn(-1,1),e.tag=2,dr(n,e,1))),n.lanes|=1),t)}var VT=Wn.ReactCurrentOwner,jt=!1;function Rt(t,e,n,r){e.child=t===null?j0(e,null,n,r):Ji(e,t.child,n,r)}function Am(t,e,n,r,i){n=n.render;var o=e.ref;return zi(e,i),r=Zd(t,e,n,r,o,i),n=ef(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bn(t,e,i)):(ke&&n&&Ud(e),e.flags|=1,Rt(t,e,r,i),e.child)}function xm(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!hf(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,iv(t,e,o,r,i)):(t=il(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:vs,n(s,r)&&t.ref===e.ref)return Bn(t,e,i)}return e.flags|=1,t=mr(o,r),t.ref=e.ref,t.return=e,e.child=t}function iv(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(vs(o,r)&&t.ref===e.ref)if(jt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(jt=!0);else return e.lanes=t.lanes,Bn(t,e,i)}return xh(t,e,n,r,i)}function ov(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Li,$t),$t|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ie(Li,$t),$t|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ie(Li,$t),$t|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ie(Li,$t),$t|=r;return Rt(t,e,i,n),e.child}function sv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xh(t,e,n,r,i){var o=Ot(n)?Jr:It.current;return o=Yi(e,o),zi(e,i),n=Zd(t,e,n,r,o,i),r=ef(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bn(t,e,i)):(ke&&r&&Ud(e),e.flags|=1,Rt(t,e,n,i),e.child)}function Rm(t,e,n,r,i){if(Ot(n)){var o=!0;_l(e)}else o=!1;if(zi(e,i),e.stateNode===null)tl(t,e),V0(e,n,r),Sh(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=rn(u):(u=Ot(n)?Jr:It.current,u=Yi(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&vm(e,s,r,u),nr=!1;var d=e.memoizedState;s.state=d,Sl(e,r,s,i),l=e.memoizedState,a!==r||d!==l||Mt.current||nr?(typeof c=="function"&&(Ih(e,n,c,r),l=e.memoizedState),(a=nr||ym(e,n,a,r,d,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,N0(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ln(e.type,a),s.props=u,h=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=rn(l):(l=Ot(n)?Jr:It.current,l=Yi(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||d!==l)&&vm(e,s,r,l),nr=!1,d=e.memoizedState,s.state=d,Sl(e,r,s,i);var E=e.memoizedState;a!==h||d!==E||Mt.current||nr?(typeof g=="function"&&(Ih(e,n,g,r),E=e.memoizedState),(u=nr||ym(e,n,u,r,d,E,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,E,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,E,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),s.props=r,s.state=E,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Rh(t,e,n,r,o,i)}function Rh(t,e,n,r,i,o){sv(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&dm(e,n,!1),Bn(t,e,o);r=e.stateNode,VT.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ji(e,t.child,null,o),e.child=Ji(e,null,a,o)):Rt(t,e,a,o),e.memoizedState=r.state,i&&dm(e,n,!0),e.child}function av(t){var e=t.stateNode;e.pendingContext?hm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hm(t,e.context,!1),Gd(t,e.containerInfo)}function Cm(t,e,n,r,i){return Xi(),Bd(i),e.flags|=256,Rt(t,e,n,r),e.child}var Ch={dehydrated:null,treeContext:null,retryLane:0};function Ph(t){return{baseLanes:t,cachePool:null,transitions:null}}function lv(t,e,n){var r=e.pendingProps,i=De.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ie(De,i&1),t===null)return wh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=cu(s,r,0,null),t=Yr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Ph(n),e.memoizedState=Ch,t):rf(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return LT(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=mr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=mr(a,o):(o=Yr(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Ph(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Ch,r}return o=t.child,t=o.sibling,r=mr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function rf(t,e){return e=cu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ja(t,e,n,r){return r!==null&&Bd(r),Ji(e,t.child,null,n),t=rf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function LT(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Ic(Error(N(422))),ja(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=cu({mode:"visible",children:r.children},i,0,null),o=Yr(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ji(e,t.child,null,s),e.child.memoizedState=Ph(s),e.memoizedState=Ch,o);if(!(e.mode&1))return ja(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(N(419)),r=Ic(o,r,void 0),ja(t,e,s,r)}if(a=(s&t.childLanes)!==0,jt||a){if(r=nt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,zn(t,i),fn(r,t,i,-1))}return cf(),r=Ic(Error(N(421))),ja(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=qT.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,zt=hr(i.nextSibling),Qt=e,ke=!0,hn=null,t!==null&&(Jt[Zt++]=Mn,Jt[Zt++]=On,Jt[Zt++]=Zr,Mn=t.id,On=t.overflow,Zr=e),e=rf(e,r.children),e.flags|=4096,e)}function Pm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Th(t.return,e,n)}function Sc(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function uv(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Rt(t,e,r.children,n),r=De.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pm(t,n,e);else if(t.tag===19)Pm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ie(De,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Al(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Sc(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Al(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Sc(e,!0,n,null,o);break;case"together":Sc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ti|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=mr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=mr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jT(t,e,n){switch(e.tag){case 3:av(e),Xi();break;case 5:M0(e);break;case 1:Ot(e.type)&&_l(e);break;case 4:Gd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ie(Tl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ie(De,De.current&1),e.flags|=128,null):n&e.child.childLanes?lv(t,e,n):(Ie(De,De.current&1),t=Bn(t,e,n),t!==null?t.sibling:null);Ie(De,De.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return uv(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ie(De,De.current),r)break;return null;case 22:case 23:return e.lanes=0,ov(t,e,n)}return Bn(t,e,n)}var cv,kh,hv,dv;cv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kh=function(){};hv=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,zr(Cn.current);var o=null;switch(n){case"input":i=Jc(t,i),r=Jc(t,r),o=[];break;case"select":i=Le({},i,{value:void 0}),r=Le({},r,{value:void 0}),o=[];break;case"textarea":i=th(t,i),r=th(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=yl)}rh(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hs.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ae("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};dv=function(t,e,n,r){n!==r&&(e.flags|=4)};function ko(t,e){if(!ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function MT(t,e,n){var r=e.pendingProps;switch(zd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(e),null;case 1:return Ot(e.type)&&vl(),gt(e),null;case 3:return r=e.stateNode,Zi(),Ce(Mt),Ce(It),Xd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Va(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hn!==null&&(bh(hn),hn=null))),kh(t,e),gt(e),null;case 5:Yd(e);var i=zr(Is.current);if(n=e.type,t!==null&&e.stateNode!=null)hv(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return gt(e),null}if(t=zr(Cn.current),Va(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[In]=e,r[ws]=o,t=(e.mode&1)!==0,n){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(i=0;i<Bo.length;i++)Ae(Bo[i],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":bp(r,o),Ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ae("invalid",r);break;case"textarea":$p(r,o),Ae("invalid",r)}rh(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Da(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Da(r.textContent,a,t),i=["children",""+a]):hs.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ae("scroll",r)}switch(n){case"input":Sa(r),Fp(r,o,!0);break;case"textarea":Sa(r),Up(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=yl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Fy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[In]=e,t[ws]=r,cv(t,e,!1,!1),e.stateNode=t;e:{switch(s=ih(n,r),n){case"dialog":Ae("cancel",t),Ae("close",t),i=r;break;case"iframe":case"object":case"embed":Ae("load",t),i=r;break;case"video":case"audio":for(i=0;i<Bo.length;i++)Ae(Bo[i],t);i=r;break;case"source":Ae("error",t),i=r;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),i=r;break;case"details":Ae("toggle",t),i=r;break;case"input":bp(t,r),i=Jc(t,r),Ae("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Le({},r,{value:void 0}),Ae("invalid",t);break;case"textarea":$p(t,r),i=th(t,r),Ae("invalid",t);break;default:i=r}rh(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?zy(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$y(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ds(t,l):typeof l=="number"&&ds(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(hs.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ae("scroll",t):l!=null&&Rd(t,o,l,s))}switch(n){case"input":Sa(t),Fp(t,r,!1);break;case"textarea":Sa(t),Up(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ir(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?bi(t,!!r.multiple,o,!1):r.defaultValue!=null&&bi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=yl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gt(e),null;case 6:if(t&&e.stateNode!=null)dv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=zr(Is.current),zr(Cn.current),Va(e)){if(r=e.stateNode,n=e.memoizedProps,r[In]=e,(o=r.nodeValue!==n)&&(t=Qt,t!==null))switch(t.tag){case 3:Da(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Da(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[In]=e,e.stateNode=r}return gt(e),null;case 13:if(Ce(De),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ke&&zt!==null&&e.mode&1&&!(e.flags&128))P0(),Xi(),e.flags|=98560,o=!1;else if(o=Va(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(N(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(N(317));o[In]=e}else Xi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gt(e),o=!1}else hn!==null&&(bh(hn),hn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||De.current&1?Ge===0&&(Ge=3):cf())),e.updateQueue!==null&&(e.flags|=4),gt(e),null);case 4:return Zi(),kh(t,e),t===null&&_s(e.stateNode.containerInfo),gt(e),null;case 10:return Wd(e.type._context),gt(e),null;case 17:return Ot(e.type)&&vl(),gt(e),null;case 19:if(Ce(De),o=e.memoizedState,o===null)return gt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)ko(o,!1);else{if(Ge!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Al(t),s!==null){for(e.flags|=128,ko(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ie(De,De.current&1|2),e.child}t=t.sibling}o.tail!==null&&ze()>to&&(e.flags|=128,r=!0,ko(o,!1),e.lanes=4194304)}else{if(!r)if(t=Al(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ko(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ke)return gt(e),null}else 2*ze()-o.renderingStartTime>to&&n!==1073741824&&(e.flags|=128,r=!0,ko(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ze(),e.sibling=null,n=De.current,Ie(De,r?n&1|2:n&1),e):(gt(e),null);case 22:case 23:return uf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$t&1073741824&&(gt(e),e.subtreeFlags&6&&(e.flags|=8192)):gt(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function OT(t,e){switch(zd(e),e.tag){case 1:return Ot(e.type)&&vl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zi(),Ce(Mt),Ce(It),Xd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Yd(e),null;case 13:if(Ce(De),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));Xi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ce(De),null;case 4:return Zi(),null;case 10:return Wd(e.type._context),null;case 22:case 23:return uf(),null;case 24:return null;default:return null}}var Ma=!1,_t=!1,bT=typeof WeakSet=="function"?WeakSet:Set,b=null;function Vi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Oe(t,e,r)}else n.current=null}function Nh(t,e,n){try{n()}catch(r){Oe(t,e,r)}}var km=!1;function FT(t,e){if(ph=pl,t=g0(),$d(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(g=h.firstChild)!==null;)d=h,h=g;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(g=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(mh={focusedElem:t,selectionRange:n},pl=!1,b=e;b!==null;)if(e=b,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,b=t;else for(;b!==null;){e=b;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var _=E.memoizedProps,T=E.memoizedState,p=e.stateNode,f=p.getSnapshotBeforeUpdate(e.elementType===e.type?_:ln(e.type,_),T);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(S){Oe(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,b=t;break}b=e.return}return E=km,km=!1,E}function ts(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Nh(e,n,o)}i=i.next}while(i!==r)}}function lu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Dh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fv(t){var e=t.alternate;e!==null&&(t.alternate=null,fv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[In],delete e[ws],delete e[vh],delete e[wT],delete e[TT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pv(t){return t.tag===5||t.tag===3||t.tag===4}function Nm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yl));else if(r!==4&&(t=t.child,t!==null))for(Vh(t,e,n),t=t.sibling;t!==null;)Vh(t,e,n),t=t.sibling}function Lh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Lh(t,e,n),t=t.sibling;t!==null;)Lh(t,e,n),t=t.sibling}var st=null,un=!1;function Zn(t,e,n){for(n=n.child;n!==null;)mv(t,e,n),n=n.sibling}function mv(t,e,n){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(eu,n)}catch{}switch(n.tag){case 5:_t||Vi(n,e);case 6:var r=st,i=un;st=null,Zn(t,e,n),st=r,un=i,st!==null&&(un?(t=st,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):st.removeChild(n.stateNode));break;case 18:st!==null&&(un?(t=st,n=n.stateNode,t.nodeType===8?yc(t.parentNode,n):t.nodeType===1&&yc(t,n),gs(t)):yc(st,n.stateNode));break;case 4:r=st,i=un,st=n.stateNode.containerInfo,un=!0,Zn(t,e,n),st=r,un=i;break;case 0:case 11:case 14:case 15:if(!_t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Nh(n,e,s),i=i.next}while(i!==r)}Zn(t,e,n);break;case 1:if(!_t&&(Vi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Oe(n,e,a)}Zn(t,e,n);break;case 21:Zn(t,e,n);break;case 22:n.mode&1?(_t=(r=_t)||n.memoizedState!==null,Zn(t,e,n),_t=r):Zn(t,e,n);break;default:Zn(t,e,n)}}function Dm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new bT),e.forEach(function(r){var i=KT.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function an(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:st=a.stateNode,un=!1;break e;case 3:st=a.stateNode.containerInfo,un=!0;break e;case 4:st=a.stateNode.containerInfo,un=!0;break e}a=a.return}if(st===null)throw Error(N(160));mv(o,s,i),st=null,un=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Oe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gv(e,t),e=e.sibling}function gv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(an(e,t),wn(t),r&4){try{ts(3,t,t.return),lu(3,t)}catch(_){Oe(t,t.return,_)}try{ts(5,t,t.return)}catch(_){Oe(t,t.return,_)}}break;case 1:an(e,t),wn(t),r&512&&n!==null&&Vi(n,n.return);break;case 5:if(an(e,t),wn(t),r&512&&n!==null&&Vi(n,n.return),t.flags&32){var i=t.stateNode;try{ds(i,"")}catch(_){Oe(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Oy(i,o),ih(a,s);var u=ih(a,o);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?zy(i,h):c==="dangerouslySetInnerHTML"?$y(i,h):c==="children"?ds(i,h):Rd(i,c,h,u)}switch(a){case"input":Zc(i,o);break;case"textarea":by(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?bi(i,!!o.multiple,g,!1):d!==!!o.multiple&&(o.defaultValue!=null?bi(i,!!o.multiple,o.defaultValue,!0):bi(i,!!o.multiple,o.multiple?[]:"",!1))}i[ws]=o}catch(_){Oe(t,t.return,_)}}break;case 6:if(an(e,t),wn(t),r&4){if(t.stateNode===null)throw Error(N(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(_){Oe(t,t.return,_)}}break;case 3:if(an(e,t),wn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gs(e.containerInfo)}catch(_){Oe(t,t.return,_)}break;case 4:an(e,t),wn(t);break;case 13:an(e,t),wn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(af=ze())),r&4&&Dm(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(_t=(u=_t)||c,an(e,t),_t=u):an(e,t),wn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(b=t,c=t.child;c!==null;){for(h=b=c;b!==null;){switch(d=b,g=d.child,d.tag){case 0:case 11:case 14:case 15:ts(4,d,d.return);break;case 1:Vi(d,d.return);var E=d.stateNode;if(typeof E.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(_){Oe(r,n,_)}}break;case 5:Vi(d,d.return);break;case 22:if(d.memoizedState!==null){Lm(h);continue}}g!==null?(g.return=d,b=g):Lm(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Uy("display",s))}catch(_){Oe(t,t.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Oe(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:an(e,t),wn(t),r&4&&Dm(t);break;case 21:break;default:an(e,t),wn(t)}}function wn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pv(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ds(i,""),r.flags&=-33);var o=Nm(t);Lh(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Nm(t);Vh(t,a,s);break;default:throw Error(N(161))}}catch(l){Oe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $T(t,e,n){b=t,yv(t)}function yv(t,e,n){for(var r=(t.mode&1)!==0;b!==null;){var i=b,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ma;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||_t;a=Ma;var u=_t;if(Ma=s,(_t=l)&&!u)for(b=i;b!==null;)s=b,l=s.child,s.tag===22&&s.memoizedState!==null?jm(i):l!==null?(l.return=s,b=l):jm(i);for(;o!==null;)b=o,yv(o),o=o.sibling;b=i,Ma=a,_t=u}Vm(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,b=o):Vm(t)}}function Vm(t){for(;b!==null;){var e=b;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_t||lu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!_t)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ln(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&gm(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gm(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&gs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}_t||e.flags&512&&Dh(e)}catch(d){Oe(e,e.return,d)}}if(e===t){b=null;break}if(n=e.sibling,n!==null){n.return=e.return,b=n;break}b=e.return}}function Lm(t){for(;b!==null;){var e=b;if(e===t){b=null;break}var n=e.sibling;if(n!==null){n.return=e.return,b=n;break}b=e.return}}function jm(t){for(;b!==null;){var e=b;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lu(4,e)}catch(l){Oe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Oe(e,i,l)}}var o=e.return;try{Dh(e)}catch(l){Oe(e,o,l)}break;case 5:var s=e.return;try{Dh(e)}catch(l){Oe(e,s,l)}}}catch(l){Oe(e,e.return,l)}if(e===t){b=null;break}var a=e.sibling;if(a!==null){a.return=e.return,b=a;break}b=e.return}}var UT=Math.ceil,Cl=Wn.ReactCurrentDispatcher,of=Wn.ReactCurrentOwner,nn=Wn.ReactCurrentBatchConfig,de=0,nt=null,He=null,ct=0,$t=0,Li=Pr(0),Ge=0,Rs=null,ti=0,uu=0,sf=0,ns=null,Vt=null,af=0,to=1/0,Ln=null,Pl=!1,jh=null,fr=null,Oa=!1,sr=null,kl=0,rs=0,Mh=null,nl=-1,rl=0;function Pt(){return de&6?ze():nl!==-1?nl:nl=ze()}function pr(t){return t.mode&1?de&2&&ct!==0?ct&-ct:ST.transition!==null?(rl===0&&(rl=e0()),rl):(t=ye,t!==0||(t=window.event,t=t===void 0?16:a0(t.type)),t):1}function fn(t,e,n,r){if(50<rs)throw rs=0,Mh=null,Error(N(185));Gs(t,n,r),(!(de&2)||t!==nt)&&(t===nt&&(!(de&2)&&(uu|=n),Ge===4&&ir(t,ct)),bt(t,r),n===1&&de===0&&!(e.mode&1)&&(to=ze()+500,ou&&kr()))}function bt(t,e){var n=t.callbackNode;Sw(t,e);var r=fl(t,t===nt?ct:0);if(r===0)n!==null&&Qp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Qp(n),e===1)t.tag===0?IT(Mm.bind(null,t)):x0(Mm.bind(null,t)),_T(function(){!(de&6)&&kr()}),n=null;else{switch(t0(r)){case 1:n=Dd;break;case 4:n=Jy;break;case 16:n=dl;break;case 536870912:n=Zy;break;default:n=dl}n=Av(n,vv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vv(t,e){if(nl=-1,rl=0,de&6)throw Error(N(327));var n=t.callbackNode;if(Bi()&&t.callbackNode!==n)return null;var r=fl(t,t===nt?ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Nl(t,r);else{e=r;var i=de;de|=2;var o=Ev();(nt!==t||ct!==e)&&(Ln=null,to=ze()+500,Gr(t,e));do try{QT();break}catch(a){_v(t,a)}while(!0);Hd(),Cl.current=o,de=i,He!==null?e=0:(nt=null,ct=0,e=Ge)}if(e!==0){if(e===2&&(i=uh(t),i!==0&&(r=i,e=Oh(t,i))),e===1)throw n=Rs,Gr(t,0),ir(t,r),bt(t,ze()),n;if(e===6)ir(t,r);else{if(i=t.current.alternate,!(r&30)&&!zT(i)&&(e=Nl(t,r),e===2&&(o=uh(t),o!==0&&(r=o,e=Oh(t,o))),e===1))throw n=Rs,Gr(t,0),ir(t,r),bt(t,ze()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:Or(t,Vt,Ln);break;case 3:if(ir(t,r),(r&130023424)===r&&(e=af+500-ze(),10<e)){if(fl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Pt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=yh(Or.bind(null,t,Vt,Ln),e);break}Or(t,Vt,Ln);break;case 4:if(ir(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-dn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*UT(r/1960))-r,10<r){t.timeoutHandle=yh(Or.bind(null,t,Vt,Ln),r);break}Or(t,Vt,Ln);break;case 5:Or(t,Vt,Ln);break;default:throw Error(N(329))}}}return bt(t,ze()),t.callbackNode===n?vv.bind(null,t):null}function Oh(t,e){var n=ns;return t.current.memoizedState.isDehydrated&&(Gr(t,e).flags|=256),t=Nl(t,e),t!==2&&(e=Vt,Vt=n,e!==null&&bh(e)),t}function bh(t){Vt===null?Vt=t:Vt.push.apply(Vt,t)}function zT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!mn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ir(t,e){for(e&=~sf,e&=~uu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-dn(e),r=1<<n;t[n]=-1,e&=~r}}function Mm(t){if(de&6)throw Error(N(327));Bi();var e=fl(t,0);if(!(e&1))return bt(t,ze()),null;var n=Nl(t,e);if(t.tag!==0&&n===2){var r=uh(t);r!==0&&(e=r,n=Oh(t,r))}if(n===1)throw n=Rs,Gr(t,0),ir(t,e),bt(t,ze()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Or(t,Vt,Ln),bt(t,ze()),null}function lf(t,e){var n=de;de|=1;try{return t(e)}finally{de=n,de===0&&(to=ze()+500,ou&&kr())}}function ni(t){sr!==null&&sr.tag===0&&!(de&6)&&Bi();var e=de;de|=1;var n=nn.transition,r=ye;try{if(nn.transition=null,ye=1,t)return t()}finally{ye=r,nn.transition=n,de=e,!(de&6)&&kr()}}function uf(){$t=Li.current,Ce(Li)}function Gr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,vT(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(zd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vl();break;case 3:Zi(),Ce(Mt),Ce(It),Xd();break;case 5:Yd(r);break;case 4:Zi();break;case 13:Ce(De);break;case 19:Ce(De);break;case 10:Wd(r.type._context);break;case 22:case 23:uf()}n=n.return}if(nt=t,He=t=mr(t.current,null),ct=$t=e,Ge=0,Rs=null,sf=uu=ti=0,Vt=ns=null,Ur!==null){for(e=0;e<Ur.length;e++)if(n=Ur[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Ur=null}return t}function _v(t,e){do{var n=He;try{if(Hd(),Za.current=Rl,xl){for(var r=Ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}xl=!1}if(ei=0,tt=Ke=Ve=null,es=!1,Ss=0,of.current=null,n===null||n.return===null){Ge=1,Rs=e,He=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=ct,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=Im(s);if(g!==null){g.flags&=-257,Sm(g,s,a,o,e),g.mode&1&&Tm(o,u,e),e=g,l=u;var E=e.updateQueue;if(E===null){var _=new Set;_.add(l),e.updateQueue=_}else E.add(l);break e}else{if(!(e&1)){Tm(o,u,e),cf();break e}l=Error(N(426))}}else if(ke&&a.mode&1){var T=Im(s);if(T!==null){!(T.flags&65536)&&(T.flags|=256),Sm(T,s,a,o,e),Bd(eo(l,a));break e}}o=l=eo(l,a),Ge!==4&&(Ge=2),ns===null?ns=[o]:ns.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var p=nv(o,l,e);mm(o,p);break e;case 1:a=l;var f=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof f.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(fr===null||!fr.has(y)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=rv(o,a,e);mm(o,S);break e}}o=o.return}while(o!==null)}Tv(n)}catch(D){e=D,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function Ev(){var t=Cl.current;return Cl.current=Rl,t===null?Rl:t}function cf(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),nt===null||!(ti&268435455)&&!(uu&268435455)||ir(nt,ct)}function Nl(t,e){var n=de;de|=2;var r=Ev();(nt!==t||ct!==e)&&(Ln=null,Gr(t,e));do try{BT();break}catch(i){_v(t,i)}while(!0);if(Hd(),de=n,Cl.current=r,He!==null)throw Error(N(261));return nt=null,ct=0,Ge}function BT(){for(;He!==null;)wv(He)}function QT(){for(;He!==null&&!mw();)wv(He)}function wv(t){var e=Sv(t.alternate,t,$t);t.memoizedProps=t.pendingProps,e===null?Tv(t):He=e,of.current=null}function Tv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=OT(n,e),n!==null){n.flags&=32767,He=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ge=6,He=null;return}}else if(n=MT(n,e,$t),n!==null){He=n;return}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);Ge===0&&(Ge=5)}function Or(t,e,n){var r=ye,i=nn.transition;try{nn.transition=null,ye=1,HT(t,e,n,r)}finally{nn.transition=i,ye=r}return null}function HT(t,e,n,r){do Bi();while(sr!==null);if(de&6)throw Error(N(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Aw(t,o),t===nt&&(He=nt=null,ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Oa||(Oa=!0,Av(dl,function(){return Bi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=nn.transition,nn.transition=null;var s=ye;ye=1;var a=de;de|=4,of.current=null,FT(t,n),gv(n,t),hT(mh),pl=!!ph,mh=ph=null,t.current=n,$T(n),gw(),de=a,ye=s,nn.transition=o}else t.current=n;if(Oa&&(Oa=!1,sr=t,kl=i),o=t.pendingLanes,o===0&&(fr=null),_w(n.stateNode),bt(t,ze()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Pl)throw Pl=!1,t=jh,jh=null,t;return kl&1&&t.tag!==0&&Bi(),o=t.pendingLanes,o&1?t===Mh?rs++:(rs=0,Mh=t):rs=0,kr(),null}function Bi(){if(sr!==null){var t=t0(kl),e=nn.transition,n=ye;try{if(nn.transition=null,ye=16>t?16:t,sr===null)var r=!1;else{if(t=sr,sr=null,kl=0,de&6)throw Error(N(331));var i=de;for(de|=4,b=t.current;b!==null;){var o=b,s=o.child;if(b.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(b=u;b!==null;){var c=b;switch(c.tag){case 0:case 11:case 15:ts(8,c,o)}var h=c.child;if(h!==null)h.return=c,b=h;else for(;b!==null;){c=b;var d=c.sibling,g=c.return;if(fv(c),c===u){b=null;break}if(d!==null){d.return=g,b=d;break}b=g}}}var E=o.alternate;if(E!==null){var _=E.child;if(_!==null){E.child=null;do{var T=_.sibling;_.sibling=null,_=T}while(_!==null)}}b=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,b=s;else e:for(;b!==null;){if(o=b,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ts(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,b=p;break e}b=o.return}}var f=t.current;for(b=f;b!==null;){s=b;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,b=y;else e:for(s=f;b!==null;){if(a=b,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lu(9,a)}}catch(D){Oe(a,a.return,D)}if(a===s){b=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,b=S;break e}b=a.return}}if(de=i,kr(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(eu,t)}catch{}r=!0}return r}finally{ye=n,nn.transition=e}}return!1}function Om(t,e,n){e=eo(n,e),e=nv(t,e,1),t=dr(t,e,1),e=Pt(),t!==null&&(Gs(t,1,e),bt(t,e))}function Oe(t,e,n){if(t.tag===3)Om(t,t,n);else for(;e!==null;){if(e.tag===3){Om(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fr===null||!fr.has(r))){t=eo(n,t),t=rv(e,t,1),e=dr(e,t,1),t=Pt(),e!==null&&(Gs(e,1,t),bt(e,t));break}}e=e.return}}function WT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pt(),t.pingedLanes|=t.suspendedLanes&n,nt===t&&(ct&n)===n&&(Ge===4||Ge===3&&(ct&130023424)===ct&&500>ze()-af?Gr(t,0):sf|=n),bt(t,e)}function Iv(t,e){e===0&&(t.mode&1?(e=Ra,Ra<<=1,!(Ra&130023424)&&(Ra=4194304)):e=1);var n=Pt();t=zn(t,e),t!==null&&(Gs(t,e,n),bt(t,n))}function qT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Iv(t,n)}function KT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),Iv(t,n)}var Sv;Sv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mt.current)jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return jt=!1,jT(t,e,n);jt=!!(t.flags&131072)}else jt=!1,ke&&e.flags&1048576&&R0(e,wl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;tl(t,e),t=e.pendingProps;var i=Yi(e,It.current);zi(e,n),i=Zd(null,e,r,t,i,n);var o=ef();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ot(r)?(o=!0,_l(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Kd(e),i.updater=su,e.stateNode=i,i._reactInternals=e,Sh(e,r,t,n),e=Rh(null,e,r,!0,o,n)):(e.tag=0,ke&&o&&Ud(e),Rt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(tl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=YT(r),t=ln(r,t),i){case 0:e=xh(null,e,r,t,n);break e;case 1:e=Rm(null,e,r,t,n);break e;case 11:e=Am(null,e,r,t,n);break e;case 14:e=xm(null,e,r,ln(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ln(r,i),xh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ln(r,i),Rm(t,e,r,i,n);case 3:e:{if(av(e),t===null)throw Error(N(387));r=e.pendingProps,o=e.memoizedState,i=o.element,N0(t,e),Sl(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=eo(Error(N(423)),e),e=Cm(t,e,r,n,i);break e}else if(r!==i){i=eo(Error(N(424)),e),e=Cm(t,e,r,n,i);break e}else for(zt=hr(e.stateNode.containerInfo.firstChild),Qt=e,ke=!0,hn=null,n=j0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xi(),r===i){e=Bn(t,e,n);break e}Rt(t,e,r,n)}e=e.child}return e;case 5:return M0(e),t===null&&wh(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,gh(r,i)?s=null:o!==null&&gh(r,o)&&(e.flags|=32),sv(t,e),Rt(t,e,s,n),e.child;case 6:return t===null&&wh(e),null;case 13:return lv(t,e,n);case 4:return Gd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ji(e,null,r,n):Rt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ln(r,i),Am(t,e,r,i,n);case 7:return Rt(t,e,e.pendingProps,n),e.child;case 8:return Rt(t,e,e.pendingProps.children,n),e.child;case 12:return Rt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ie(Tl,r._currentValue),r._currentValue=s,o!==null)if(mn(o.value,s)){if(o.children===i.children&&!Mt.current){e=Bn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Fn(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Th(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(N(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Th(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Rt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,zi(e,n),i=rn(i),r=r(i),e.flags|=1,Rt(t,e,r,n),e.child;case 14:return r=e.type,i=ln(r,e.pendingProps),i=ln(r.type,i),xm(t,e,r,i,n);case 15:return iv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ln(r,i),tl(t,e),e.tag=1,Ot(r)?(t=!0,_l(e)):t=!1,zi(e,n),V0(e,r,i),Sh(e,r,i,n),Rh(null,e,r,!0,t,n);case 19:return uv(t,e,n);case 22:return ov(t,e,n)}throw Error(N(156,e.tag))};function Av(t,e){return Xy(t,e)}function GT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(t,e,n,r){return new GT(t,e,n,r)}function hf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function YT(t){if(typeof t=="function")return hf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pd)return 11;if(t===kd)return 14}return 2}function mr(t,e){var n=t.alternate;return n===null?(n=tn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function il(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")hf(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Si:return Yr(n.children,i,o,e);case Cd:s=8,i|=8;break;case Kc:return t=tn(12,n,e,i|2),t.elementType=Kc,t.lanes=o,t;case Gc:return t=tn(13,n,e,i),t.elementType=Gc,t.lanes=o,t;case Yc:return t=tn(19,n,e,i),t.elementType=Yc,t.lanes=o,t;case Ly:return cu(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Dy:s=10;break e;case Vy:s=9;break e;case Pd:s=11;break e;case kd:s=14;break e;case tr:s=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=tn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Yr(t,e,n,r){return t=tn(7,t,r,e),t.lanes=n,t}function cu(t,e,n,r){return t=tn(22,t,r,e),t.elementType=Ly,t.lanes=n,t.stateNode={isHidden:!1},t}function Ac(t,e,n){return t=tn(6,t,null,e),t.lanes=n,t}function xc(t,e,n){return e=tn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function XT(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sc(0),this.expirationTimes=sc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function df(t,e,n,r,i,o,s,a,l){return t=new XT(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=tn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kd(o),t}function JT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ii,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xv(t){if(!t)return Sr;t=t._reactInternals;e:{if(ui(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ot(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(Ot(n))return A0(t,n,e)}return e}function Rv(t,e,n,r,i,o,s,a,l){return t=df(n,r,!0,t,i,o,s,a,l),t.context=xv(null),n=t.current,r=Pt(),i=pr(n),o=Fn(r,i),o.callback=e??null,dr(n,o,i),t.current.lanes=i,Gs(t,i,r),bt(t,r),t}function hu(t,e,n,r){var i=e.current,o=Pt(),s=pr(i);return n=xv(n),e.context===null?e.context=n:e.pendingContext=n,e=Fn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=dr(i,e,s),t!==null&&(fn(t,i,s,o),Ja(t,i,s)),s}function Dl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ff(t,e){bm(t,e),(t=t.alternate)&&bm(t,e)}function ZT(){return null}var Cv=typeof reportError=="function"?reportError:function(t){console.error(t)};function pf(t){this._internalRoot=t}du.prototype.render=pf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));hu(t,e,null,null)};du.prototype.unmount=pf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ni(function(){hu(null,t,null,null)}),e[Un]=null}};function du(t){this._internalRoot=t}du.prototype.unstable_scheduleHydration=function(t){if(t){var e=i0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<rr.length&&e!==0&&e<rr[n].priority;n++);rr.splice(n,0,t),n===0&&s0(t)}};function mf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Fm(){}function eI(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Dl(s);o.call(u)}}var s=Rv(e,r,t,0,null,!1,!1,"",Fm);return t._reactRootContainer=s,t[Un]=s.current,_s(t.nodeType===8?t.parentNode:t),ni(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Dl(l);a.call(u)}}var l=df(t,0,!1,null,null,!1,!1,"",Fm);return t._reactRootContainer=l,t[Un]=l.current,_s(t.nodeType===8?t.parentNode:t),ni(function(){hu(e,l,n,r)}),l}function pu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Dl(s);a.call(l)}}hu(e,s,t,i)}else s=eI(n,e,t,i,r);return Dl(s)}n0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=zo(e.pendingLanes);n!==0&&(Vd(e,n|1),bt(e,ze()),!(de&6)&&(to=ze()+500,kr()))}break;case 13:ni(function(){var r=zn(t,1);if(r!==null){var i=Pt();fn(r,t,1,i)}}),ff(t,1)}};Ld=function(t){if(t.tag===13){var e=zn(t,134217728);if(e!==null){var n=Pt();fn(e,t,134217728,n)}ff(t,134217728)}};r0=function(t){if(t.tag===13){var e=pr(t),n=zn(t,e);if(n!==null){var r=Pt();fn(n,t,e,r)}ff(t,e)}};i0=function(){return ye};o0=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}};sh=function(t,e,n){switch(e){case"input":if(Zc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=iu(r);if(!i)throw Error(N(90));My(r),Zc(r,i)}}}break;case"textarea":by(t,n);break;case"select":e=n.value,e!=null&&bi(t,!!n.multiple,e,!1)}};Hy=lf;Wy=ni;var tI={usingClientEntryPoint:!1,Events:[Xs,Ci,iu,By,Qy,lf]},No={findFiberByHostInstance:$r,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nI={bundleType:No.bundleType,version:No.version,rendererPackageName:No.rendererPackageName,rendererConfig:No.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Gy(t),t===null?null:t.stateNode},findFiberByHostInstance:No.findFiberByHostInstance||ZT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ba=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ba.isDisabled&&ba.supportsFiber)try{eu=ba.inject(nI),Rn=ba}catch{}}qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tI;qt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mf(e))throw Error(N(200));return JT(t,e,null,n)};qt.createRoot=function(t,e){if(!mf(t))throw Error(N(299));var n=!1,r="",i=Cv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=df(t,1,!1,null,null,n,!1,r,i),t[Un]=e.current,_s(t.nodeType===8?t.parentNode:t),new pf(e)};qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=Gy(e),t=t===null?null:t.stateNode,t};qt.flushSync=function(t){return ni(t)};qt.hydrate=function(t,e,n){if(!fu(e))throw Error(N(200));return pu(null,t,e,!0,n)};qt.hydrateRoot=function(t,e,n){if(!mf(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Cv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Rv(e,null,t,1,n??null,i,!1,o,s),t[Un]=e.current,_s(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new du(e)};qt.render=function(t,e,n){if(!fu(e))throw Error(N(200));return pu(null,t,e,!1,n)};qt.unmountComponentAtNode=function(t){if(!fu(t))throw Error(N(40));return t._reactRootContainer?(ni(function(){pu(null,null,t,!1,function(){t._reactRootContainer=null,t[Un]=null})}),!0):!1};qt.unstable_batchedUpdates=lf;qt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!fu(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return pu(t,e,n,!1,r)};qt.version="18.2.0-next-9e3b772b8-20220608";function Pv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pv)}catch(t){console.error(t)}}Pv(),Ry.exports=qt;var gf=Ry.exports;const rI=gy(gf),iI=my({__proto__:null,default:rI},[gf]);var $m=gf;Wc.createRoot=$m.createRoot,Wc.hydrateRoot=$m.hydrateRoot;const kv="/assets/img-fondo-o6uhFQTl.png",Nv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMcAAADHCAYAAACtBUfGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAf7SURBVHgB7dxbchNnGofx95MsbuMdTLMCPCuIvILYNYGZuxF3GUhVzApiryBQFQh3OHdTgQSzAsQK8A7oHcS5SyypO+/X3bh06L/UUiSwwvOrModWq92S+5G+PsghuX0/N3w8o/xu+suTU8O10zIAtYgDEIgDEIgDEIgDEIgDEIgDEIgDEIgDEIgDEIgDEIgDEIgDEIgDEIgDEIgDEIgDEIgDEIgDEIgDEHZsM07N8jeGxbKsb7iWNhPHKH/Db9TAtmNYBQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQg7tkWSf319YCHbm5yaX6QvfnhowJptVRwWRh5H679TE1P/gziwdgyrAIE4AIE4AIE4AIE4AIE4FkgOjnbjl21IcvBVYitY9X7Nlr3cY47rssnn6GPZrkO5H0DxQ975o+eHjL/w//o5lUHxQ09u349/nVtufRuOHqVnT9O5y7l976UfZp48J5NlD9Kffzjz23p+Wzwk3R1bdupffRuMTuqWnXz5lc/b/sKCHcT/jt3vwkLe9/V6lT5/cmrz1ikuI7SfTU1O0+eP932d9iz3dQrWG3vMF8VjtvzH8WUXz9GNy298/oPyOYoG5fxxXbLsUfriad+2HO8cY4qNpzN462F8Z+WGO/1quOcbz5F12u+SO/e+nb+0EO+bTHyFcMs3oLd+27Nq+RPf3r96vuzXxYb6fmJ8Fb9z/zvfqF8X37sKY8xuuZGGZ77sdw3eUZLpr/KxhLfV8ncnll2spy87roNdPUfv/Hse21UYU+vi6/p+/m1GHJXy7LtvgLMbXz3fOHxjfGbLCLUb1KxBdnH1787gtb8rHFkzSRHXckOupNrQ5/N18Mf7unqOdhvNv+WBEIdL/uMbUytfbkMv9ZJ//6/phttE6sOq/ffDqmrjWhzTpCqQjewDdJeZuQjky6+7tqWIIxq14xCpbmOKr+Cn1Vdae9+s9e0KG2K13PxsbLmTYcRg694x4j6P5Xf91X7fsnDo//+xZvmJ7VwuH22xbF+v8u/1zB/yBcPP6+uT3yEvN+xBr+amcxt0fGN9eDXE8VfB45ofdrkD3/T6riw8Sn/+/mrDLSIYtI5slD2c2BEvg50U8jPfMT6cmnrm65XOrFcI3/ifx9bMRJjFehX7PUENoS48zsP0xfd9G38co9phaTc+x+PP47bgnaM97NZOH4wOp3+gvjEcm9W8SobQtWbS8TCKCf9/6tOeHNUcoTqYufdl9sDqFlqu1/TGt9t8SJPPHCHzCP3IXP6ofnY7GQ+jmN8fhwdzt2720Bp8ZluIOGYugbdiuCAP1ebZq5qF3LImsvxVk9nKw7ZTr9jz1qlcds3watRsf2Vw46x2+k52Wjs9XPZrpw93zusm561w07YQ5zly3wjD1LSQ/6bnb8chzPTUZvscwZoNLfKd3ZnvEYqhTm/Osv9h06sVWo2iXXbIE0Y3flXLqc69/C0QR8h3bbaOX/X8Q9+Q2tNT13tkKIySmjf1rt/QlffJDWvGsOpaCps4DIslEQcgMKy6jkLdOZX8je/ZHtsydoapYWXEUX4Gfdqcozyh7rZzW6e8VbPTHz6bPnyKzWJYVfsqbfoS7LojQLktdbRnofpDonubvEwds4ij/hj/rnUGMxfNJXfux8vMe7OzZ43OXzRVHVrtz9zQab9U0ZZX7957ufhqYTT1dxhWJX5sfbkDmfGE2ovH+/Gf1bH5vs1eVNfz6V0/S1yeXGvZLb/fQe3yhvmZrV38vjOHbvfiJfV+vuPET0amNvR3vbYP89p+EjIfHPkZ6hjOgQdi6U9PTuwTUX4G5/dlL9BciH2OKA8nPsbv1twSP4NRvhKr/OK1Ugs++LSK+OEijzNeH7U3s07x8yDBz7V0qinT6xYvp/+UAulc+otWe5WrqudiWGXFtUnxk3QPVrjr+fS1UmvVHsWLDFNbRdYKhr+EOCo+zHpYBdJs5zr4UGrQ2bcNKi7ma4/i90iXuNtFvKS9uhgRfwFxjCkCaY/+WX1GIq2Z5aL47EIe9n3IcvghLsMurtp9/vhm+RmOuZ+zSIvh4aBzc9FnydFMWHpntomRv3L9sv0/oHJHb1iO+YfDdBP7FqsofxlCqzxqFbILP+KWbuPnJdal+oUVa9/nYId8DnlI9SMrPmuBjWNYBQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQjEAQg7tgnt8Hly+54BH0b43DZgM3GY9XyFewZsMYZVgEAcgEAcgEAcgEAcgEAcgEAcgEAcgEAcgEAcgEAcgEAcgEAcgEAcgEAcgEAcgEAcgEAcgEAcgEAcgPAnmOI7nUJiwLkAAAAASUVORK5CYII=";/**
 * @remix-run/router v1.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function be(){return be=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},be.apply(this,arguments)}var Ue;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ue||(Ue={}));const Um="popstate";function oI(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Cs("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Zs(i)}return aI(e,n,null,t)}function oe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ri(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sI(){return Math.random().toString(36).substr(2,8)}function zm(t,e){return{usr:t.state,key:t.key,idx:e}}function Cs(t,e,n,r){return n===void 0&&(n=null),be({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?qn(e):e,{state:n,key:e&&e.key||r||sI()})}function Zs(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function qn(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function aI(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Ue.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(be({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function h(){a=Ue.Pop;let T=c(),p=T==null?null:T-u;u=T,l&&l({action:a,location:_.location,delta:p})}function d(T,p){a=Ue.Push;let f=Cs(_.location,T,p);n&&n(f,T),u=c()+1;let y=zm(f,u),S=_.createHref(f);try{s.pushState(y,"",S)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(S)}o&&l&&l({action:a,location:_.location,delta:1})}function g(T,p){a=Ue.Replace;let f=Cs(_.location,T,p);n&&n(f,T),u=c();let y=zm(f,u),S=_.createHref(f);s.replaceState(y,"",S),o&&l&&l({action:a,location:_.location,delta:0})}function E(T){let p=i.location.origin!=="null"?i.location.origin:i.location.href,f=typeof T=="string"?T:Zs(T);return oe(p,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,p)}let _={get action(){return a},get location(){return t(i,s)},listen(T){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Um,h),l=T,()=>{i.removeEventListener(Um,h),l=null}},createHref(T){return e(i,T)},createURL:E,encodeLocation(T){let p=E(T);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:d,replace:g,go(T){return s.go(T)}};return _}var Me;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Me||(Me={}));const lI=new Set(["lazy","caseSensitive","path","id","index","children"]);function uI(t){return t.index===!0}function Fh(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(oe(i.index!==!0||!i.children,"Cannot specify children on an index route"),oe(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),uI(i)){let l=be({},i,e(i),{id:a});return r[a]=l,l}else{let l=be({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Fh(i.children,e,s,r)),l}})}function ji(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?qn(e):e,i=ea(r.pathname||"/",n);if(i==null)return null;let o=Dv(t);hI(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=EI(o[a],II(i));return s}function cI(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Dv(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(oe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=gr([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(oe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Dv(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:vI(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of Vv(o.path))i(o,s,l)}),e}function Vv(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Vv(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function hI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_I(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const dI=/^:[\w-]+$/,fI=3,pI=2,mI=1,gI=10,yI=-2,Bm=t=>t==="*";function vI(t,e){let n=t.split("/"),r=n.length;return n.some(Bm)&&(r+=yI),e&&(r+=pI),n.filter(i=>!Bm(i)).reduce((i,o)=>i+(dI.test(o)?fI:o===""?mI:gI),r)}function _I(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function EI(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=wI({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;o.push({params:r,pathname:gr([i,c.pathname]),pathnameBase:RI(gr([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=gr([i,c.pathnameBase]))}return o}function wI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=TI(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:d,isOptional:g}=c;if(d==="*"){let _=a[h]||"";s=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const E=a[h];return g&&!E?u[d]=void 0:u[d]=SI(E||"",d),u},{}),pathname:o,pathnameBase:s,pattern:t}}function TI(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ri(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function II(t){try{return decodeURI(t)}catch(e){return ri(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function SI(t,e){try{return decodeURIComponent(t)}catch(n){return ri(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function ea(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function AI(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?qn(t):t;return{pathname:n?n.startsWith("/")?n:xI(n,e):e,search:CI(r),hash:PI(i)}}function xI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Rc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Lv(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jv(t,e){let n=Lv(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Mv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=qn(t):(i=be({},t),oe(!i.pathname||!i.pathname.includes("?"),Rc("?","pathname","search",i)),oe(!i.pathname||!i.pathname.includes("#"),Rc("#","pathname","hash",i)),oe(!i.search||!i.search.includes("#"),Rc("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=AI(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const gr=t=>t.join("/").replace(/\/\/+/g,"/"),RI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,PI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class yf{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Ov(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const bv=["post","put","patch","delete"],kI=new Set(bv),NI=["get",...bv],DI=new Set(NI),VI=new Set([301,302,303,307,308]),LI=new Set([307,308]),Cc={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},jI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Do={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Fv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MI=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),$v="remix-router-transitions";function OI(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;oe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let w=t.detectErrorBoundary;i=I=>({hasErrorBoundary:w(I)})}else i=MI;let o={},s=Fh(t.routes,i,void 0,o),a,l=t.basename||"/",u=be({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),c=null,h=new Set,d=null,g=null,E=null,_=t.hydrationData!=null,T=ji(s,t.history.location,l),p=null;if(T==null){let w=Xt(404,{pathname:t.history.location.pathname}),{matches:I,route:x}=Xm(s);T=I,p={[x.id]:w}}let f,y=T.some(w=>w.route.lazy),S=T.some(w=>w.route.loader);if(y)f=!1;else if(!S)f=!0;else if(u.v7_partialHydration){let w=t.hydrationData?t.hydrationData.loaderData:null,I=t.hydrationData?t.hydrationData.errors:null;f=T.every(x=>x.route.loader&&x.route.loader.hydrate!==!0&&(w&&w[x.route.id]!==void 0||I&&I[x.route.id]!==void 0))}else f=t.hydrationData!=null;let D,v={historyAction:t.history.action,location:t.history.location,matches:T,initialized:f,navigation:Cc,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||p,fetchers:new Map,blockers:new Map},R=Ue.Pop,k=!1,O,U=!1,ne=new Map,pe=null,_e=!1,pt=!1,sn=[],Gt=[],me=new Map,V=0,W=-1,q=new Map,le=new Set,ge=new Map,Dt=new Map,$e=new Set,B=new Map,te=new Map,At=!1;function vn(){if(c=t.history.listen(w=>{let{action:I,location:x,delta:L}=w;if(At){At=!1;return}ri(te.size===0||L!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let $=Pp({currentLocation:v.location,nextLocation:x,historyAction:I});if($&&L!=null){At=!0,t.history.go(L*-1),_a($,{state:"blocked",location:x,proceed(){_a($,{state:"proceeding",proceed:void 0,reset:void 0,location:x}),t.history.go(L)},reset(){let ie=new Map(v.blockers);ie.set($,Do),Q({blockers:ie})}});return}return Ee(I,x)}),n){KI(e,ne);let w=()=>GI(e,ne);e.addEventListener("pagehide",w),pe=()=>e.removeEventListener("pagehide",w)}return v.initialized||Ee(Ue.Pop,v.location,{initialHydration:!0}),D}function Kn(){c&&c(),pe&&pe(),h.clear(),O&&O.abort(),v.fetchers.forEach((w,I)=>va(I)),v.blockers.forEach((w,I)=>Cp(I))}function X(w){return h.add(w),()=>h.delete(w)}function Q(w,I){I===void 0&&(I={}),v=be({},v,w);let x=[],L=[];u.v7_fetcherPersist&&v.fetchers.forEach(($,ie)=>{$.state==="idle"&&($e.has(ie)?L.push(ie):x.push(ie))}),[...h].forEach($=>$(v,{deletedFetchers:L,unstable_viewTransitionOpts:I.viewTransitionOpts,unstable_flushSync:I.flushSync===!0})),u.v7_fetcherPersist&&(x.forEach($=>v.fetchers.delete($)),L.forEach($=>va($)))}function Ne(w,I,x){var L,$;let{flushSync:ie}=x===void 0?{}:x,G=v.actionData!=null&&v.navigation.formMethod!=null&&cn(v.navigation.formMethod)&&v.navigation.state==="loading"&&((L=w.state)==null?void 0:L._isRedirect)!==!0,K;I.actionData?Object.keys(I.actionData).length>0?K=I.actionData:K=null:G?K=v.actionData:K=null;let H=I.loaderData?Ym(v.loaderData,I.loaderData,I.matches||[],I.errors):v.loaderData,ue=v.blockers;ue.size>0&&(ue=new Map(ue),ue.forEach((Te,ot)=>ue.set(ot,Do)));let Je=k===!0||v.navigation.formMethod!=null&&cn(v.navigation.formMethod)&&(($=w.state)==null?void 0:$._isRedirect)!==!0;a&&(s=a,a=void 0),_e||R===Ue.Pop||(R===Ue.Push?t.history.push(w,w.state):R===Ue.Replace&&t.history.replace(w,w.state));let re;if(R===Ue.Pop){let Te=ne.get(v.location.pathname);Te&&Te.has(w.pathname)?re={currentLocation:v.location,nextLocation:w}:ne.has(w.pathname)&&(re={currentLocation:w,nextLocation:v.location})}else if(U){let Te=ne.get(v.location.pathname);Te?Te.add(w.pathname):(Te=new Set([w.pathname]),ne.set(v.location.pathname,Te)),re={currentLocation:v.location,nextLocation:w}}Q(be({},I,{actionData:K,loaderData:H,historyAction:R,location:w,initialized:!0,navigation:Cc,revalidation:"idle",restoreScrollPosition:Np(w,I.matches||v.matches),preventScrollReset:Je,blockers:ue}),{viewTransitionOpts:re,flushSync:ie===!0}),R=Ue.Pop,k=!1,U=!1,_e=!1,pt=!1,sn=[],Gt=[]}async function Xe(w,I){if(typeof w=="number"){t.history.go(w);return}let x=$h(v.location,v.matches,l,u.v7_prependBasename,w,u.v7_relativeSplatPath,I==null?void 0:I.fromRouteId,I==null?void 0:I.relative),{path:L,submission:$,error:ie}=Qm(u.v7_normalizeFormMethod,!1,x,I),G=v.location,K=Cs(v.location,L,I&&I.state);K=be({},K,t.history.encodeLocation(K));let H=I&&I.replace!=null?I.replace:void 0,ue=Ue.Push;H===!0?ue=Ue.Replace:H===!1||$!=null&&cn($.formMethod)&&$.formAction===v.location.pathname+v.location.search&&(ue=Ue.Replace);let Je=I&&"preventScrollReset"in I?I.preventScrollReset===!0:void 0,re=(I&&I.unstable_flushSync)===!0,Te=Pp({currentLocation:G,nextLocation:K,historyAction:ue});if(Te){_a(Te,{state:"blocked",location:K,proceed(){_a(Te,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),Xe(w,I)},reset(){let ot=new Map(v.blockers);ot.set(Te,Do),Q({blockers:ot})}});return}return await Ee(ue,K,{submission:$,pendingError:ie,preventScrollReset:Je,replace:I&&I.replace,enableViewTransition:I&&I.unstable_viewTransition,flushSync:re})}function qe(){if(Gu(),Q({revalidation:"loading"}),v.navigation.state!=="submitting"){if(v.navigation.state==="idle"){Ee(v.historyAction,v.location,{startUninterruptedRevalidation:!0});return}Ee(R||v.historyAction,v.navigation.location,{overrideNavigation:v.navigation})}}async function Ee(w,I,x){O&&O.abort(),O=null,R=w,_e=(x&&x.startUninterruptedRevalidation)===!0,CE(v.location,v.matches),k=(x&&x.preventScrollReset)===!0,U=(x&&x.enableViewTransition)===!0;let L=a||s,$=x&&x.overrideNavigation,ie=ji(L,I,l),G=(x&&x.flushSync)===!0;if(!ie){let ot=Xt(404,{pathname:I.pathname}),{matches:Yt,route:Ze}=Xm(L);Yu(),Ne(I,{matches:Yt,loaderData:{},errors:{[Ze.id]:ot}},{flushSync:G});return}if(v.initialized&&!pt&&zI(v.location,I)&&!(x&&x.submission&&cn(x.submission.formMethod))){Ne(I,{matches:ie},{flushSync:G});return}O=new AbortController;let K=Lo(t.history,I,O.signal,x&&x.submission),H,ue;if(x&&x.pendingError)ue={[is(ie).route.id]:x.pendingError};else if(x&&x.submission&&cn(x.submission.formMethod)){let ot=await xt(K,I,x.submission,ie,{replace:x.replace,flushSync:G});if(ot.shortCircuited)return;H=ot.pendingActionData,ue=ot.pendingActionError,$=Pc(I,x.submission),G=!1,K=new Request(K.url,{signal:K.signal})}let{shortCircuited:Je,loaderData:re,errors:Te}=await _n(K,I,ie,$,x&&x.submission,x&&x.fetcherSubmission,x&&x.replace,x&&x.initialHydration===!0,G,H,ue);Je||(O=null,Ne(I,be({matches:ie},H?{actionData:H}:{},{loaderData:re,errors:Te})))}async function xt(w,I,x,L,$){$===void 0&&($={}),Gu();let ie=WI(I,x);Q({navigation:ie},{flushSync:$.flushSync===!0});let G,K=zh(L,I);if(!K.route.action&&!K.route.lazy)G={type:Me.error,error:Xt(405,{method:w.method,pathname:I.pathname,routeId:K.route.id})};else if(G=await Vo("action",w,K,L,o,i,l,u.v7_relativeSplatPath),w.signal.aborted)return{shortCircuited:!0};if(Qr(G)){let H;return $&&$.replace!=null?H=$.replace:H=G.location===v.location.pathname+v.location.search,await Gn(v,G,{submission:x,replace:H}),{shortCircuited:!0}}if(Mi(G)){let H=is(L,K.route.id);return($&&$.replace)!==!0&&(R=Ue.Push),{pendingActionData:{},pendingActionError:{[H.route.id]:G.error}}}if(Br(G))throw Xt(400,{type:"defer-action"});return{pendingActionData:{[K.route.id]:G.data}}}async function _n(w,I,x,L,$,ie,G,K,H,ue,Je){let re=L||Pc(I,$),Te=$||ie||eg(re),ot=a||s,[Yt,Ze]=Hm(t.history,v,x,Te,I,u.v7_partialHydration&&K===!0,pt,sn,Gt,$e,ge,le,ot,l,ue,Je);if(Yu(we=>!(x&&x.some(Pe=>Pe.route.id===we))||Yt&&Yt.some(Pe=>Pe.route.id===we)),W=++V,Yt.length===0&&Ze.length===0){let we=xp();return Ne(I,be({matches:x,loaderData:{},errors:Je||null},ue?{actionData:ue}:{},we?{fetchers:new Map(v.fetchers)}:{}),{flushSync:H}),{shortCircuited:!0}}if(!_e&&(!u.v7_partialHydration||!K)){Ze.forEach(Pe=>{let En=v.fetchers.get(Pe.key),wa=jo(void 0,En?En.data:void 0);v.fetchers.set(Pe.key,wa)});let we=ue||v.actionData;Q(be({navigation:re},we?Object.keys(we).length===0?{actionData:null}:{actionData:we}:{},Ze.length>0?{fetchers:new Map(v.fetchers)}:{}),{flushSync:H})}Ze.forEach(we=>{me.has(we.key)&&Xn(we.key),we.controller&&me.set(we.key,we.controller)});let mi=()=>Ze.forEach(we=>Xn(we.key));O&&O.signal.addEventListener("abort",mi);let{results:Xu,loaderResults:gi,fetcherResults:Jn}=await Ku(v.matches,x,Yt,Ze,w);if(w.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",mi),Ze.forEach(we=>me.delete(we.key));let jr=Jm(Xu);if(jr){if(jr.idx>=Yt.length){let we=Ze[jr.idx-Yt.length].key;le.add(we)}return await Gn(v,jr.result,{replace:G}),{shortCircuited:!0}}let{loaderData:Ju,errors:Zu}=Gm(v,x,Yt,gi,Je,Ze,Jn,B);B.forEach((we,Pe)=>{we.subscribe(En=>{(En||we.done)&&B.delete(Pe)})});let ec=xp(),yi=Rp(W),Ea=ec||yi||Ze.length>0;return be({loaderData:Ju,errors:Zu},Ea?{fetchers:new Map(v.fetchers)}:{})}function pi(w,I,x,L){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");me.has(w)&&Xn(w);let $=(L&&L.unstable_flushSync)===!0,ie=a||s,G=$h(v.location,v.matches,l,u.v7_prependBasename,x,u.v7_relativeSplatPath,I,L==null?void 0:L.relative),K=ji(ie,G,l);if(!K){Io(w,I,Xt(404,{pathname:G}),{flushSync:$});return}let{path:H,submission:ue,error:Je}=Qm(u.v7_normalizeFormMethod,!0,G,L);if(Je){Io(w,I,Je,{flushSync:$});return}let re=zh(K,H);if(k=(L&&L.preventScrollReset)===!0,ue&&cn(ue.formMethod)){To(w,I,H,re,K,$,ue);return}ge.set(w,{routeId:I,path:H}),Lr(w,I,H,re,K,$,ue)}async function To(w,I,x,L,$,ie,G){if(Gu(),ge.delete(w),!L.route.action&&!L.route.lazy){let Pe=Xt(405,{method:G.formMethod,pathname:x,routeId:I});Io(w,I,Pe,{flushSync:ie});return}let K=v.fetchers.get(w);Yn(w,qI(G,K),{flushSync:ie});let H=new AbortController,ue=Lo(t.history,x,H.signal,G);me.set(w,H);let Je=V,re=await Vo("action",ue,L,$,o,i,l,u.v7_relativeSplatPath);if(ue.signal.aborted){me.get(w)===H&&me.delete(w);return}if(u.v7_fetcherPersist&&$e.has(w)){if(Qr(re)||Mi(re)){Yn(w,er(void 0));return}}else{if(Qr(re))if(me.delete(w),W>Je){Yn(w,er(void 0));return}else return le.add(w),Yn(w,jo(G)),Gn(v,re,{fetcherSubmission:G});if(Mi(re)){Io(w,I,re.error);return}}if(Br(re))throw Xt(400,{type:"defer-action"});let Te=v.navigation.location||v.location,ot=Lo(t.history,Te,H.signal),Yt=a||s,Ze=v.navigation.state!=="idle"?ji(Yt,v.navigation.location,l):v.matches;oe(Ze,"Didn't find any matches after fetcher action");let mi=++V;q.set(w,mi);let Xu=jo(G,re.data);v.fetchers.set(w,Xu);let[gi,Jn]=Hm(t.history,v,Ze,G,Te,!1,pt,sn,Gt,$e,ge,le,Yt,l,{[L.route.id]:re.data},void 0);Jn.filter(Pe=>Pe.key!==w).forEach(Pe=>{let En=Pe.key,wa=v.fetchers.get(En),kE=jo(void 0,wa?wa.data:void 0);v.fetchers.set(En,kE),me.has(En)&&Xn(En),Pe.controller&&me.set(En,Pe.controller)}),Q({fetchers:new Map(v.fetchers)});let jr=()=>Jn.forEach(Pe=>Xn(Pe.key));H.signal.addEventListener("abort",jr);let{results:Ju,loaderResults:Zu,fetcherResults:ec}=await Ku(v.matches,Ze,gi,Jn,ot);if(H.signal.aborted)return;H.signal.removeEventListener("abort",jr),q.delete(w),me.delete(w),Jn.forEach(Pe=>me.delete(Pe.key));let yi=Jm(Ju);if(yi){if(yi.idx>=gi.length){let Pe=Jn[yi.idx-gi.length].key;le.add(Pe)}return Gn(v,yi.result)}let{loaderData:Ea,errors:we}=Gm(v,v.matches,gi,Zu,void 0,Jn,ec,B);if(v.fetchers.has(w)){let Pe=er(re.data);v.fetchers.set(w,Pe)}Rp(mi),v.navigation.state==="loading"&&mi>W?(oe(R,"Expected pending action"),O&&O.abort(),Ne(v.navigation.location,{matches:Ze,loaderData:Ea,errors:we,fetchers:new Map(v.fetchers)})):(Q({errors:we,loaderData:Ym(v.loaderData,Ea,Ze,we),fetchers:new Map(v.fetchers)}),pt=!1)}async function Lr(w,I,x,L,$,ie,G){let K=v.fetchers.get(w);Yn(w,jo(G,K?K.data:void 0),{flushSync:ie});let H=new AbortController,ue=Lo(t.history,x,H.signal);me.set(w,H);let Je=V,re=await Vo("loader",ue,L,$,o,i,l,u.v7_relativeSplatPath);if(Br(re)&&(re=await Bv(re,ue.signal,!0)||re),me.get(w)===H&&me.delete(w),!ue.signal.aborted){if($e.has(w)){Yn(w,er(void 0));return}if(Qr(re))if(W>Je){Yn(w,er(void 0));return}else{le.add(w),await Gn(v,re);return}if(Mi(re)){Io(w,I,re.error);return}oe(!Br(re),"Unhandled fetcher deferred data"),Yn(w,er(re.data))}}async function Gn(w,I,x){let{submission:L,fetcherSubmission:$,replace:ie}=x===void 0?{}:x;I.revalidate&&(pt=!0);let G=Cs(w.location,I.location,{_isRedirect:!0});if(oe(G,"Expected a location on the redirect navigation"),n){let Te=!1;if(I.reloadDocument)Te=!0;else if(Fv.test(I.location)){const ot=t.history.createURL(I.location);Te=ot.origin!==e.location.origin||ea(ot.pathname,l)==null}if(Te){ie?e.location.replace(I.location):e.location.assign(I.location);return}}O=null;let K=ie===!0?Ue.Replace:Ue.Push,{formMethod:H,formAction:ue,formEncType:Je}=w.navigation;!L&&!$&&H&&ue&&Je&&(L=eg(w.navigation));let re=L||$;if(LI.has(I.status)&&re&&cn(re.formMethod))await Ee(K,G,{submission:be({},re,{formAction:I.location}),preventScrollReset:k});else{let Te=Pc(G,L);await Ee(K,G,{overrideNavigation:Te,fetcherSubmission:$,preventScrollReset:k})}}async function Ku(w,I,x,L,$){let ie=await Promise.all([...x.map(H=>Vo("loader",$,H,I,o,i,l,u.v7_relativeSplatPath)),...L.map(H=>H.matches&&H.match&&H.controller?Vo("loader",Lo(t.history,H.path,H.controller.signal),H.match,H.matches,o,i,l,u.v7_relativeSplatPath):{type:Me.error,error:Xt(404,{pathname:H.path})})]),G=ie.slice(0,x.length),K=ie.slice(x.length);return await Promise.all([Zm(w,x,G,G.map(()=>$.signal),!1,v.loaderData),Zm(w,L.map(H=>H.match),K,L.map(H=>H.controller?H.controller.signal:null),!0)]),{results:ie,loaderResults:G,fetcherResults:K}}function Gu(){pt=!0,sn.push(...Yu()),ge.forEach((w,I)=>{me.has(I)&&(Gt.push(I),Xn(I))})}function Yn(w,I,x){x===void 0&&(x={}),v.fetchers.set(w,I),Q({fetchers:new Map(v.fetchers)},{flushSync:(x&&x.flushSync)===!0})}function Io(w,I,x,L){L===void 0&&(L={});let $=is(v.matches,I);va(w),Q({errors:{[$.route.id]:x},fetchers:new Map(v.fetchers)},{flushSync:(L&&L.flushSync)===!0})}function Sp(w){return u.v7_fetcherPersist&&(Dt.set(w,(Dt.get(w)||0)+1),$e.has(w)&&$e.delete(w)),v.fetchers.get(w)||jI}function va(w){let I=v.fetchers.get(w);me.has(w)&&!(I&&I.state==="loading"&&q.has(w))&&Xn(w),ge.delete(w),q.delete(w),le.delete(w),$e.delete(w),v.fetchers.delete(w)}function AE(w){if(u.v7_fetcherPersist){let I=(Dt.get(w)||0)-1;I<=0?(Dt.delete(w),$e.add(w)):Dt.set(w,I)}else va(w);Q({fetchers:new Map(v.fetchers)})}function Xn(w){let I=me.get(w);oe(I,"Expected fetch controller: "+w),I.abort(),me.delete(w)}function Ap(w){for(let I of w){let x=Sp(I),L=er(x.data);v.fetchers.set(I,L)}}function xp(){let w=[],I=!1;for(let x of le){let L=v.fetchers.get(x);oe(L,"Expected fetcher: "+x),L.state==="loading"&&(le.delete(x),w.push(x),I=!0)}return Ap(w),I}function Rp(w){let I=[];for(let[x,L]of q)if(L<w){let $=v.fetchers.get(x);oe($,"Expected fetcher: "+x),$.state==="loading"&&(Xn(x),q.delete(x),I.push(x))}return Ap(I),I.length>0}function xE(w,I){let x=v.blockers.get(w)||Do;return te.get(w)!==I&&te.set(w,I),x}function Cp(w){v.blockers.delete(w),te.delete(w)}function _a(w,I){let x=v.blockers.get(w)||Do;oe(x.state==="unblocked"&&I.state==="blocked"||x.state==="blocked"&&I.state==="blocked"||x.state==="blocked"&&I.state==="proceeding"||x.state==="blocked"&&I.state==="unblocked"||x.state==="proceeding"&&I.state==="unblocked","Invalid blocker state transition: "+x.state+" -> "+I.state);let L=new Map(v.blockers);L.set(w,I),Q({blockers:L})}function Pp(w){let{currentLocation:I,nextLocation:x,historyAction:L}=w;if(te.size===0)return;te.size>1&&ri(!1,"A router only supports one blocker at a time");let $=Array.from(te.entries()),[ie,G]=$[$.length-1],K=v.blockers.get(ie);if(!(K&&K.state==="proceeding")&&G({currentLocation:I,nextLocation:x,historyAction:L}))return ie}function Yu(w){let I=[];return B.forEach((x,L)=>{(!w||w(L))&&(x.cancel(),I.push(L),B.delete(L))}),I}function RE(w,I,x){if(d=w,E=I,g=x||null,!_&&v.navigation===Cc){_=!0;let L=Np(v.location,v.matches);L!=null&&Q({restoreScrollPosition:L})}return()=>{d=null,E=null,g=null}}function kp(w,I){return g&&g(w,I.map(L=>cI(L,v.loaderData)))||w.key}function CE(w,I){if(d&&E){let x=kp(w,I);d[x]=E()}}function Np(w,I){if(d){let x=kp(w,I),L=d[x];if(typeof L=="number")return L}return null}function PE(w){o={},a=Fh(w,i,void 0,o)}return D={get basename(){return l},get future(){return u},get state(){return v},get routes(){return s},get window(){return e},initialize:vn,subscribe:X,enableScrollRestoration:RE,navigate:Xe,fetch:pi,revalidate:qe,createHref:w=>t.history.createHref(w),encodeLocation:w=>t.history.encodeLocation(w),getFetcher:Sp,deleteFetcher:AE,dispose:Kn,getBlocker:xE,deleteBlocker:Cp,_internalFetchControllers:me,_internalActiveDeferreds:B,_internalSetRoutes:PE},D}function bI(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function $h(t,e,n,r,i,o,s,a){let l,u;if(s){l=[];for(let h of e)if(l.push(h),h.route.id===s){u=h;break}}else l=e,u=e[e.length-1];let c=Mv(i||".",jv(l,o),ea(t.pathname,n)||t.pathname,a==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!vf(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:gr([n,c.pathname])),Zs(c)}function Qm(t,e,n,r){if(!r||!bI(r))return{path:n};if(r.formMethod&&!HI(r.formMethod))return{path:n,error:Xt(405,{method:r.formMethod})};let i=()=>({path:n,error:Xt(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),a=zv(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!cn(s))return i();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,E)=>{let[_,T]=E;return""+g+_+"="+T+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!cn(s))return i();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return i()}}}oe(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=Uh(r.formData),u=r.formData;else if(r.body instanceof FormData)l=Uh(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=Km(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=Km(l)}catch{return i()}let c={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(cn(c.formMethod))return{path:n,submission:c};let h=qn(n);return e&&h.search&&vf(h.search)&&l.append("index",""),h.search="?"+l,{path:Zs(h),submission:c}}function FI(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Hm(t,e,n,r,i,o,s,a,l,u,c,h,d,g,E,_){let T=_?Object.values(_)[0]:E?Object.values(E)[0]:void 0,p=t.createURL(e.location),f=t.createURL(i),y=_?Object.keys(_)[0]:void 0,D=FI(n,y).filter((R,k)=>{let{route:O}=R;if(O.lazy)return!0;if(O.loader==null)return!1;if(o)return O.loader.hydrate?!0:e.loaderData[O.id]===void 0&&(!e.errors||e.errors[O.id]===void 0);if($I(e.loaderData,e.matches[k],R)||a.some(pe=>pe===R.route.id))return!0;let U=e.matches[k],ne=R;return Wm(R,be({currentUrl:p,currentParams:U.params,nextUrl:f,nextParams:ne.params},r,{actionResult:T,defaultShouldRevalidate:s||p.pathname+p.search===f.pathname+f.search||p.search!==f.search||Uv(U,ne)}))}),v=[];return c.forEach((R,k)=>{if(o||!n.some(_e=>_e.route.id===R.routeId)||u.has(k))return;let O=ji(d,R.path,g);if(!O){v.push({key:k,routeId:R.routeId,path:R.path,matches:null,match:null,controller:null});return}let U=e.fetchers.get(k),ne=zh(O,R.path),pe=!1;h.has(k)?pe=!1:l.includes(k)?pe=!0:U&&U.state!=="idle"&&U.data===void 0?pe=s:pe=Wm(ne,be({currentUrl:p,currentParams:e.matches[e.matches.length-1].params,nextUrl:f,nextParams:n[n.length-1].params},r,{actionResult:T,defaultShouldRevalidate:s})),pe&&v.push({key:k,routeId:R.routeId,path:R.path,matches:O,match:ne,controller:new AbortController})}),[D,v]}function $I(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function Uv(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Wm(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function qm(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];oe(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";ri(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!lI.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,be({},e(i),{lazy:void 0}))}async function Vo(t,e,n,r,i,o,s,a,l){l===void 0&&(l={});let u,c,h,d=_=>{let T,p=new Promise((f,y)=>T=y);return h=()=>T(),e.signal.addEventListener("abort",h),Promise.race([_({request:e,params:n.params,context:l.requestContext}),p])};try{let _=n.route[t];if(n.route.lazy)if(_){let T,p=await Promise.all([d(_).catch(f=>{T=f}),qm(n.route,o,i)]);if(T)throw T;c=p[0]}else if(await qm(n.route,o,i),_=n.route[t],_)c=await d(_);else if(t==="action"){let T=new URL(e.url),p=T.pathname+T.search;throw Xt(405,{method:e.method,pathname:p,routeId:n.route.id})}else return{type:Me.data,data:void 0};else if(_)c=await d(_);else{let T=new URL(e.url),p=T.pathname+T.search;throw Xt(404,{pathname:p})}oe(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(_){u=Me.error,c=_}finally{h&&e.signal.removeEventListener("abort",h)}if(QI(c)){let _=c.status;if(VI.has(_)){let p=c.headers.get("Location");if(oe(p,"Redirects returned/thrown from loaders/actions must have a Location header"),!Fv.test(p))p=$h(new URL(e.url),r.slice(0,r.indexOf(n)+1),s,!0,p,a);else if(!l.isStaticRequest){let f=new URL(e.url),y=p.startsWith("//")?new URL(f.protocol+p):new URL(p),S=ea(y.pathname,s)!=null;y.origin===f.origin&&S&&(p=y.pathname+y.search+y.hash)}if(l.isStaticRequest)throw c.headers.set("Location",p),c;return{type:Me.redirect,status:_,location:p,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:u===Me.error?Me.error:Me.data,response:c};let T;try{let p=c.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?c.body==null?T=null:T=await c.json():T=await c.text()}catch(p){return{type:Me.error,error:p}}return u===Me.error?{type:u,error:new yf(_,c.statusText,T),headers:c.headers}:{type:Me.data,data:T,statusCode:c.status,headers:c.headers}}if(u===Me.error)return{type:u,error:c};if(BI(c)){var g,E;return{type:Me.deferred,deferredData:c,statusCode:(g=c.init)==null?void 0:g.status,headers:((E=c.init)==null?void 0:E.headers)&&new Headers(c.init.headers)}}return{type:Me.data,data:c}}function Lo(t,e,n,r){let i=t.createURL(zv(e)).toString(),o={signal:n};if(r&&cn(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=Uh(r.formData):o.body=r.formData}return new Request(i,o)}function Uh(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Km(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function UI(t,e,n,r,i){let o={},s=null,a,l=!1,u={};return n.forEach((c,h)=>{let d=e[h].route.id;if(oe(!Qr(c),"Cannot handle redirect results in processLoaderData"),Mi(c)){let g=is(t,d),E=c.error;r&&(E=Object.values(r)[0],r=void 0),s=s||{},s[g.route.id]==null&&(s[g.route.id]=E),o[d]=void 0,l||(l=!0,a=Ov(c.error)?c.error.status:500),c.headers&&(u[d]=c.headers)}else Br(c)?(i.set(d,c.deferredData),o[d]=c.deferredData.data):o[d]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[d]=c.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function Gm(t,e,n,r,i,o,s,a){let{loaderData:l,errors:u}=UI(e,n,r,i,a);for(let c=0;c<o.length;c++){let{key:h,match:d,controller:g}=o[c];oe(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let E=s[c];if(!(g&&g.signal.aborted))if(Mi(E)){let _=is(t.matches,d==null?void 0:d.route.id);u&&u[_.route.id]||(u=be({},u,{[_.route.id]:E.error})),t.fetchers.delete(h)}else if(Qr(E))oe(!1,"Unhandled fetcher revalidation redirect");else if(Br(E))oe(!1,"Unhandled fetcher deferred data");else{let _=er(E.data);t.fetchers.set(h,_)}}return{loaderData:l,errors:u}}function Ym(t,e,n,r){let i=be({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function is(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Xm(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Xt(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):t===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",a='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new yf(t||500,s,new Error(a),!0)}function Jm(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Qr(n))return{result:n,idx:e}}}function zv(t){let e=typeof t=="string"?qn(t):t;return Zs(be({},e,{hash:""}))}function zI(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Br(t){return t.type===Me.deferred}function Mi(t){return t.type===Me.error}function Qr(t){return(t&&t.type)===Me.redirect}function BI(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function QI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function HI(t){return DI.has(t.toLowerCase())}function cn(t){return kI.has(t.toLowerCase())}async function Zm(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=e[s];if(!l)continue;let u=t.find(h=>h.route.id===l.route.id),c=u!=null&&!Uv(u,l)&&(o&&o[l.route.id])!==void 0;if(Br(a)&&(i||c)){let h=r[s];oe(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await Bv(a,h,i).then(d=>{d&&(n[s]=d||n[s])})}}}async function Bv(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Me.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Me.error,error:i}}return{type:Me.data,data:t.deferredData.data}}}function vf(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function zh(t,e){let n=typeof e=="string"?qn(e).search:e.search;if(t[t.length-1].route.index&&vf(n||""))return t[t.length-1];let r=Lv(t);return r[r.length-1]}function eg(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Pc(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function WI(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function jo(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function qI(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function er(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function KI(t,e){try{let n=t.sessionStorage.getItem($v);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function GI(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem($v,JSON.stringify(n))}catch(r){ri(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.21.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ps(){return Ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ps.apply(this,arguments)}const mu=A.createContext(null),Qv=A.createContext(null),gu=A.createContext(null),yu=A.createContext(null),ci=A.createContext({outlet:null,matches:[],isDataRoute:!1}),Hv=A.createContext(null);function vu(){return A.useContext(yu)!=null}function Wv(){return vu()||oe(!1),A.useContext(yu).location}function qv(t){A.useContext(gu).static||A.useLayoutEffect(t)}function ta(){let{isDataRoute:t}=A.useContext(ci);return t?lS():YI()}function YI(){vu()||oe(!1);let t=A.useContext(mu),{basename:e,future:n,navigator:r}=A.useContext(gu),{matches:i}=A.useContext(ci),{pathname:o}=Wv(),s=JSON.stringify(jv(i,n.v7_relativeSplatPath)),a=A.useRef(!1);return qv(()=>{a.current=!0}),A.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=Mv(u,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:gr([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,s,o,t])}function XI(){let{matches:t}=A.useContext(ci),e=t[t.length-1];return e?e.params:{}}function JI(t,e,n,r){vu()||oe(!1);let{navigator:i}=A.useContext(gu),{matches:o}=A.useContext(ci),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Wv(),c;if(e){var h;let T=typeof e=="string"?qn(e):e;l==="/"||(h=T.pathname)!=null&&h.startsWith(l)||oe(!1),c=T}else c=u;let d=c.pathname||"/",g=l==="/"?d:d.slice(l.length)||"/",E=ji(t,{pathname:g}),_=rS(E&&E.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:gr([l,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:gr([l,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,n,r);return e&&_?A.createElement(yu.Provider,{value:{location:Ps({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ue.Pop}},_):_}function ZI(){let t=aS(),e=Ov(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,null)}const eS=A.createElement(ZI,null);class tS extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?A.createElement(ci.Provider,{value:this.props.routeContext},A.createElement(Hv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nS(t){let{routeContext:e,match:n,children:r}=t,i=A.useContext(mu);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(ci.Provider,{value:e},r)}function rS(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id]));c>=0||oe(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:d,errors:g}=n,E=h.route.loader&&d[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||E){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,h,d)=>{let g,E=!1,_=null,T=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||eS,l&&(u<0&&d===0?(uS("route-fallback",!1),E=!0,T=null):u===d&&(E=!0,T=h.route.hydrateFallbackElement||null)));let p=e.concat(s.slice(0,d+1)),f=()=>{let y;return g?y=_:E?y=T:h.route.Component?y=A.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=c,A.createElement(nS,{match:h,routeContext:{outlet:c,matches:p,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?A.createElement(tS,{location:n.location,revalidation:n.revalidation,component:_,error:g,children:f(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):f()},null)}var Kv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Kv||{}),Vl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Vl||{});function iS(t){let e=A.useContext(mu);return e||oe(!1),e}function oS(t){let e=A.useContext(Qv);return e||oe(!1),e}function sS(t){let e=A.useContext(ci);return e||oe(!1),e}function Gv(t){let e=sS(),n=e.matches[e.matches.length-1];return n.route.id||oe(!1),n.route.id}function aS(){var t;let e=A.useContext(Hv),n=oS(Vl.UseRouteError),r=Gv(Vl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function lS(){let{router:t}=iS(Kv.UseNavigateStable),e=Gv(Vl.UseNavigateStable),n=A.useRef(!1);return qv(()=>{n.current=!0}),A.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ps({fromRouteId:e},o)))},[t,e])}const tg={};function uS(t,e,n){!e&&!tg[t]&&(tg[t]=!0)}function cS(t){oe(!1)}function hS(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ue.Pop,navigator:o,static:s=!1,future:a}=t;vu()&&oe(!1);let l=e.replace(/^\/*/,"/"),u=A.useMemo(()=>({basename:l,navigator:o,static:s,future:Ps({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=qn(r));let{pathname:c="/",search:h="",hash:d="",state:g=null,key:E="default"}=r,_=A.useMemo(()=>{let T=ea(c,l);return T==null?null:{location:{pathname:T,search:h,hash:d,state:g,key:E},navigationType:i}},[l,c,h,d,g,E,i]);return _==null?null:A.createElement(gu.Provider,{value:u},A.createElement(yu.Provider,{children:n,value:_}))}new Promise(()=>{});function dS(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:A.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:A.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:A.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.21.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ll(){return Ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ll.apply(this,arguments)}function fS(t,e){return OI({basename:e==null?void 0:e.basename,future:Ll({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:oI({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||pS(),routes:t,mapRouteProperties:dS,window:e==null?void 0:e.window}).initialize()}function pS(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ll({},e,{errors:mS(e.errors)})),e}function mS(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new yf(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const gS=A.createContext({isTransitioning:!1}),yS=A.createContext(new Map),vS="startTransition",ng=qE[vS],_S="flushSync",rg=iI[_S];function ES(t){ng?ng(t):t()}function Mo(t){rg?rg(t):t()}let wS=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function TS(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=A.useState(n.state),[s,a]=A.useState(),[l,u]=A.useState({isTransitioning:!1}),[c,h]=A.useState(),[d,g]=A.useState(),[E,_]=A.useState(),T=A.useRef(new Map),{v7_startTransition:p}=r||{},f=A.useCallback(R=>{p?ES(R):R()},[p]),y=A.useCallback((R,k)=>{let{deletedFetchers:O,unstable_flushSync:U,unstable_viewTransitionOpts:ne}=k;O.forEach(_e=>T.current.delete(_e)),R.fetchers.forEach((_e,pt)=>{_e.data!==void 0&&T.current.set(pt,_e.data)});let pe=n.window==null||typeof n.window.document.startViewTransition!="function";if(!ne||pe){U?Mo(()=>o(R)):f(()=>o(R));return}if(U){Mo(()=>{d&&(c&&c.resolve(),d.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:ne.currentLocation,nextLocation:ne.nextLocation})});let _e=n.window.document.startViewTransition(()=>{Mo(()=>o(R))});_e.finished.finally(()=>{Mo(()=>{h(void 0),g(void 0),a(void 0),u({isTransitioning:!1})})}),Mo(()=>g(_e));return}d?(c&&c.resolve(),d.skipTransition(),_({state:R,currentLocation:ne.currentLocation,nextLocation:ne.nextLocation})):(a(R),u({isTransitioning:!0,flushSync:!1,currentLocation:ne.currentLocation,nextLocation:ne.nextLocation}))},[n.window,d,c,T,f]);A.useLayoutEffect(()=>n.subscribe(y),[n,y]),A.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new wS)},[l]),A.useEffect(()=>{if(c&&s&&n.window){let R=s,k=c.promise,O=n.window.document.startViewTransition(async()=>{f(()=>o(R)),await k});O.finished.finally(()=>{h(void 0),g(void 0),a(void 0),u({isTransitioning:!1})}),g(O)}},[f,s,c,n.window]),A.useEffect(()=>{c&&s&&i.location.key===s.location.key&&c.resolve()},[c,d,i.location,s]),A.useEffect(()=>{!l.isTransitioning&&E&&(a(E.state),u({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),_(void 0))},[l.isTransitioning,E]),A.useEffect(()=>{},[]);let S=A.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:R=>n.navigate(R),push:(R,k,O)=>n.navigate(R,{state:k,preventScrollReset:O==null?void 0:O.preventScrollReset}),replace:(R,k,O)=>n.navigate(R,{replace:!0,state:k,preventScrollReset:O==null?void 0:O.preventScrollReset})}),[n]),D=n.basename||"/",v=A.useMemo(()=>({router:n,navigator:S,static:!1,basename:D}),[n,S,D]);return A.createElement(A.Fragment,null,A.createElement(mu.Provider,{value:v},A.createElement(Qv.Provider,{value:i},A.createElement(yS.Provider,{value:T.current},A.createElement(gS.Provider,{value:l},A.createElement(hS,{basename:D,location:i.location,navigationType:i.historyAction,navigator:S,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?A.createElement(IS,{routes:n.routes,future:n.future,state:i}):e))))),null)}function IS(t){let{routes:e,future:n,state:r}=t;return JI(e,void 0,r,n)}var ig;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ig||(ig={}));var og;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(og||(og={}));var sg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},SS=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Xv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,h=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,g=u&63;l||(g=64,s||(d=64)),r.push(n[c],n[h],n[d],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Yv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||h==null)throw new AS;const d=o<<2|a>>4;if(r.push(d),u!==64){const g=a<<4&240|u>>2;if(r.push(g),h!==64){const E=u<<6&192|h;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class AS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xS=function(t){const e=Yv(t);return Xv.encodeByteArray(e,!0)},jl=function(t){return xS(t).replace(/\./g,"")},RS=function(t){try{return Xv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=()=>CS().__FIREBASE_DEFAULTS__,kS=()=>{if(typeof process>"u"||typeof sg>"u")return;const t=sg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},NS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&RS(t[1]);return e&&JSON.parse(e)},_f=()=>{try{return PS()||kS()||NS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DS=t=>{var e,n;return(n=(e=_f())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},VS=t=>{const e=DS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Jv=()=>{var t;return(t=_f())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jl(JSON.stringify(n)),jl(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MS(){var t;const e=(t=_f())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OS(){return!MS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zv(){try{return typeof indexedDB=="object"}catch{return!1}}function bS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="FirebaseError";class mo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=FS,Object.setPrototypeOf(this,mo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,e_.prototype.create)}}class e_{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?$S(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new mo(i,a,r)}}function $S(t,e){return t.replace(US,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const US=/\{\$([^}]+)}/g;function Bh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(ag(o)&&ag(s)){if(!Bh(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ag(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t){return t&&t._delegate?t._delegate:t}class ks{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new LS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QS(e))try{this.getOrInitializeService({instanceIdentifier:br})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=br){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=br){return this.instances.has(e)}getOptions(e=br){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=br){return this.component?this.component.multipleInstances?e:br:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BS(t){return t===br?void 0:t}function QS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(he||(he={}));const WS={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},qS=he.INFO,KS={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},GS=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=KS[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class t_{constructor(e){this.name=e,this._logLevel=qS,this._logHandler=GS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const YS=(t,e)=>e.some(n=>t instanceof n);let lg,ug;function XS(){return lg||(lg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JS(){return ug||(ug=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const n_=new WeakMap,Qh=new WeakMap,r_=new WeakMap,kc=new WeakMap,Ef=new WeakMap;function ZS(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(yr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&n_.set(n,t)}).catch(()=>{}),Ef.set(e,t),e}function eA(t){if(Qh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Qh.set(t,e)}let Hh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||r_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tA(t){Hh=t(Hh)}function nA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Nc(this),e,...n);return r_.set(r,e.sort?e.sort():[e]),yr(r)}:JS().includes(t)?function(...e){return t.apply(Nc(this),e),yr(n_.get(this))}:function(...e){return yr(t.apply(Nc(this),e))}}function rA(t){return typeof t=="function"?nA(t):(t instanceof IDBTransaction&&eA(t),YS(t,XS())?new Proxy(t,Hh):t)}function yr(t){if(t instanceof IDBRequest)return ZS(t);if(kc.has(t))return kc.get(t);const e=rA(t);return e!==t&&(kc.set(t,e),Ef.set(e,t)),e}const Nc=t=>Ef.get(t);function iA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=yr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(yr(s.result),l.oldVersion,l.newVersion,yr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const oA=["get","getKey","getAll","getAllKeys","count"],sA=["put","add","delete","clear"],Dc=new Map;function cg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dc.get(e))return Dc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=sA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||oA.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Dc.set(e,o),o}tA(t=>({...t,get:(e,n,r)=>cg(e,n)||t.get(e,n,r),has:(e,n)=>!!cg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function lA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wh="@firebase/app",hg="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new t_("@firebase/app"),uA="@firebase/app-compat",cA="@firebase/analytics-compat",hA="@firebase/analytics",dA="@firebase/app-check-compat",fA="@firebase/app-check",pA="@firebase/auth",mA="@firebase/auth-compat",gA="@firebase/database",yA="@firebase/database-compat",vA="@firebase/functions",_A="@firebase/functions-compat",EA="@firebase/installations",wA="@firebase/installations-compat",TA="@firebase/messaging",IA="@firebase/messaging-compat",SA="@firebase/performance",AA="@firebase/performance-compat",xA="@firebase/remote-config",RA="@firebase/remote-config-compat",CA="@firebase/storage",PA="@firebase/storage-compat",kA="@firebase/firestore",NA="@firebase/firestore-compat",DA="firebase",VA="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh="[DEFAULT]",LA={[Wh]:"fire-core",[uA]:"fire-core-compat",[hA]:"fire-analytics",[cA]:"fire-analytics-compat",[fA]:"fire-app-check",[dA]:"fire-app-check-compat",[pA]:"fire-auth",[mA]:"fire-auth-compat",[gA]:"fire-rtdb",[yA]:"fire-rtdb-compat",[vA]:"fire-fn",[_A]:"fire-fn-compat",[EA]:"fire-iid",[wA]:"fire-iid-compat",[TA]:"fire-fcm",[IA]:"fire-fcm-compat",[SA]:"fire-perf",[AA]:"fire-perf-compat",[xA]:"fire-rc",[RA]:"fire-rc-compat",[CA]:"fire-gcs",[PA]:"fire-gcs-compat",[kA]:"fire-fst",[NA]:"fire-fst-compat","fire-js":"fire-js",[DA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=new Map,Kh=new Map;function jA(t,e){try{t.container.addComponent(e)}catch(n){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bl(t){const e=t.name;if(Kh.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;Kh.set(e,t);for(const n of Ol.values())jA(n,t);return!0}function MA(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},vr=new e_("app","Firebase",OA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=VA;function i_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:qh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw vr.create("bad-app-name",{appName:String(i)});if(n||(n=Jv()),!n)throw vr.create("no-options");const o=Ol.get(i);if(o){if(Bh(n,o.options)&&Bh(r,o.config))return o;throw vr.create("duplicate-app",{appName:i})}const s=new HS(i);for(const l of Kh.values())s.addComponent(l);const a=new bA(n,r,s);return Ol.set(i,a),a}function $A(t=qh){const e=Ol.get(t);if(!e&&t===qh&&Jv())return i_();if(!e)throw vr.create("no-app",{appName:t});return e}function Qi(t,e,n){var r;let i=(r=LA[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(a.join(" "));return}bl(new ks(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="firebase-heartbeat-database",zA=1,Ns="firebase-heartbeat-store";let Vc=null;function o_(){return Vc||(Vc=iA(UA,zA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ns)}catch(n){console.warn(n)}}}}).catch(t=>{throw vr.create("idb-open",{originalErrorMessage:t.message})})),Vc}async function BA(t){try{const n=(await o_()).transaction(Ns),r=await n.objectStore(Ns).get(s_(t));return await n.done,r}catch(e){if(e instanceof mo)ii.warn(e.message);else{const n=vr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ii.warn(n.message)}}}async function dg(t,e){try{const r=(await o_()).transaction(Ns,"readwrite");await r.objectStore(Ns).put(e,s_(t)),await r.done}catch(n){if(n instanceof mo)ii.warn(n.message);else{const r=vr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ii.warn(r.message)}}}function s_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=1024,HA=30*24*60*60*1e3;class WA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=fg();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=HA}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fg(),{heartbeatsToSend:r,unsentEntries:i}=qA(this._heartbeatsCache.heartbeats),o=jl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function fg(){return new Date().toISOString().substring(0,10)}function qA(t,e=QA){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),pg(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class KA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zv()?bS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return dg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return dg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function pg(t){return jl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(t){bl(new ks("platform-logger",e=>new aA(e),"PRIVATE")),bl(new ks("heartbeat",e=>new WA(e),"PRIVATE")),Qi(Wh,hg,t),Qi(Wh,hg,"esm2017"),Qi("fire-js","")}GA("");var YA="firebase",XA="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qi(YA,XA,"app");var JA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},M,wf=wf||{},J=JA||self;function _u(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function na(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function ZA(t){return Object.prototype.hasOwnProperty.call(t,Lc)&&t[Lc]||(t[Lc]=++e2)}var Lc="closure_uid_"+(1e9*Math.random()>>>0),e2=0;function t2(t,e,n){return t.call.apply(t.bind,arguments)}function n2(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function wt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?wt=t2:wt=n2,wt.apply(null,arguments)}function Fa(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function it(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Nr(){this.s=this.s,this.o=this.o}var r2=0;Nr.prototype.s=!1;Nr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),r2!=0)&&ZA(this)};Nr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const a_=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Tf(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function mg(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(_u(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Tt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Tt.prototype.h=function(){this.defaultPrevented=!0};var i2=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};J.addEventListener("test",n,e),J.removeEventListener("test",n,e)}catch{}return t}();function Ds(t){return/^[\s\xa0]*$/.test(t)}function Eu(){var t=J.navigator;return t&&(t=t.userAgent)?t:""}function Sn(t){return Eu().indexOf(t)!=-1}function If(t){return If[" "](t),t}If[" "]=function(){};function o2(t,e){var n=X2;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var s2=Sn("Opera"),no=Sn("Trident")||Sn("MSIE"),l_=Sn("Edge"),Gh=l_||no,u_=Sn("Gecko")&&!(Eu().toLowerCase().indexOf("webkit")!=-1&&!Sn("Edge"))&&!(Sn("Trident")||Sn("MSIE"))&&!Sn("Edge"),a2=Eu().toLowerCase().indexOf("webkit")!=-1&&!Sn("Edge");function c_(){var t=J.document;return t?t.documentMode:void 0}var Yh;e:{var jc="",Mc=function(){var t=Eu();if(u_)return/rv:([^\);]+)(\)|;)/.exec(t);if(l_)return/Edge\/([\d\.]+)/.exec(t);if(no)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(a2)return/WebKit\/(\S+)/.exec(t);if(s2)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Mc&&(jc=Mc?Mc[1]:""),no){var Oc=c_();if(Oc!=null&&Oc>parseFloat(jc)){Yh=String(Oc);break e}}Yh=jc}var Xh;if(J.document&&no){var gg=c_();Xh=gg||parseInt(Yh,10)||void 0}else Xh=void 0;var l2=Xh;function Vs(t,e){if(Tt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(u_){e:{try{If(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:u2[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Vs.$.h.call(this)}}it(Vs,Tt);var u2={2:"touch",3:"pen",4:"mouse"};Vs.prototype.h=function(){Vs.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ra="closure_listenable_"+(1e6*Math.random()|0),c2=0;function h2(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++c2,this.fa=this.ia=!1}function wu(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Sf(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function d2(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function h_(t){const e={};for(const n in t)e[n]=t[n];return e}const yg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function d_(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<yg.length;o++)n=yg[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Tu(t){this.src=t,this.g={},this.h=0}Tu.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Zh(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new h2(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function Jh(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=a_(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(wu(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Zh(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Af="closure_lm_"+(1e6*Math.random()|0),bc={};function f_(t,e,n,r,i){if(r&&r.once)return m_(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)f_(t,e[o],n,r,i);return null}return n=Cf(n),t&&t[ra]?t.O(e,n,na(r)?!!r.capture:!!r,i):p_(t,e,n,!1,r,i)}function p_(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=na(i)?!!i.capture:!!i,a=Rf(t);if(a||(t[Af]=a=new Tu(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=f2(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)i2||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(y_(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function f2(){function t(n){return e.call(t.src,t.listener,n)}const e=p2;return t}function m_(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)m_(t,e[o],n,r,i);return null}return n=Cf(n),t&&t[ra]?t.P(e,n,na(r)?!!r.capture:!!r,i):p_(t,e,n,!0,r,i)}function g_(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)g_(t,e[o],n,r,i);else r=na(r)?!!r.capture:!!r,n=Cf(n),t&&t[ra]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Zh(o,n,r,i),-1<n&&(wu(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Rf(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Zh(e,n,r,i)),(n=-1<t?e[t]:null)&&xf(n))}function xf(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ra])Jh(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(y_(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Rf(e))?(Jh(n,t),n.h==0&&(n.src=null,e[Af]=null)):wu(t)}}}function y_(t){return t in bc?bc[t]:bc[t]="on"+t}function p2(t,e){if(t.fa)t=!0;else{e=new Vs(e,this);var n=t.listener,r=t.la||t.src;t.ia&&xf(t),t=n.call(r,e)}return t}function Rf(t){return t=t[Af],t instanceof Tu?t:null}var Fc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cf(t){return typeof t=="function"?t:(t[Fc]||(t[Fc]=function(e){return t.handleEvent(e)}),t[Fc])}function rt(){Nr.call(this),this.i=new Tu(this),this.S=this,this.J=null}it(rt,Nr);rt.prototype[ra]=!0;rt.prototype.removeEventListener=function(t,e,n,r){g_(this,t,e,n,r)};function ht(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Tt(e,t);else if(e instanceof Tt)e.target=e.target||t;else{var i=e;e=new Tt(r,t),d_(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=$a(s,r,!0,e)&&i}if(s=e.g=t,i=$a(s,r,!0,e)&&i,i=$a(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=$a(s,r,!1,e)&&i}rt.prototype.N=function(){if(rt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)wu(n[r]);delete t.g[e],t.h--}}this.J=null};rt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};rt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function $a(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&Jh(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Pf=J.JSON.stringify;class m2{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function g2(){var t=kf;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class y2{constructor(){this.h=this.g=null}add(e,n){const r=v_.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var v_=new m2(()=>new v2,t=>t.reset());class v2{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function _2(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function E2(t){J.setTimeout(()=>{throw t},0)}let Ls,js=!1,kf=new y2,__=()=>{const t=J.Promise.resolve(void 0);Ls=()=>{t.then(w2)}};var w2=()=>{for(var t;t=g2();){try{t.h.call(t.g)}catch(n){E2(n)}var e=v_;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}js=!1};function Iu(t,e){rt.call(this),this.h=t||1,this.g=e||J,this.j=wt(this.qb,this),this.l=Date.now()}it(Iu,rt);M=Iu.prototype;M.ga=!1;M.T=null;M.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ht(this,"tick"),this.ga&&(Nf(this),this.start()))}};M.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Nf(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}M.N=function(){Iu.$.N.call(this),Nf(this),delete this.g};function Df(t,e,n){if(typeof t=="function")n&&(t=wt(t,n));else if(t&&typeof t.handleEvent=="function")t=wt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:J.setTimeout(t,e||0)}function E_(t){t.g=Df(()=>{t.g=null,t.i&&(t.i=!1,E_(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class T2 extends Nr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:E_(this)}N(){super.N(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ms(t){Nr.call(this),this.h=t,this.g={}}it(Ms,Nr);var vg=[];function w_(t,e,n,r){Array.isArray(n)||(n&&(vg[0]=n.toString()),n=vg);for(var i=0;i<n.length;i++){var o=f_(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function T_(t){Sf(t.g,function(e,n){this.g.hasOwnProperty(n)&&xf(e)},t),t.g={}}Ms.prototype.N=function(){Ms.$.N.call(this),T_(this)};Ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Su(){this.g=!0}Su.prototype.Ea=function(){this.g=!1};function I2(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&h[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function S2(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function Oi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+x2(t,n)+(r?" "+r:"")})}function A2(t,e){t.info(function(){return"TIMEOUT: "+e})}Su.prototype.info=function(){};function x2(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Pf(n)}catch{return e}}var hi={},_g=null;function Au(){return _g=_g||new rt}hi.Ta="serverreachability";function I_(t){Tt.call(this,hi.Ta,t)}it(I_,Tt);function Os(t){const e=Au();ht(e,new I_(e))}hi.STAT_EVENT="statevent";function S_(t,e){Tt.call(this,hi.STAT_EVENT,t),this.stat=e}it(S_,Tt);function Ct(t){const e=Au();ht(e,new S_(e,t))}hi.Ua="timingevent";function A_(t,e){Tt.call(this,hi.Ua,t),this.size=e}it(A_,Tt);function ia(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){t()},e)}var xu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},x_={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Vf(){}Vf.prototype.h=null;function Eg(t){return t.h||(t.h=t.i())}function R_(){}var oa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Lf(){Tt.call(this,"d")}it(Lf,Tt);function jf(){Tt.call(this,"c")}it(jf,Tt);var ed;function Ru(){}it(Ru,Vf);Ru.prototype.g=function(){return new XMLHttpRequest};Ru.prototype.i=function(){return{}};ed=new Ru;function sa(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ms(this),this.P=R2,t=Gh?125:void 0,this.V=new Iu(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new C_}function C_(){this.i=null,this.g="",this.h=!1}var R2=45e3,P_={},td={};M=sa.prototype;M.setTimeout=function(t){this.P=t};function nd(t,e,n){t.L=1,t.A=Pu(Qn(e)),t.u=n,t.S=!0,k_(t,null)}function k_(t,e){t.G=Date.now(),aa(t),t.B=Qn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),b_(n.i,"t",r),t.o=0,n=t.l.J,t.h=new C_,t.g=o1(t.l,n?e:null,!t.u),0<t.O&&(t.M=new T2(wt(t.Pa,t,t.g),t.O)),w_(t.U,t.g,"readystatechange",t.nb),e=t.I?h_(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Os(),I2(t.j,t.v,t.B,t.m,t.W,t.u)}M.nb=function(t){t=t.target;const e=this.M;e&&An(t)==3?e.l():this.Pa(t)};M.Pa=function(t){try{if(t==this.g)e:{const c=An(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||Gh||this.g&&(this.h.h||this.g.ja()||Sg(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?Os(3):Os(2)),Cu(this);var n=this.g.da();this.ca=n;t:if(N_(this)){var r=Sg(this.g);t="";var i=r.length,o=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hr(this),os(this);var s="";break t}this.h.i=new J.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,S2(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ds(a)){var u=a;break t}}u=null}if(n=u)Oi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rd(this,n);else{this.i=!1,this.s=3,Ct(12),Hr(this),os(this);break e}}this.S?(D_(this,c,s),Gh&&this.i&&c==3&&(w_(this.U,this.V,"tick",this.mb),this.V.start())):(Oi(this.j,this.m,s,null),rd(this,s)),c==4&&Hr(this),this.i&&!this.J&&(c==4?t1(this.l,this):(this.i=!1,aa(this)))}else K2(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),Hr(this),os(this)}}}catch{}finally{}};function N_(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function D_(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=C2(t,n),i==td){e==4&&(t.s=4,Ct(14),r=!1),Oi(t.j,t.m,null,"[Incomplete Response]");break}else if(i==P_){t.s=4,Ct(15),Oi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Oi(t.j,t.m,i,null),rd(t,i);N_(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Ct(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Uf(e),e.M=!0,Ct(11))):(Oi(t.j,t.m,n,"[Invalid Chunked Response]"),Hr(t),os(t))}M.mb=function(){if(this.g){var t=An(this.g),e=this.g.ja();this.o<e.length&&(Cu(this),D_(this,t,e),this.i&&t!=4&&aa(this))}};function C2(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?td:(n=Number(e.substring(n,r)),isNaN(n)?P_:(r+=1,r+n>e.length?td:(e=e.slice(r,r+n),t.o=r+n,e)))}M.cancel=function(){this.J=!0,Hr(this)};function aa(t){t.Y=Date.now()+t.P,V_(t,t.P)}function V_(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ia(wt(t.lb,t),e)}function Cu(t){t.C&&(J.clearTimeout(t.C),t.C=null)}M.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(A2(this.j,this.B),this.L!=2&&(Os(),Ct(17)),Hr(this),this.s=2,os(this)):V_(this,this.Y-t)};function os(t){t.l.H==0||t.J||t1(t.l,t)}function Hr(t){Cu(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Nf(t.V),T_(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function rd(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||id(n.i,t))){if(!t.K&&id(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Ul(n),Vu(n);else break e;$f(n),Ct(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ia(wt(n.ib,n),6e3));if(1>=U_(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Wr(n,11)}else if((t.K||n.g==t)&&Ul(n),!Ds(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=t.g;if(g){const E=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var o=r.i;o.g||E.indexOf("spdy")==-1&&E.indexOf("quic")==-1&&E.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Mf(o,o.h),o.h=null))}if(r.F){const _=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,xe(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=i1(r,r.J?r.pa:null,r.Y),s.K){z_(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(Cu(a),aa(a)),r.g=s}else Z_(r);0<n.j.length&&Lu(n)}else u[0]!="stop"&&u[0]!="close"||Wr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Wr(n,7):Ff(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Os(4)}catch{}}function P2(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(_u(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function k2(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(_u(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function L_(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(_u(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=k2(t),r=P2(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var j_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function N2(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Xr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Xr){this.h=t.h,Fl(this,t.j),this.s=t.s,this.g=t.g,$l(this,t.m),this.l=t.l;var e=t.i,n=new bs;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),wg(this,n),this.o=t.o}else t&&(e=String(t).match(j_))?(this.h=!1,Fl(this,e[1]||"",!0),this.s=Qo(e[2]||""),this.g=Qo(e[3]||"",!0),$l(this,e[4]),this.l=Qo(e[5]||"",!0),wg(this,e[6]||"",!0),this.o=Qo(e[7]||"")):(this.h=!1,this.i=new bs(null,this.h))}Xr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ho(e,Tg,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ho(e,Tg,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ho(n,n.charAt(0)=="/"?L2:V2,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ho(n,M2)),t.join("")};function Qn(t){return new Xr(t)}function Fl(t,e,n){t.j=n?Qo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function $l(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function wg(t,e,n){e instanceof bs?(t.i=e,O2(t.i,t.h)):(n||(e=Ho(e,j2)),t.i=new bs(e,t.h))}function xe(t,e,n){t.i.set(e,n)}function Pu(t){return xe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Qo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ho(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,D2),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function D2(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Tg=/[#\/\?@]/g,V2=/[#\?:]/g,L2=/[#\?]/g,j2=/[#\?@]/g,M2=/#/g;function bs(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Dr(t){t.g||(t.g=new Map,t.h=0,t.i&&N2(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}M=bs.prototype;M.add=function(t,e){Dr(this),this.i=null,t=go(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function M_(t,e){Dr(t),e=go(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function O_(t,e){return Dr(t),e=go(t,e),t.g.has(e)}M.forEach=function(t,e){Dr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};M.ta=function(){Dr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};M.Z=function(t){Dr(this);let e=[];if(typeof t=="string")O_(this,t)&&(e=e.concat(this.g.get(go(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};M.set=function(t,e){return Dr(this),this.i=null,t=go(this,t),O_(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};M.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function b_(t,e,n){M_(t,e),0<n.length&&(t.i=null,t.g.set(go(t,e),Tf(n)),t.h+=n.length)}M.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function go(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function O2(t,e){e&&!t.j&&(Dr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(M_(this,r),b_(this,i,n))},t)),t.j=e}var b2=class{constructor(t,e){this.g=t,this.map=e}};function F_(t){this.l=t||F2,J.PerformanceNavigationTiming?(t=J.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(J.g&&J.g.Ka&&J.g.Ka()&&J.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var F2=10;function $_(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function U_(t){return t.h?1:t.g?t.g.size:0}function id(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Mf(t,e){t.g?t.g.add(e):t.h=e}function z_(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}F_.prototype.cancel=function(){if(this.i=B_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function B_(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Tf(t.i)}var $2=class{stringify(t){return J.JSON.stringify(t,void 0)}parse(t){return J.JSON.parse(t,void 0)}};function U2(){this.g=new $2}function z2(t,e,n){const r=n||"";try{L_(t,function(i,o){let s=i;na(i)&&(s=Pf(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function B2(t,e){const n=new Su;if(J.Image){const r=new Image;r.onload=Fa(Ua,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Fa(Ua,n,r,"TestLoadImage: error",!1,e),r.onabort=Fa(Ua,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Fa(Ua,n,r,"TestLoadImage: timeout",!1,e),J.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ua(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ku(t){this.l=t.ec||null,this.j=t.ob||!1}it(ku,Vf);ku.prototype.g=function(){return new Nu(this.l,this.j)};ku.prototype.i=function(t){return function(){return t}}({});function Nu(t,e){rt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Of,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}it(Nu,rt);var Of=0;M=Nu.prototype;M.open=function(t,e){if(this.readyState!=Of)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Fs(this)};M.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||J).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,la(this)),this.readyState=Of};M.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Fs(this)),this.g&&(this.readyState=3,Fs(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof J.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Q_(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Q_(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}M.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?la(this):Fs(this),this.readyState==3&&Q_(this)}};M.Za=function(t){this.g&&(this.response=this.responseText=t,la(this))};M.Ya=function(t){this.g&&(this.response=t,la(this))};M.ka=function(){this.g&&la(this)};function la(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Fs(t)}M.setRequestHeader=function(t,e){this.v.append(t,e)};M.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};M.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Fs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Nu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Q2=J.JSON.parse;function Fe(t){rt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=H_,this.L=this.M=!1}it(Fe,rt);var H_="",H2=/^https?$/i,W2=["POST","PUT"];M=Fe.prototype;M.Oa=function(t){this.M=t};M.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ed.g(),this.C=this.u?Eg(this.u):Eg(ed),this.g.onreadystatechange=wt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){Ig(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=J.FormData&&t instanceof J.FormData,!(0<=a_(W2,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{K_(this),0<this.B&&((this.L=q2(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wt(this.ua,this)):this.A=Df(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Ig(this,o)}};function q2(t){return no&&typeof t.timeout=="number"&&t.ontimeout!==void 0}M.ua=function(){typeof wf<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ht(this,"timeout"),this.abort(8))};function Ig(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,W_(t),Du(t)}function W_(t){t.F||(t.F=!0,ht(t,"complete"),ht(t,"error"))}M.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ht(this,"complete"),ht(this,"abort"),Du(this))};M.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Du(this,!0)),Fe.$.N.call(this)};M.La=function(){this.s||(this.G||this.v||this.l?q_(this):this.kb())};M.kb=function(){q_(this)};function q_(t){if(t.h&&typeof wf<"u"&&(!t.C[1]||An(t)!=4||t.da()!=2)){if(t.v&&An(t)==4)Df(t.La,0,t);else if(ht(t,"readystatechange"),An(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(j_)[1]||null;!i&&J.self&&J.self.location&&(i=J.self.location.protocol.slice(0,-1)),r=!H2.test(i?i.toLowerCase():"")}n=r}if(n)ht(t,"complete"),ht(t,"success");else{t.m=6;try{var o=2<An(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",W_(t)}}finally{Du(t)}}}}function Du(t,e){if(t.g){K_(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ht(t,"ready");try{n.onreadystatechange=r}catch{}}}function K_(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(J.clearTimeout(t.A),t.A=null)}M.isActive=function(){return!!this.g};function An(t){return t.g?t.g.readyState:0}M.da=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}};M.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};M.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Q2(e)}};function Sg(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case H_:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function K2(t){const e={};t=(t.g&&2<=An(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ds(t[r]))continue;var n=_2(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}d2(e,function(r){return r.join(", ")})}M.Ia=function(){return this.m};M.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function G_(t){let e="";return Sf(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function bf(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=G_(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):xe(t,e,n))}function Oo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Y_(t){this.Ga=0,this.j=[],this.l=new Su,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Oo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Oo("baseRetryDelayMs",5e3,t),this.hb=Oo("retryDelaySeedMs",1e4,t),this.eb=Oo("forwardChannelMaxRetries",2,t),this.xa=Oo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new F_(t&&t.concurrentRequestLimit),this.Ja=new U2,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}M=Y_.prototype;M.ra=8;M.H=1;function Ff(t){if(X_(t),t.H==3){var e=t.W++,n=Qn(t.I);if(xe(n,"SID",t.K),xe(n,"RID",e),xe(n,"TYPE","terminate"),ua(t,n),e=new sa(t,t.l,e),e.L=2,e.A=Pu(Qn(n)),n=!1,J.navigator&&J.navigator.sendBeacon)try{n=J.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&J.Image&&(new Image().src=e.A,n=!0),n||(e.g=o1(e.l,null),e.g.ha(e.A)),e.G=Date.now(),aa(e)}r1(t)}function Vu(t){t.g&&(Uf(t),t.g.cancel(),t.g=null)}function X_(t){Vu(t),t.u&&(J.clearTimeout(t.u),t.u=null),Ul(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&J.clearTimeout(t.m),t.m=null)}function Lu(t){if(!$_(t.i)&&!t.m){t.m=!0;var e=t.Na;Ls||__(),js||(Ls(),js=!0),kf.add(e,t),t.C=0}}function G2(t,e){return U_(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ia(wt(t.Na,t,e),n1(t,t.C)),t.C++,!0)}M.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new sa(this,this.l,t);let o=this.s;if(this.U&&(o?(o=h_(o),d_(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=J_(this,i,e),n=Qn(this.I),xe(n,"RID",t),xe(n,"CVER",22),this.F&&xe(n,"X-HTTP-Session-Id",this.F),ua(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(G_(o)))+"&"+e:this.o&&bf(n,this.o,o)),Mf(this.i,i),this.bb&&xe(n,"TYPE","init"),this.P?(xe(n,"$req",e),xe(n,"SID","null"),i.aa=!0,nd(i,n,null)):nd(i,n,e),this.H=2}}else this.H==3&&(t?Ag(this,t):this.j.length==0||$_(this.i)||Ag(this))};function Ag(t,e){var n;e?n=e.m:n=t.W++;const r=Qn(t.I);xe(r,"SID",t.K),xe(r,"RID",n),xe(r,"AID",t.V),ua(t,r),t.o&&t.s&&bf(r,t.o,t.s),n=new sa(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=J_(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Mf(t.i,n),nd(n,r,e)}function ua(t,e){t.na&&Sf(t.na,function(n,r){xe(e,r,n)}),t.h&&L_({},function(n,r){xe(e,r,n)})}function J_(t,e,n){n=Math.min(t.j.length,n);var r=t.h?wt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{z2(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Z_(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ls||__(),js||(Ls(),js=!0),kf.add(e,t),t.A=0}}function $f(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ia(wt(t.Ma,t),n1(t,t.A)),t.A++,!0)}M.Ma=function(){if(this.u=null,e1(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ia(wt(this.jb,this),t)}};M.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ct(10),Vu(this),e1(this))};function Uf(t){t.B!=null&&(J.clearTimeout(t.B),t.B=null)}function e1(t){t.g=new sa(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Qn(t.wa);xe(e,"RID","rpc"),xe(e,"SID",t.K),xe(e,"AID",t.V),xe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&xe(e,"TO",t.qa),xe(e,"TYPE","xmlhttp"),ua(t,e),t.o&&t.s&&bf(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Pu(Qn(e)),n.u=null,n.S=!0,k_(n,t)}M.ib=function(){this.v!=null&&(this.v=null,Vu(this),$f(this),Ct(19))};function Ul(t){t.v!=null&&(J.clearTimeout(t.v),t.v=null)}function t1(t,e){var n=null;if(t.g==e){Ul(t),Uf(t),t.g=null;var r=2}else if(id(t.i,e))n=e.F,z_(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Au(),ht(r,new A_(r,n)),Lu(t)}else Z_(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&G2(t,e)||r==2&&$f(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Wr(t,5);break;case 4:Wr(t,10);break;case 3:Wr(t,6);break;default:Wr(t,2)}}}function n1(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Wr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=wt(t.pb,t);n||(n=new Xr("//www.google.com/images/cleardot.gif"),J.location&&J.location.protocol=="http"||Fl(n,"https"),Pu(n)),B2(n.toString(),r)}else Ct(2);t.H=0,t.h&&t.h.za(e),r1(t),X_(t)}M.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ct(2)):(this.l.info("Failed to ping google.com"),Ct(1))};function r1(t){if(t.H=0,t.ma=[],t.h){const e=B_(t.i);(e.length!=0||t.j.length!=0)&&(mg(t.ma,e),mg(t.ma,t.j),t.i.i.length=0,Tf(t.j),t.j.length=0),t.h.ya()}}function i1(t,e,n){var r=n instanceof Xr?Qn(n):new Xr(n);if(r.g!="")e&&(r.g=e+"."+r.g),$l(r,r.m);else{var i=J.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Xr(null);r&&Fl(o,r),e&&(o.g=e),i&&$l(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&xe(r,n,e),xe(r,"VER",t.ra),ua(t,r),r}function o1(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Fe(new ku({ob:n})):new Fe(t.va),e.Oa(t.J),e}M.isActive=function(){return!!this.h&&this.h.isActive(this)};function s1(){}M=s1.prototype;M.Ba=function(){};M.Aa=function(){};M.za=function(){};M.ya=function(){};M.isActive=function(){return!0};M.Va=function(){};function zl(){if(no&&!(10<=Number(l2)))throw Error("Environmental error: no available transport.")}zl.prototype.g=function(t,e){return new Wt(t,e)};function Wt(t,e){rt.call(this),this.g=new Y_(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ds(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ds(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new yo(this)}it(Wt,rt);Wt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ct(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=i1(t,null,t.Y),Lu(t)};Wt.prototype.close=function(){Ff(this.g)};Wt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Pf(t),t=n);e.j.push(new b2(e.fb++,t)),e.H==3&&Lu(e)};Wt.prototype.N=function(){this.g.h=null,delete this.j,Ff(this.g),delete this.g,Wt.$.N.call(this)};function a1(t){Lf.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}it(a1,Lf);function l1(){jf.call(this),this.status=1}it(l1,jf);function yo(t){this.g=t}it(yo,s1);yo.prototype.Ba=function(){ht(this.g,"a")};yo.prototype.Aa=function(t){ht(this.g,new a1(t))};yo.prototype.za=function(t){ht(this.g,new l1)};yo.prototype.ya=function(){ht(this.g,"b")};function Y2(){this.blockSize=-1}function gn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}it(gn,Y2);gn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function $c(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}gn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)$c(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){$c(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){$c(this,r),i=0;break}}this.h=i,this.i+=e};gn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ve(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var X2={};function zf(t){return-128<=t&&128>t?o2(t,function(e){return new ve([e|0],0>e?-1:0)}):new ve([t|0],0>t?-1:0)}function xn(t){if(isNaN(t)||!isFinite(t))return Hi;if(0>t)return lt(xn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=od;return new ve(e,0)}function u1(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return lt(u1(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=xn(Math.pow(e,8)),r=Hi,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=xn(Math.pow(e,o)),r=r.R(o).add(xn(s))):(r=r.R(n),r=r.add(xn(s)))}return r}var od=4294967296,Hi=zf(0),sd=zf(1),xg=zf(16777216);M=ve.prototype;M.ea=function(){if(en(this))return-lt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:od+r)*e,e*=od}return t};M.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(bn(this))return"0";if(en(this))return"-"+lt(this).toString(t);for(var e=xn(Math.pow(t,6)),n=this,r="";;){var i=Ql(n,e).g;n=Bl(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,bn(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};M.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function bn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function en(t){return t.h==-1}M.X=function(t){return t=Bl(this,t),en(t)?-1:bn(t)?0:1};function lt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ve(n,~t.h).add(sd)}M.abs=function(){return en(this)?lt(this):this};M.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new ve(n,n[n.length-1]&-2147483648?-1:0)};function Bl(t,e){return t.add(lt(e))}M.R=function(t){if(bn(this)||bn(t))return Hi;if(en(this))return en(t)?lt(this).R(lt(t)):lt(lt(this).R(t));if(en(t))return lt(this.R(lt(t)));if(0>this.X(xg)&&0>t.X(xg))return xn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,za(n,2*r+2*i),n[2*r+2*i+1]+=o*l,za(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,za(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,za(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ve(n,0)};function za(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function bo(t,e){this.g=t,this.h=e}function Ql(t,e){if(bn(e))throw Error("division by zero");if(bn(t))return new bo(Hi,Hi);if(en(t))return e=Ql(lt(t),e),new bo(lt(e.g),lt(e.h));if(en(e))return e=Ql(t,lt(e)),new bo(lt(e.g),e.h);if(30<t.g.length){if(en(t)||en(e))throw Error("slowDivide_ only works with positive integers.");for(var n=sd,r=e;0>=r.X(t);)n=Rg(n),r=Rg(r);var i=_i(n,1),o=_i(r,1);for(r=_i(r,2),n=_i(n,2);!bn(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=_i(r,1),n=_i(n,1)}return e=Bl(t,i.R(e)),new bo(i,e)}for(i=Hi;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=xn(n),s=o.R(e);en(s)||0<s.X(t);)n-=r,o=xn(n),s=o.R(e);bn(o)&&(o=sd),i=i.add(o),t=Bl(t,s)}return new bo(i,t)}M.gb=function(t){return Ql(this,t).h};M.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ve(n,this.h&t.h)};M.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ve(n,this.h|t.h)};M.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ve(n,this.h^t.h)};function Rg(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ve(n,t.h)}function _i(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new ve(i,t.h)}zl.prototype.createWebChannel=zl.prototype.g;Wt.prototype.send=Wt.prototype.u;Wt.prototype.open=Wt.prototype.m;Wt.prototype.close=Wt.prototype.close;xu.NO_ERROR=0;xu.TIMEOUT=8;xu.HTTP_ERROR=6;x_.COMPLETE="complete";R_.EventType=oa;oa.OPEN="a";oa.CLOSE="b";oa.ERROR="c";oa.MESSAGE="d";rt.prototype.listen=rt.prototype.O;Fe.prototype.listenOnce=Fe.prototype.P;Fe.prototype.getLastError=Fe.prototype.Sa;Fe.prototype.getLastErrorCode=Fe.prototype.Ia;Fe.prototype.getStatus=Fe.prototype.da;Fe.prototype.getResponseJson=Fe.prototype.Wa;Fe.prototype.getResponseText=Fe.prototype.ja;Fe.prototype.send=Fe.prototype.ha;Fe.prototype.setWithCredentials=Fe.prototype.Oa;gn.prototype.digest=gn.prototype.l;gn.prototype.reset=gn.prototype.reset;gn.prototype.update=gn.prototype.j;ve.prototype.add=ve.prototype.add;ve.prototype.multiply=ve.prototype.R;ve.prototype.modulo=ve.prototype.gb;ve.prototype.compare=ve.prototype.X;ve.prototype.toNumber=ve.prototype.ea;ve.prototype.toString=ve.prototype.toString;ve.prototype.getBits=ve.prototype.D;ve.fromNumber=xn;ve.fromString=u1;var J2=function(){return new zl},Z2=function(){return Au()},Uc=xu,ex=x_,tx=hi,Cg={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ba=R_,nx=Fe,rx=gn,Wi=ve;const Pg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vt.UNAUTHENTICATED=new vt(null),vt.GOOGLE_CREDENTIALS=new vt("google-credentials-uid"),vt.FIRST_PARTY=new vt("first-party-uid"),vt.MOCK_USER=new vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vo="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new t_("@firebase/firestore");function Fo(){return oi.logLevel}function j(t,...e){if(oi.logLevel<=he.DEBUG){const n=e.map(Bf);oi.debug(`Firestore (${vo}): ${t}`,...n)}}function Dn(t,...e){if(oi.logLevel<=he.ERROR){const n=e.map(Bf);oi.error(`Firestore (${vo}): ${t}`,...n)}}function ro(t,...e){if(oi.logLevel<=he.WARN){const n=e.map(Bf);oi.warn(`Firestore (${vo}): ${t}`,...n)}}function Bf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t="Unexpected state"){const e=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: `+t;throw Dn(e),new Error(e)}function Se(t,e){t||Y()}function ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends mo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ix{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vt.UNAUTHENTICATED))}shutdown(){}}class ox{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class sx{constructor(e){this.t=e,this.currentUser=vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _r,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _r)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string"),new c1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string"),new vt(e)}}class ax{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=vt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class lx{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ax(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ux{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cx{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,j("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Se(typeof n.token=="string"),this.R=n.token,new ux(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=hx(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function fe(t,e){return t<e?-1:t>e?1:0}function io(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new F(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ye(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Z(e)}static min(){return new Z(new Ye(0,0))}static max(){return new Z(new Ye(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(),r===void 0?r=e.length-n:r>e.length-n&&Y(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $s.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $s?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Re extends $s{construct(e,n,r){return new Re(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new F(C.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Re(n)}static emptyPath(){return new Re([])}}const dx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends $s{construct(e,n,r){return new ut(e,n,r)}static isValidIdentifier(e){return dx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ut(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new F(C.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new F(C.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new F(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new F(C.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(n)}static emptyPath(){return new ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.path=e}static fromPath(e){return new z(Re.fromString(e))}static fromName(e){return new z(Re.fromString(e).popFirst(5))}static empty(){return new z(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new z(new Re(e.slice()))}}function fx(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(r===1e9?new Ye(n+1,0):new Ye(n,r));return new Ar(i,z.empty(),e)}function px(t){return new Ar(t.readTime,t.key,-1)}class Ar{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ar(Z.min(),z.empty(),-1)}static max(){return new Ar(Z.max(),z.empty(),-1)}}function mx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=z.comparator(t.documentKey,e.documentKey),n!==0?n:fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(t){if(t.code!==C.FAILED_PRECONDITION||t.message!==gx)throw t;j("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new P((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):P.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):P.reject(n)}static resolve(e){return new P((n,r)=>{n(e)})}static reject(e){return new P((n,r)=>{r(e)})}static waitFor(e){return new P((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=P.resolve(!1);for(const r of e)n=n.next(i=>i?P.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new P((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new P((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new _r,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new ss(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=Hf(r.target.error);this.V.reject(new ss(e,i))}}static open(e,n,r,i){try{return new Qf(n,e.transaction(i,r))}catch(o){throw new ss(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(j("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new _x(n)}}class qr{constructor(e,n,r){this.name=e,this.version=n,this.p=r,qr.S(Ml())===12.2&&Dn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return j("SimpleDb","Removing database:",e),Fr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Zv())return!1;if(qr.C())return!0;const e=Ml(),n=qr.S(e),r=0<n&&n<10,i=qr.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(j("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new ss(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new F(C.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new F(C.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new ss(e,s))},i.onupgradeneeded=o=>{j("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{j("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.O(e);const a=Qf.open(this.db,e,o?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),P.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&s<3;if(j("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class vx{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Fr(this.k.delete())}}class ss extends F{constructor(e,n){super(C.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ha(t){return t.name==="IndexedDbTransactionError"}class _x{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(j("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(j("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Fr(r)}add(e){return j("SimpleDb","ADD",this.store.name,e,e),Fr(this.store.add(e))}get(e){return Fr(this.store.get(e)).next(n=>(n===void 0&&(n=null),j("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return j("SimpleDb","DELETE",this.store.name,e),Fr(this.store.delete(e))}count(){return j("SimpleDb","COUNT",this.store.name),Fr(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new P((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(a,l)=>{s.push(l)}).next(()=>s)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new P((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){j("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new P((r,i)=>{n.onerror=o=>{const s=Hf(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new P((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new vx(a),u=n(a.primaryKey,a.value,l);if(u instanceof P){const c=u.catch(h=>(l.done(),P.reject(h)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>P.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Fr(t){return new P((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Hf(r.target.error);n(i)}})}let kg=!1;function Hf(t){const e=qr.S(Ml());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new F("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return kg||(kg=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Wf._e=-1;function ju(t){return t==null}function Hl(t){return t===0&&1/t==-1/0}function Ex(t){return typeof t=="number"&&Number.isInteger(t)&&!Hl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function di(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function d1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){this.comparator=e,this.root=n||at.EMPTY}insert(e,n){return new je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,at.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,at.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qa(this.root,e,this.comparator,!0)}}class Qa{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class at{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??at.RED,this.left=i??at.EMPTY,this.right=o??at.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new at(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return at.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return at.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();const e=this.left.check();if(e!==this.right.check())throw Y();return e+(this.isRed()?0:1)}}at.EMPTY=null,at.RED=!0,at.BLACK=!1;at.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(e,n,r,i,o){return this}insert(e,n,r){return new at(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Dg(this.data.getIterator())}getIteratorFrom(e){return new Dg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new dt(this.comparator);return n.data=e,n}}class Dg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new Bt([])}unionWith(e){let n=new dt(ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return io(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new f1("Invalid base64 string: "+o):o}}(e);return new St(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new St(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const wx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xr(t){if(Se(!!t),typeof t=="string"){let e=0;const n=wx.exec(t);if(Se(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function si(t){return typeof t=="string"?St.fromBase64String(t):St.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Kf(t){const e=t.mapValue.fields.__previous_value__;return qf(e)?Kf(e):e}function Us(t){const e=xr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class zs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ai(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qf(t)?4:Ix(t)?9007199254740991:10:Y()}function Vn(t,e){if(t===e)return!0;const n=ai(t);if(n!==ai(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Us(t).isEqual(Us(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=xr(i.timestampValue),a=xr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return si(i.bytesValue).isEqual(si(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Qe(i.geoPointValue.latitude)===Qe(o.geoPointValue.latitude)&&Qe(i.geoPointValue.longitude)===Qe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Qe(i.integerValue)===Qe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Qe(i.doubleValue),a=Qe(o.doubleValue);return s===a?Hl(s)===Hl(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return io(t.arrayValue.values||[],e.arrayValue.values||[],Vn);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Ng(s)!==Ng(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Vn(s[l],a[l])))return!1;return!0}(t,e);default:return Y()}}function Bs(t,e){return(t.values||[]).find(n=>Vn(n,e))!==void 0}function oo(t,e){if(t===e)return 0;const n=ai(t),r=ai(e);if(n!==r)return fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Qe(o.integerValue||o.doubleValue),l=Qe(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Vg(t.timestampValue,e.timestampValue);case 4:return Vg(Us(t),Us(e));case 5:return fe(t.stringValue,e.stringValue);case 6:return function(o,s){const a=si(o),l=si(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=fe(a[u],l[u]);if(c!==0)return c}return fe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=fe(Qe(o.latitude),Qe(s.latitude));return a!==0?a:fe(Qe(o.longitude),Qe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=oo(a[u],l[u]);if(c)return c}return fe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Ha.mapValue&&s===Ha.mapValue)return 0;if(o===Ha.mapValue)return 1;if(s===Ha.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const d=fe(l[h],c[h]);if(d!==0)return d;const g=oo(a[l[h]],u[c[h]]);if(g!==0)return g}return fe(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Y()}}function Vg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);const n=xr(t),r=xr(e),i=fe(n.seconds,r.seconds);return i!==0?i:fe(n.nanos,r.nanos)}function so(t){return ad(t)}function ad(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=xr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return si(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=ad(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${ad(n.fields[s])}`;return i+"}"}(t.mapValue):Y()}function Lg(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ld(t){return!!t&&"integerValue"in t}function Gf(t){return!!t&&"arrayValue"in t}function jg(t){return!!t&&"nullValue"in t}function Mg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ol(t){return!!t&&"mapValue"in t}function as(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return di(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=as(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=as(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ix(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.value=e}static empty(){return new Lt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ol(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=as(n)}setAll(e){let n=ut.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=as(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());ol(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ol(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){di(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Lt(as(this.value))}}function p1(t){const e=[];return di(t.fields,(n,r)=>{const i=new ut([n]);if(ol(r)){const o=p1(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Bt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Et(e,0,Z.min(),Z.min(),Z.min(),Lt.empty(),0)}static newFoundDocument(e,n,r,i){return new Et(e,1,n,Z.min(),r,i,0)}static newNoDocument(e,n){return new Et(e,2,n,Z.min(),Z.min(),Lt.empty(),0)}static newUnknownDocument(e,n){return new Et(e,3,n,Z.min(),Z.min(),Lt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Et&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Et(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n){this.position=e,this.inclusive=n}}function Og(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=z.comparator(z.fromName(s.referenceValue),n.key):r=oo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function bg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n="asc"){this.field=e,this.dir=n}}function Sx(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{}class We extends m1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new xx(e,n,r):n==="array-contains"?new Px(e,r):n==="in"?new kx(e,r):n==="not-in"?new Nx(e,r):n==="array-contains-any"?new Dx(e,r):new We(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Rx(e,r):new Cx(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(oo(n,this.value)):n!==null&&ai(this.value)===ai(n)&&this.matchesComparison(oo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yn extends m1{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new yn(e,n)}matches(e){return g1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function g1(t){return t.op==="and"}function y1(t){return Ax(t)&&g1(t)}function Ax(t){for(const e of t.filters)if(e instanceof yn)return!1;return!0}function ud(t){if(t instanceof We)return t.field.canonicalString()+t.op.toString()+so(t.value);if(y1(t))return t.filters.map(e=>ud(e)).join(",");{const e=t.filters.map(n=>ud(n)).join(",");return`${t.op}(${e})`}}function v1(t,e){return t instanceof We?function(r,i){return i instanceof We&&r.op===i.op&&r.field.isEqual(i.field)&&Vn(r.value,i.value)}(t,e):t instanceof yn?function(r,i){return i instanceof yn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&v1(s,i.filters[a]),!0):!1}(t,e):void Y()}function _1(t){return t instanceof We?function(n){return`${n.field.canonicalString()} ${n.op} ${so(n.value)}`}(t):t instanceof yn?function(n){return n.op.toString()+" {"+n.getFilters().map(_1).join(" ,")+"}"}(t):"Filter"}class xx extends We{constructor(e,n,r){super(e,n,r),this.key=z.fromName(r.referenceValue)}matches(e){const n=z.comparator(e.key,this.key);return this.matchesComparison(n)}}class Rx extends We{constructor(e,n){super(e,"in",n),this.keys=E1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Cx extends We{constructor(e,n){super(e,"not-in",n),this.keys=E1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function E1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>z.fromName(r.referenceValue))}class Px extends We{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gf(n)&&Bs(n.arrayValue,this.value)}}class kx extends We{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bs(this.value.arrayValue,n)}}class Nx extends We{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Bs(this.value.arrayValue,n)}}class Dx extends We{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function Fg(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Vx(t,e,n,r,i,o,s)}function Yf(t){const e=ee(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ud(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ju(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>so(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>so(r)).join(",")),e.ce=n}return e.ce}function Xf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Sx(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!v1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bg(t.startAt,e.startAt)&&bg(t.endAt,e.endAt)}function cd(t){return z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Lx(t,e,n,r,i,o,s,a){return new da(t,e,n,r,i,o,s,a)}function Jf(t){return new da(t)}function $g(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function w1(t){return t.collectionGroup!==null}function ls(t){const e=ee(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new dt(ut.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new ql(o,r))}),n.has(ut.keyField().canonicalString())||e.le.push(new ql(ut.keyField(),r))}return e.le}function Pn(t){const e=ee(t);return e.he||(e.he=jx(e,ls(t))),e.he}function jx(t,e){if(t.limitType==="F")return Fg(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new ql(i.field,o)});const n=t.endAt?new Wl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Wl(t.startAt.position,t.startAt.inclusive):null;return Fg(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function hd(t,e){const n=t.filters.concat([e]);return new da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dd(t,e,n){return new da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mu(t,e){return Xf(Pn(t),Pn(e))&&t.limitType===e.limitType}function T1(t){return`${Yf(Pn(t))}|lt:${t.limitType}`}function Ei(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>_1(i)).join(", ")}]`),ju(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>so(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>so(i)).join(",")),`Target(${r})`}(Pn(t))}; limitType=${t.limitType})`}function Ou(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of ls(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=Og(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,ls(r),i)||r.endAt&&!function(s,a,l){const u=Og(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,ls(r),i))}(t,e)}function Mx(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function I1(t){return(e,n)=>{let r=!1;for(const i of ls(t)){const o=Ox(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Ox(t,e,n){const r=t.field.isKeyField()?z.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?oo(l,u):Y()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){di(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return d1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=new je(z.comparator);function Hn(){return bx}const S1=new je(z.comparator);function Wo(...t){let e=S1;for(const n of t)e=e.insert(n.key,n);return e}function A1(t){let e=S1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Kr(){return us()}function x1(){return us()}function us(){return new _o(t=>t.toString(),(t,e)=>t.isEqual(e))}const Fx=new je(z.comparator),$x=new dt(z.comparator);function se(...t){let e=$x;for(const n of t)e=e.add(n);return e}const Ux=new dt(fe);function zx(){return Ux}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hl(e)?"-0":e}}function C1(t){return{integerValue:""+t}}function Bx(t,e){return Ex(e)?C1(e):R1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(){this._=void 0}}function Qx(t,e,n){return t instanceof Kl?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&qf(o)&&(o=Kf(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Qs?k1(t,e):t instanceof Hs?N1(t,e):function(i,o){const s=P1(i,o),a=Ug(s)+Ug(i.Ie);return ld(s)&&ld(i.Ie)?C1(a):R1(i.serializer,a)}(t,e)}function Hx(t,e,n){return t instanceof Qs?k1(t,e):t instanceof Hs?N1(t,e):n}function P1(t,e){return t instanceof Gl?function(r){return ld(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Kl extends bu{}class Qs extends bu{constructor(e){super(),this.elements=e}}function k1(t,e){const n=D1(e);for(const r of t.elements)n.some(i=>Vn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Hs extends bu{constructor(e){super(),this.elements=e}}function N1(t,e){let n=D1(e);for(const r of t.elements)n=n.filter(i=>!Vn(i,r));return{arrayValue:{values:n}}}class Gl extends bu{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Ug(t){return Qe(t.integerValue||t.doubleValue)}function D1(t){return Gf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Wx(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Qs&&i instanceof Qs||r instanceof Hs&&i instanceof Hs?io(r.elements,i.elements,Vn):r instanceof Gl&&i instanceof Gl?Vn(r.Ie,i.Ie):r instanceof Kl&&i instanceof Kl}(t.transform,e.transform)}class qx{constructor(e,n){this.version=e,this.transformResults=n}}class pn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pn}static exists(e){return new pn(void 0,e)}static updateTime(e){return new pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Fu{}function V1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zf(t.key,pn.none()):new fa(t.key,t.data,pn.none());{const n=t.data,r=Lt.empty();let i=new dt(ut.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Vr(t.key,r,new Bt(i.toArray()),pn.none())}}function Kx(t,e,n){t instanceof fa?function(i,o,s){const a=i.value.clone(),l=Bg(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Vr?function(i,o,s){if(!sl(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Bg(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(L1(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function cs(t,e,n,r){return t instanceof fa?function(o,s,a,l){if(!sl(o.precondition,s))return a;const u=o.value.clone(),c=Qg(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vr?function(o,s,a,l){if(!sl(o.precondition,s))return a;const u=Qg(o.fieldTransforms,l,s),c=s.data;return c.setAll(L1(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return sl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function Gx(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=P1(r.transform,i||null);o!=null&&(n===null&&(n=Lt.empty()),n.set(r.field,o))}return n||null}function zg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&io(r,i,(o,s)=>Wx(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fa extends Fu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vr extends Fu{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function L1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Bg(t,e,n){const r=new Map;Se(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Hx(s,a,n[i]))}return r}function Qg(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Qx(o,s,e))}return r}class Zf extends Fu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yx extends Fu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Kx(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=cs(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=cs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=x1();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=V1(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&io(this.mutations,e.mutations,(n,r)=>zg(n,r))&&io(this.baseMutations,e.baseMutations,(n,r)=>zg(n,r))}}class ep{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Se(e.mutations.length===r.length);let i=function(){return Fx}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new ep(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be,ce;function eR(t){switch(t){default:return Y();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0}}function j1(t){if(t===void 0)return Dn("GRPC error has no .code"),C.UNKNOWN;switch(t){case Be.OK:return C.OK;case Be.CANCELLED:return C.CANCELLED;case Be.UNKNOWN:return C.UNKNOWN;case Be.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case Be.INTERNAL:return C.INTERNAL;case Be.UNAVAILABLE:return C.UNAVAILABLE;case Be.UNAUTHENTICATED:return C.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case Be.NOT_FOUND:return C.NOT_FOUND;case Be.ALREADY_EXISTS:return C.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return C.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case Be.ABORTED:return C.ABORTED;case Be.OUT_OF_RANGE:return C.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return C.UNIMPLEMENTED;case Be.DATA_LOSS:return C.DATA_LOSS;default:return Y()}}(ce=Be||(Be={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=new Wi([4294967295,4294967295],0);function Hg(t){const e=tR().encode(t),n=new rx;return n.update(e),new Uint8Array(n.digest())}function Wg(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Wi([n,r],0),new Wi([i,o],0)]}class tp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qo(`Invalid padding: ${n}`);if(r<0)throw new qo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Wi.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Wi.fromNumber(r)));return i.compare(nR)===1&&(i=new Wi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Hg(e),[r,i]=Wg(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new tp(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const n=Hg(e),[r,i]=Wg(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class qo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,pa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new $u(Z.min(),i,new je(fe),Hn(),se())}}class pa{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pa(r,n,se(),se(),se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class M1{constructor(e,n){this.targetId=e,this.fe=n}}class O1{constructor(e,n,r=St.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class qg{constructor(){this.ge=0,this.pe=Gg(),this.ye=St.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=se(),n=se(),r=se();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y()}}),new pa(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=Gg()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Se(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class rR{constructor(e){this.Le=e,this.ke=new Map,this.qe=Hn(),this.Qe=Kg(),this.Ke=new je(fe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Y()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(cd(o))if(r===0){const s=new z(o.path);this.We(n,s,Et.newNoDocument(s,Z.min()))}else Se(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=si(r).toUint8Array()}catch(l){if(l instanceof f1)return ro("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new tp(s,i,o)}catch(l){return ro(l instanceof qo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&cd(a.target)){const l=new z(a.target.path);this.qe.get(l)!==null||this.st(s,l)||this.We(s,l,Et.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=se();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new $u(e,n,this.Ke,this.qe,r);return this.qe=Hn(),this.Qe=Kg(),this.Ke=new je(fe),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new qg,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new dt(fe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new qg),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Kg(){return new je(z.comparator)}function Gg(){return new je(z.comparator)}const iR={asc:"ASCENDING",desc:"DESCENDING"},oR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sR={and:"AND",or:"OR"};class aR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fd(t,e){return t.useProto3Json||ju(e)?e:{value:e}}function Yl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function b1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lR(t,e){return Yl(t,e.toTimestamp())}function kn(t){return Se(!!t),Z.fromTimestamp(function(n){const r=xr(n);return new Ye(r.seconds,r.nanos)}(t))}function np(t,e){return pd(t,e).canonicalString()}function pd(t,e){const n=function(i){return new Re(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function F1(t){const e=Re.fromString(t);return Se(Q1(e)),e}function md(t,e){return np(t.databaseId,e.path)}function zc(t,e){const n=F1(e);if(n.get(1)!==t.databaseId.projectId)throw new F(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new z(U1(n))}function $1(t,e){return np(t.databaseId,e)}function uR(t){const e=F1(t);return e.length===4?Re.emptyPath():U1(e)}function gd(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function U1(t){return Se(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Yg(t,e,n){return{name:md(t,e),fields:n.value.mapValue.fields}}function cR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Y()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Se(c===void 0||typeof c=="string"),St.fromBase64String(c||"")):(Se(c===void 0||c instanceof Uint8Array),St.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?C.UNKNOWN:j1(u.code);return new F(c,u.message||"")}(s);n=new O1(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zc(t,r.document.name),o=kn(r.document.updateTime),s=r.document.createTime?kn(r.document.createTime):Z.min(),a=new Lt({mapValue:{fields:r.document.fields}}),l=Et.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new al(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zc(t,r.document),o=r.readTime?kn(r.readTime):Z.min(),s=Et.newNoDocument(i,o),a=r.removedTargetIds||[];n=new al([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zc(t,r.document),o=r.removedTargetIds||[];n=new al([],o,i,null)}else{if(!("filter"in e))return Y();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new Zx(i,o),a=r.targetId;n=new M1(a,s)}}return n}function hR(t,e){let n;if(e instanceof fa)n={update:Yg(t,e.key,e.value)};else if(e instanceof Zf)n={delete:md(t,e.key)};else if(e instanceof Vr)n={update:Yg(t,e.key,e.data),updateMask:ER(e.fieldMask)};else{if(!(e instanceof Yx))return Y();n={verify:md(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Kl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Qs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Hs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Gl)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Y()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:lR(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Y()}(t,e.precondition)),n}function dR(t,e){return t&&t.length>0?(Se(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?kn(i.updateTime):kn(o);return s.isEqual(Z.min())&&(s=kn(o)),new qx(s,i.transformResults||[])}(n,e))):[]}function fR(t,e){return{documents:[$1(t,e.path)]}}function pR(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$1(t,i);const o=function(u){if(u.length!==0)return B1(yn.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:wi(d.field),direction:yR(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=fd(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function mR(t){let e=uR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Se(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(h){const d=z1(h);return d instanceof yn&&y1(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(d=>function(E){return new ql(Ti(E.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,ju(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,g=h.values||[];return new Wl(g,d)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const d=!h.before,g=h.values||[];return new Wl(g,d)}(n.endAt)),Lx(e,i,s,o,a,"F",l,u)}function gR(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function z1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ti(n.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ti(n.unaryFilter.field);return We.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ti(n.unaryFilter.field);return We.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ti(n.unaryFilter.field);return We.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(t):t.fieldFilter!==void 0?function(n){return We.create(Ti(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return yn.create(n.compositeFilter.filters.map(r=>z1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y()}}(n.compositeFilter.op))}(t):Y()}function yR(t){return iR[t]}function vR(t){return oR[t]}function _R(t){return sR[t]}function wi(t){return{fieldPath:t.canonicalString()}}function Ti(t){return ut.fromServerFormat(t.fieldPath)}function B1(t){return t instanceof We?function(n){if(n.op==="=="){if(Mg(n.value))return{unaryFilter:{field:wi(n.field),op:"IS_NAN"}};if(jg(n.value))return{unaryFilter:{field:wi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Mg(n.value))return{unaryFilter:{field:wi(n.field),op:"IS_NOT_NAN"}};if(jg(n.value))return{unaryFilter:{field:wi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wi(n.field),op:vR(n.op),value:n.value}}}(t):t instanceof yn?function(n){const r=n.getFilters().map(i=>B1(i));return r.length===1?r[0]:{compositeFilter:{op:_R(n.op),filters:r}}}(t):Y()}function ER(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Q1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,n,r,i,o=Z.min(),s=Z.min(),a=St.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ar(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.ct=e}}function TR(t){const e=mR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(){this._n=new SR}addToCollectionParentIndex(e,n){return this._n.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Ar.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Ar.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}}class SR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new dt(Re.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dt(Re.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ao(0)}static Bn(){return new ao(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this.changes=new _o(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Et.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&cs(r.mutation,i,Bt.empty(),Ye.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const i=Kr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Wo();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Kr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Hn();const s=us(),a=function(){return us()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Vr)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),cs(c.mutation,u,c.mutation.getFieldMask(),Ye.now())):s.set(u.key,Bt.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new xR(c,(h=s.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=us();let i=new je((s,a)=>s-a),o=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Bt.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||se()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=x1();c.forEach(d=>{if(!o.has(d)){const g=V1(n.get(d),r.get(d));g!==null&&h.set(d,g),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):w1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(Kr());let a=-1,l=o;return s.next(u=>P.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(c)?P.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,se())).next(c=>({batchId:a,changes:A1(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new z(n)).next(r=>{let i=Wo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Wo();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,l=>{const u=function(h,d){return new da(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,d)=>{s=s.insert(h,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Et.newInvalidDocument(c)))});let a=Wo();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&cs(c.mutation,u,Bt.empty(),Ye.now()),Ou(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return P.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:kn(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:TR(i.bundledQuery),readTime:kn(i.readTime)}}(n)),P.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.overlays=new je(z.comparator),this.hr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Kr();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){const i=Kr(),o=n.length+1,s=new z(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new je((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Kr(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Kr(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return P.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Jx(n,r));let o=this.hr.get(n);o===void 0&&(o=se(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(){this.Pr=new dt(et.Ir),this.Tr=new dt(et.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new et(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new et(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new z(new Re([])),r=new et(n,e),i=new et(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new z(new Re([])),r=new et(n,e),i=new et(n,e+1);let o=se();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new et(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class et{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return z.comparator(e.key,n.key)||fe(e.pr,n.pr)}static Er(e,n){return fe(e.pr,n.pr)||z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new dt(et.Ir)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Xx(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new et(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new et(n,0),i=new et(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dt(fe);return n.forEach(i=>{const o=new et(i,0),s=new et(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),P.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;z.isDocumentKey(o)||(o=o.child(""));const s=new et(new z(o),0);let a=new dt(fe);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),P.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Se(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return P.forEach(n.mutations,i=>{const o=new et(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new et(n,0),i=this.wr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.vr=e,this.docs=function(){return new je(z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():Et.newInvalidDocument(n))}getEntries(e,n){let r=Hn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Et.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Hn();const s=n.path,a=new z(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||mx(px(c),r)<=0||(i.has(c.key)||Ou(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Y()}Fr(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new DR(this)}getSize(e){return P.resolve(this.size)}}class DR extends AR{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.persistence=e,this.Mr=new _o(n=>Yf(n),Xf),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Or=0,this.Nr=new rp,this.targetCount=0,this.Br=ao.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),P.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new ao(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.qn(n),P.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),P.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,n){this.Lr={},this.overlays={},this.kr=new Wf(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new VR(this),this.indexManager=new IR,this.remoteDocumentCache=function(i){return new NR(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new wR(n),this.$r=new CR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new kR(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);const i=new jR(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return P.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class jR extends yx{constructor(e){super(),this.currentSequenceNumber=e}}class ip{constructor(e){this.persistence=e,this.zr=new rp,this.jr=null}static Hr(e){return new ip(e)}get Jr(){if(this.jr)return this.jr;throw Y()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),P.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Jr,r=>{const i=z.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,Z.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return P.or([()=>P.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=se(),i=se();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new op(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return OS()?8:qr.v(Ml())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new MR;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Fo()<=he.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",Ei(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),P.resolve()):(Fo()<=he.DEBUG&&j("QueryEngine","Query:",Ei(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Fo()<=he.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",Ei(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pn(n))):P.resolve())}ji(e,n){if($g(n))return P.resolve(null);let r=Pn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=dd(n,null,"F"),r=Pn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=se(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,dd(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return $g(n)||i.isEqual(Z.min())?P.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?P.resolve(null):(Fo()<=he.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ei(n)),this.es(e,s,n,fx(i,-1)).next(a=>a))})}Zi(e,n){let r=new dt(I1(e));return n.forEach((i,o)=>{Ou(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return Fo()<=he.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",Ei(n)),this.zi.getDocumentsMatchingQuery(e,n,Ar.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new je(fe),this.rs=new _o(o=>Yf(o),Xf),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RR(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function FR(t,e,n,r){return new bR(t,e,n,r)}async function H1(t,e){const n=ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=se();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}function $R(t,e){const n=ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,d=h.keys();let g=P.resolve();return d.forEach(E=>{g=g.next(()=>c.getEntry(l,E)).next(_=>{const T=u.docVersions.get(E);Se(T!==null),_.version.compareTo(T)<0&&(h.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=se();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function W1(t){const e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function UR(t,e){const n=ee(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;a.push(n.Qr.removeMatchingKeys(o,c.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(o,c.addedDocuments,h)));let g=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(St.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):c.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(c.resumeToken,r)),i=i.insert(h,g),function(_,T,p){return _.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:p.addedDocuments.size+p.modifiedDocuments.size+p.removedDocuments.size>0}(d,g,c)&&a.push(n.Qr.updateTargetData(o,g))});let l=Hn(),u=se();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(zR(o,s,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(Z.min())){const c=n.Qr.getLastRemoteSnapshotVersion(o).next(h=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ns=i,o))}function zR(t,e,n){let r=se(),i=se();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Hn();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Z.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function BR(t,e){const n=ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function QR(t,e){const n=ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new ar(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function yd(t,e,n){const r=ee(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ha(s))throw s;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Xg(t,e,n){const r=ee(t);let i=Z.min(),o=se();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const h=ee(l),d=h.rs.get(c);return d!==void 0?P.resolve(h.ns.get(d)):h.Qr.getTargetData(u,c)}(r,s,Pn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:Z.min(),n?o:se())).next(a=>(HR(r,Mx(e),a),{documents:a,hs:o})))}function HR(t,e,n){let r=t.ss.get(e)||Z.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class Jg{constructor(){this.activeTargetIds=zx()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WR{constructor(){this.no=new Jg,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Jg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wa=null;function Bc(){return Wa===null?Wa=function(){return 268435456+Math.round(2147483648*Math.random())}():Wa++,"0x"+Wa.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yt="WebChannelConnection";class YR extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const a=Bc(),l=this.bo(n,r.toUriEncodedString());j("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,o,s),this.Co(n,l,u,i).then(c=>(j("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw ro("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){const i=KR[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const o=Bc();return new Promise((s,a)=>{const l=new nx;l.setWithCredentials(!0),l.listenOnce(ex.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Uc.NO_ERROR:const c=l.getResponseJson();j(yt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case Uc.TIMEOUT:j(yt,`RPC '${e}' ${o} timed out`),a(new F(C.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const h=l.getStatus();if(j(yt,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const g=d==null?void 0:d.error;if(g&&g.status&&g.message){const E=function(T){const p=T.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(p)>=0?p:C.UNKNOWN}(g.status);a(new F(E,g.message))}else a(new F(C.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new F(C.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{j(yt,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);j(yt,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=Bc(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=J2(),a=Z2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");j(yt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=s.createWebChannel(c,l);let d=!1,g=!1;const E=new GR({lo:T=>{g?j(yt,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(d||(j(yt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),j(yt,`RPC '${e}' stream ${i} sending:`,T),h.send(T))},ho:()=>h.close()}),_=(T,p,f)=>{T.listen(p,y=>{try{f(y)}catch(S){setTimeout(()=>{throw S},0)}})};return _(h,Ba.EventType.OPEN,()=>{g||j(yt,`RPC '${e}' stream ${i} transport opened.`)}),_(h,Ba.EventType.CLOSE,()=>{g||(g=!0,j(yt,`RPC '${e}' stream ${i} transport closed`),E.Vo())}),_(h,Ba.EventType.ERROR,T=>{g||(g=!0,ro(yt,`RPC '${e}' stream ${i} transport errored:`,T),E.Vo(new F(C.UNAVAILABLE,"The operation could not be completed")))}),_(h,Ba.EventType.MESSAGE,T=>{var p;if(!g){const f=T.data[0];Se(!!f);const y=f,S=y.error||((p=y[0])===null||p===void 0?void 0:p.error);if(S){j(yt,`RPC '${e}' stream ${i} received error:`,S);const D=S.status;let v=function(O){const U=Be[O];if(U!==void 0)return j1(U)}(D),R=S.message;v===void 0&&(v=C.INTERNAL,R="Unknown error status: "+D+" with message "+S.message),g=!0,E.Vo(new F(v,R)),h.close()}else j(yt,`RPC '${e}' stream ${i} received:`,f),E.mo(f)}}),_(a,tx.STAT_EVENT,T=>{T.stat===Cg.PROXY?j(yt,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===Cg.NOPROXY&&j(yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.Ro()},0),E}}function Qc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t){return new aR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new q1(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===C.RESOURCE_EXHAUSTED?(Dn(n.toString()),Dn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===C.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new F(C.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XR extends K1{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=cR(this.serializer,e),r=function(o){if(!("targetChange"in o))return Z.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Z.min():s.readTime?kn(s.readTime):Z.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=gd(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=cd(l)?{documents:fR(o,l)}:{query:pR(o,l).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=b1(o,s.resumeToken);const u=fd(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Z.min())>0){a.readTime=Yl(o,s.snapshotVersion.toTimestamp());const u=fd(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=gR(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=gd(this.serializer),n.removeTarget=e,this.t_(n)}}class JR extends K1{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=dR(e.writeResults,e.commitTime),r=kn(e.commitTime);return this.listener.T_(r,n)}return Se(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=gd(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>hR(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new F(C.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,pd(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new F(C.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,pd(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(C.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class eC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Dn(n),this.g_=!1):j("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(async()=>{fi(this)&&(j("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ee(l);u.v_.add(4),await ma(u),u.x_.set("Unknown"),u.v_.delete(4),await zu(u)}(this))})}),this.x_=new eC(r,i)}}async function zu(t){if(fi(t))for(const e of t.F_)await e(!0)}async function ma(t){for(const e of t.F_)await e(!1)}function G1(t,e){const n=ee(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),lp(n)?ap(n):Eo(n).Jo()&&sp(n,e))}function Y1(t,e){const n=ee(t),r=Eo(n);n.C_.delete(e),r.Jo()&&X1(n,e),n.C_.size===0&&(r.Jo()?r.Xo():fi(n)&&n.x_.set("Unknown"))}function sp(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Eo(t).c_(e)}function X1(t,e){t.O_.Oe(e),Eo(t).l_(e)}function ap(t){t.O_=new rR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Eo(t).start(),t.x_.p_()}function lp(t){return fi(t)&&!Eo(t).Ho()&&t.C_.size>0}function fi(t){return ee(t).v_.size===0}function J1(t){t.O_=void 0}async function nC(t){t.C_.forEach((e,n)=>{sp(t,e)})}async function rC(t,e){J1(t),lp(t)?(t.x_.S_(e),ap(t)):t.x_.set("Unknown")}async function iC(t,e,n){if(t.x_.set("Online"),e instanceof O1&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xl(t,r)}else if(e instanceof al?t.O_.$e(e):e instanceof M1?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Z.min()))try{const r=await W1(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.C_.get(u);c&&o.C_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.C_.get(l);if(!c)return;o.C_.set(l,c.withResumeToken(St.EMPTY_BYTE_STRING,c.snapshotVersion)),X1(o,l);const h=new ar(c.target,l,u,c.sequenceNumber);sp(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){j("RemoteStore","Failed to raise snapshot:",r),await Xl(t,r)}}async function Xl(t,e,n){if(!ha(e))throw e;t.v_.add(1),await ma(t),t.x_.set("Offline"),n||(n=()=>W1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{j("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await zu(t)})}function Z1(t,e){return e().catch(n=>Xl(t,n,e))}async function Bu(t){const e=ee(t),n=Rr(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;oC(e);)try{const i=await BR(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,sC(e,i)}catch(i){await Xl(e,i)}eE(e)&&tE(e)}function oC(t){return fi(t)&&t.D_.length<10}function sC(t,e){t.D_.push(e);const n=Rr(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function eE(t){return fi(t)&&!Rr(t).Ho()&&t.D_.length>0}function tE(t){Rr(t).start()}async function aC(t){Rr(t).d_()}async function lC(t){const e=Rr(t);for(const n of t.D_)e.I_(n.mutations)}async function uC(t,e,n){const r=t.D_.shift(),i=ep.from(r,e,n);await Z1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Bu(t)}async function cC(t,e){e&&Rr(t).P_&&await async function(r,i){if(function(s){return eR(s)&&s!==C.ABORTED}(i.code)){const o=r.D_.shift();Rr(r).Zo(),await Z1(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Bu(r)}}(t,e),eE(t)&&tE(t)}async function ey(t,e){const n=ee(t);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");const r=fi(n);n.v_.add(3),await ma(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await zu(n)}async function hC(t,e){const n=ee(t);e?(n.v_.delete(2),await zu(n)):e||(n.v_.add(2),await ma(n),n.x_.set("Unknown"))}function Eo(t){return t.N_||(t.N_=function(n,r,i){const o=ee(n);return o.R_(),new XR(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:nC.bind(null,t),To:rC.bind(null,t),u_:iC.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),lp(t)?ap(t):t.x_.set("Unknown")):(await t.N_.stop(),J1(t))})),t.N_}function Rr(t){return t.B_||(t.B_=function(n,r,i){const o=ee(n);return o.R_(),new JR(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:aC.bind(null,t),To:cC.bind(null,t),E_:lC.bind(null,t),T_:uC.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await Bu(t)):(await t.B_.stop(),t.D_.length>0&&(j("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new up(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cp(t,e){if(Dn("AsyncQueue",`${e}: ${t}`),ha(t))return new F(C.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||z.comparator(n.key,r.key):(n,r)=>z.comparator(n.key,r.key),this.keyedMap=Wo(),this.sortedSet=new je(this.comparator)}static emptySet(e){return new qi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(){this.L_=new je(z.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):Y():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class lo{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new lo(e,n,qi.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.q_=void 0,this.Q_=[]}}class fC{constructor(){this.queries=new _o(e=>T1(e),Mu),this.onlineState="Unknown",this.K_=new Set}}async function pC(t,e){const n=ee(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new dC),i)try{o.q_=await n.onListen(r)}catch(s){const a=cp(s,`Initialization of query '${Ei(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.Q_.push(e),e.U_(n.onlineState),o.q_&&e.W_(o.q_)&&hp(n)}async function mC(t,e){const n=ee(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),i=o.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function gC(t,e){const n=ee(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Q_)a.W_(i)&&(r=!0);s.q_=i}}r&&hp(n)}function yC(t,e,n){const r=ee(t),i=r.queries.get(e);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(e)}function hp(t){t.K_.forEach(e=>{e.next()})}class vC{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new lo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e){this.key=e}}class rE{constructor(e){this.key=e}}class _C{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=se(),this.mutatedKeys=se(),this.ua=I1(e),this.ca=new qi(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new ty,i=n?n.ca:this.ca;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),g=Ou(this.query,h)?h:null,E=!!d&&this.mutatedKeys.has(d.key),_=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let T=!1;d&&g?d.data.isEqual(g.data)?E!==_&&(r.track({type:3,doc:g}),T=!0):this.Ia(d,g)||(r.track({type:2,doc:g}),T=!0,(l&&this.ua(g,l)>0||u&&this.ua(g,u)<0)&&(a=!0)):!d&&g?(r.track({type:0,doc:g}),T=!0):d&&!g&&(r.track({type:1,doc:d}),T=!0,(l||u)&&(a=!0)),T&&(g?(s=s.add(g),o=_?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{ca:s,Pa:r,Xi:a,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort((c,h)=>function(g,E){const _=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return _(g)-_(E)}(c.type,h.type)||this.ua(c.doc,h.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,u=l!==this._a;return this._a=l,s.length!==0||u?{snapshot:new lo(this.query,e.ca,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new ty,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=se(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new rE(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new nE(r))}),n}Ra(e){this.oa=e.hs,this.aa=se();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return lo.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class EC{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class wC{constructor(e){this.key=e,this.ma=!1}}class TC{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new _o(a=>T1(a),Mu),this.pa=new Map,this.ya=new Set,this.wa=new je(z.comparator),this.Sa=new Map,this.ba=new rp,this.Da={},this.Ca=new Map,this.va=ao.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function IC(t,e){const n=VC(t);let r,i;const o=n.ga.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const s=await QR(n.localStore,Pn(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await SC(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&G1(n.remoteStore,s)}return i}async function SC(t,e,n,r,i){t.Ma=(h,d,g)=>async function(_,T,p,f){let y=T.view.ha(p);y.Xi&&(y=await Xg(_.localStore,T.query,!1).then(({documents:R})=>T.view.ha(R,y)));const S=f&&f.targetChanges.get(T.targetId),D=f&&f.targetMismatches.get(T.targetId)!=null,v=T.view.applyChanges(y,_.isPrimaryClient,S,D);return ry(_,T.targetId,v.da),v.snapshot}(t,h,d,g);const o=await Xg(t.localStore,e,!0),s=new _C(e,o.hs),a=s.ha(o.documents),l=pa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);ry(t,n,u.da);const c=new EC(e,n,s);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function AC(t,e){const n=ee(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(o=>!Mu(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await yd(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Y1(n.remoteStore,r.targetId),vd(n,r.targetId)}).catch(ca)):(vd(n,r.targetId),await yd(n.localStore,r.targetId,!0))}async function xC(t,e,n){const r=LC(t);try{const i=await function(s,a){const l=ee(s),u=Ye.now(),c=a.reduce((g,E)=>g.add(E.key),se());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let E=Hn(),_=se();return l.os.getEntries(g,c).next(T=>{E=T,E.forEach((p,f)=>{f.isValidDocument()||(_=_.add(p))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,E)).next(T=>{h=T;const p=[];for(const f of a){const y=Gx(f,h.get(f.key).overlayedDocument);y!=null&&p.push(new Vr(f.key,y,p1(y.value.mapValue),pn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,p,a)}).next(T=>{d=T;const p=T.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(g,T.batchId,p)})}).then(()=>({batchId:d.batchId,changes:A1(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Da[s.currentUser.toKey()];u||(u=new je(fe)),u=u.insert(a,l),s.Da[s.currentUser.toKey()]=u}(r,i.batchId,n),await ga(r,i.changes),await Bu(r.remoteStore)}catch(i){const o=cp(i,"Failed to persist write");n.reject(o)}}async function iE(t,e){const n=ee(t);try{const r=await UR(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Sa.get(o);s&&(Se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.ma=!0:i.modifiedDocuments.size>0?Se(s.ma):i.removedDocuments.size>0&&(Se(s.ma),s.ma=!1))}),await ga(n,r,e)}catch(r){await ca(r)}}function ny(t,e,n){const r=ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((o,s)=>{const a=s.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=ee(s);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const d of h.Q_)d.U_(a)&&(u=!0)}),u&&hp(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function RC(t,e,n){const r=ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),o=i&&i.key;if(o){let s=new je(z.comparator);s=s.insert(o,Et.newNoDocument(o,Z.min()));const a=se().add(o),l=new $u(Z.min(),new Map,new je(fe),s,a);await iE(r,l),r.wa=r.wa.remove(o),r.Sa.delete(e),dp(r)}else await yd(r.localStore,e,!1).then(()=>vd(r,e,n)).catch(ca)}async function CC(t,e){const n=ee(t),r=e.batch.batchId;try{const i=await $R(n.localStore,e);sE(n,r,null),oE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ga(n,i)}catch(i){await ca(i)}}async function PC(t,e,n){const r=ee(t);try{const i=await function(s,a){const l=ee(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Se(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);sE(r,e,n),oE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ga(r,i)}catch(i){await ca(i)}}function oE(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function sE(t,e,n){const r=ee(t);let i=r.Da[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function vd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||aE(t,r)})}function aE(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(Y1(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),dp(t))}function ry(t,e,n){for(const r of n)r instanceof nE?(t.ba.addReference(r.key,e),kC(t,r)):r instanceof rE?(j("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||aE(t,r.key)):Y()}function kC(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(j("SyncEngine","New document in limbo: "+n),t.ya.add(r),dp(t))}function dp(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new z(Re.fromString(e)),r=t.va.next();t.Sa.set(r,new wC(n)),t.wa=t.wa.insert(n,r),G1(t.remoteStore,new ar(Pn(Jf(n.path)),r,"TargetPurposeLimboResolution",Wf._e))}}async function ga(t,e,n){const r=ee(t),i=[],o=[],s=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{s.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=op.Ki(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.fa.u_(i),await async function(l,u){const c=ee(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>P.forEach(u,d=>P.forEach(d.qi,g=>c.persistence.referenceDelegate.addReference(h,d.targetId,g)).next(()=>P.forEach(d.Qi,g=>c.persistence.referenceDelegate.removeReference(h,d.targetId,g)))))}catch(h){if(!ha(h))throw h;j("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const g=c.ns.get(d),E=g.snapshotVersion,_=g.withLastLimboFreeSnapshotVersion(E);c.ns=c.ns.insert(d,_)}}}(r.localStore,o))}async function NC(t,e){const n=ee(t);if(!n.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());const r=await H1(n.localStore,e);n.currentUser=e,function(o,s){o.Ca.forEach(a=>{a.forEach(l=>{l.reject(new F(C.CANCELLED,s))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ga(n,r.us)}}function DC(t,e){const n=ee(t),r=n.Sa.get(e);if(r&&r.ma)return se().add(r.key);{let i=se();const o=n.pa.get(e);if(!o)return i;for(const s of o){const a=n.ga.get(s);i=i.unionWith(a.view.la)}return i}}function VC(t){const e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RC.bind(null,e),e.fa.u_=gC.bind(null,e.eventManager),e.fa.xa=yC.bind(null,e.eventManager),e}function LC(t){const e=ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PC.bind(null,e),e}class iy{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Uu(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return FR(this.persistence,new OR,e.initialUser,this.serializer)}createPersistence(e){return new LR(ip.Hr,this.serializer)}createSharedClientState(e){return new WR}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class jC{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ny(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NC.bind(null,this.syncEngine),await hC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fC}()}createDatastore(e){const n=Uu(e.databaseInfo.databaseId),r=function(o){return new YR(o)}(e.databaseInfo);return function(o,s,a,l){return new ZR(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new tC(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ny(this.syncEngine,n,0),function(){return Zg.D()?new Zg:new qR}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const h=new TC(i,o,s,a,l,u);return c&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=ee(r);j("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await ma(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Dn("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vt.UNAUTHENTICATED,this.clientId=h1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{j("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(j("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new F(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=cp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hc(t,e){t.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await H1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function oy(t,e){t.asyncQueue.verifyOperationInProgress();const n=await FC(t);j("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ey(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ey(e.remoteStore,i)),t._onlineComponents=e}function bC(t){return t.name==="FirebaseError"?t.code===C.FAILED_PRECONDITION||t.code===C.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function FC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!bC(n))throw n;ro("Error using user provided cache. Falling back to memory cache: "+n),await Hc(t,new iy)}}else j("FirestoreClient","Using default OfflineComponentProvider"),await Hc(t,new iy);return t._offlineComponents}async function lE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),await oy(t,t._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),await oy(t,new jC))),t._onlineComponents}function $C(t){return lE(t).then(e=>e.syncEngine)}async function sy(t){const e=await lE(t),n=e.eventManager;return n.onListen=IC.bind(null,e.syncEngine),n.onUnlisten=AC.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(t,e,n){if(!n)throw new F(C.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UC(t,e,n,r){if(e===!0&&r===!0)throw new F(C.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ly(t){if(!z.isDocumentKey(t))throw new F(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uy(t){if(z.isDocumentKey(t))throw new F(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y()}function Er(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qu(t);throw new F(C.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new F(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new F(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new F(C.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new F(C.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new F(C.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new F(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new F(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cy(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ix;switch(r.type){case"firstParty":return new lx(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ay.get(n);r&&(j("ComponentProvider","Removing Datastore"),ay.delete(n),r.terminate())}(this),Promise.resolve()}}function zC(t,e,n,r={}){var i;const o=(t=Er(t,Hu))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=vt.MOCK_USER;else{a=jS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new F(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new vt(u)}t._authCredentials=new ox(new c1(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wo(this.firestore,e,this._query)}}class Ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}}class wr extends wo{constructor(e,n,r){super(e,n,Jf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new z(e))}withConverter(e){return new wr(this.firestore,e,this._path)}}function Tr(t,e,...n){if(t=Nn(t),cE("collection","path",e),t instanceof Hu){const r=Re.fromString(e,...n);return uy(r),new wr(t,null,r)}{if(!(t instanceof Ft||t instanceof wr))throw new F(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return uy(r),new wr(t.firestore,null,r)}}function Ki(t,e,...n){if(t=Nn(t),arguments.length===1&&(e=h1.newId()),cE("doc","path",e),t instanceof Hu){const r=Re.fromString(e,...n);return ly(r),new Ft(t,null,new z(r))}{if(!(t instanceof Ft||t instanceof wr))throw new F(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return ly(r),new Ft(t.firestore,t instanceof wr?t.converter:null,new z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new q1(this,"async_queue_retry"),this._u=()=>{const n=Qc();n&&j("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Qc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=Qc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new _r;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!ha(e))throw e;j("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Dn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=up.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&Y()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function hy(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class uo extends Hu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new BC}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||dE(this),this._firestoreClient.terminate()}}function QC(t,e){const n=typeof t=="object"?t:$A(),r=typeof t=="string"?t:e||"(default)",i=MA(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=VS("firestore");o&&zC(i,...o)}return i}function hE(t){return t._firestoreClient||dE(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function dE(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new Tx(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,uE(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new OC(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this._byteString=e}static fromBase64String(e){try{return new co(St.fromBase64String(e))}catch(n){throw new F(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new co(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=/^__.*__$/;class WC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Vr(e,this.data,this.fieldMask,n,this.fieldTransforms):new fa(e,this.data,n,this.fieldTransforms)}}class fE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Vr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function pE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}class mp{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new mp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Jl(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(pE(this.du)&&HC.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class qC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Uu(e)}Su(e,n,r,i=!1){return new mp({du:e,methodName:n,wu:r,path:ut.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gp(t){const e=t._freezeSettings(),n=Uu(t._databaseId);return new qC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function KC(t,e,n,r,i,o={}){const s=t.Su(o.merge||o.mergeFields?2:0,e,n,i);yp("Data must be an object, but it was:",s,r);const a=mE(r,s);let l,u;if(o.merge)l=new Bt(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const h of o.mergeFields){const d=_d(e,h,n);if(!s.contains(d))throw new F(C.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);yE(c,d)||c.push(d)}l=new Bt(c),u=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=s.fieldTransforms;return new WC(new Lt(a),l,u)}class qu extends fp{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qu}}function GC(t,e,n,r){const i=t.Su(1,e,n);yp("Data must be an object, but it was:",i,r);const o=[],s=Lt.empty();di(r,(l,u)=>{const c=vp(e,l,n);u=Nn(u);const h=i.fu(c);if(u instanceof qu)o.push(c);else{const d=ya(u,h);d!=null&&(o.push(c),s.set(c,d))}});const a=new Bt(o);return new fE(s,a,i.fieldTransforms)}function YC(t,e,n,r,i,o){const s=t.Su(1,e,n),a=[_d(e,r,n)],l=[i];if(o.length%2!=0)throw new F(C.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(_d(e,o[d])),l.push(o[d+1]);const u=[],c=Lt.empty();for(let d=a.length-1;d>=0;--d)if(!yE(u,a[d])){const g=a[d];let E=l[d];E=Nn(E);const _=s.fu(g);if(E instanceof qu)u.push(g);else{const T=ya(E,_);T!=null&&(u.push(g),c.set(g,T))}}const h=new Bt(u);return new fE(c,h,s.fieldTransforms)}function XC(t,e,n,r=!1){return ya(n,t.Su(r?4:3,e))}function ya(t,e){if(gE(t=Nn(t)))return yp("Unsupported field value:",e,t),mE(t,e);if(t instanceof fp)return function(r,i){if(!pE(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=ya(a,i.gu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Nn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Bx(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ye.fromDate(r);return{timestampValue:Yl(i.serializer,o)}}if(r instanceof Ye){const o=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yl(i.serializer,o)}}if(r instanceof pp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof co)return{bytesValue:b1(i.serializer,r._byteString)};if(r instanceof Ft){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.pu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:np(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Qu(r)}`)}(t,e)}function mE(t,e){const n={};return d1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):di(t,(r,i)=>{const o=ya(i,e.Ru(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function gE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof pp||t instanceof co||t instanceof Ft||t instanceof fp)}function yp(t,e,n){if(!gE(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Qu(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function _d(t,e,n){if((e=Nn(e))instanceof Wu)return e._internalPath;if(typeof e=="string")return vp(t,e);throw Jl("Field path arguments must be of type string or ",t,!1,void 0,n)}const JC=new RegExp("[~\\*/\\[\\]]");function vp(t,e,n){if(e.search(JC)>=0)throw Jl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wu(...e.split("."))._internalPath}catch{throw Jl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jl(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new F(C.INVALID_ARGUMENT,a+t+l)}function yE(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_E("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZC extends vE{data(){return super.data()}}function _E(t,e){return typeof e=="string"?vp(t,e):e instanceof Wu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _p{}class tP extends _p{}function Ws(t,e,...n){let r=[];e instanceof _p&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof wp).length,a=o.filter(l=>l instanceof Ep).length;if(s>1||s>0&&a>0)throw new F(C.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Ep extends tP{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ep(e,n,r)}_apply(e){const n=this._parse(e);return EE(e._query,n),new wo(e.firestore,e.converter,hd(e._query,n))}_parse(e){const n=gp(e.firestore);return function(o,s,a,l,u,c,h){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new F(C.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){fy(h,c);const g=[];for(const E of h)g.push(dy(l,o,E));d={arrayValue:{values:g}}}else d=dy(l,o,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||fy(h,c),d=XC(a,s,h,c==="in"||c==="not-in");return We.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class wp extends _p{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wp(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:yn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)EE(s,l),s=hd(s,l)}(e._query,n),new wo(e.firestore,e.converter,hd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function dy(t,e,n){if(typeof(n=Nn(n))=="string"){if(n==="")throw new F(C.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!w1(e)&&n.indexOf("/")!==-1)throw new F(C.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Re.fromString(n));if(!z.isDocumentKey(r))throw new F(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Lg(t,new z(r))}if(n instanceof Ft)return Lg(t,n._key);throw new F(C.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qu(n)}.`)}function fy(t,e){if(!Array.isArray(t)||t.length===0)throw new F(C.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function EE(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new F(C.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new F(C.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class nP{convertValue(e,n="none"){switch(ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Y()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return di(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new pp(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Kf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Us(e));default:return null}}convertTimestamp(e){const n=xr(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Re.fromString(e);Se(Q1(r));const i=new zs(r.get(1),r.get(3)),o=new z(r.popFirst(5));return i.isEqual(n)||Dn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wE extends vE{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ll(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_E("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ll extends wE{data(e={}){return super.data(e)}}class iP{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ko(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ll(this._firestore,this._userDataWriter,r.key,r,new Ko(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new ll(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ko(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new ll(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ko(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:oP(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function oP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}class TE extends nP{constructor(e){super(),this.firestore=e}convertBytes(e){return new co(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function IE(t,e,n,...r){t=Er(t,Ft);const i=Er(t.firestore,uo),o=gp(i);let s;return s=typeof(e=Nn(e))=="string"||e instanceof Wu?YC(o,"updateDoc",t._key,e,n,r):GC(o,"updateDoc",t._key,e),Ip(i,[s.toMutation(t._key,pn.exists(!0))])}function Ed(t){return Ip(Er(t.firestore,uo),[new Zf(t._key,pn.none())])}function Tp(t,e){const n=Er(t.firestore,uo),r=Ki(t),i=rP(t.converter,e);return Ip(n,[KC(gp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,pn.exists(!1))]).then(()=>r)}function qs(t,...e){var n,r,i;t=Nn(t);let o={includeMetadataChanges:!1},s=0;typeof e[s]!="object"||hy(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(hy(e[s])){const h=e[s];e[s]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[s+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[s+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof Ft)u=Er(t.firestore,uo),c=Jf(t._key.path),l={next:h=>{e[s]&&e[s](sP(u,t,h))},error:e[s+1],complete:e[s+2]};else{const h=Er(t,wo);u=Er(h.firestore,uo),c=h._query;const d=new TE(u);l={next:g=>{e[s]&&e[s](new iP(u,d,h,g))},error:e[s+1],complete:e[s+2]},eP(t._query)}return function(d,g,E,_){const T=new MC(_),p=new vC(g,T,E);return d.asyncQueue.enqueueAndForget(async()=>pC(await sy(d),p)),()=>{T.La(),d.asyncQueue.enqueueAndForget(async()=>mC(await sy(d),p))}}(hE(u),c,a,l)}function Ip(t,e){return function(r,i){const o=new _r;return r.asyncQueue.enqueueAndForget(async()=>xC(await $C(r),i,o)),o.promise}(hE(t),e)}function sP(t,e,n){const r=n.docs.get(e._key),i=new TE(t);return new wE(t,i,e._key,r,new Ko(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){vo=i})(FA),bl(new ks("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new uo(new sx(r.getProvider("auth-internal")),new cx(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new F(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zs(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Qi(Pg,"4.4.2",e),Qi(Pg,"4.4.2","esm2017")})();const aP={apiKey:"AIzaSyAlvjrgkEvG-ELeZuZNO0ugkBRovoVERRw",authDomain:"diplomado-rd.firebaseapp.com",projectId:"diplomado-rd",storageBucket:"diplomado-rd.appspot.com",messagingSenderId:"447276129810",appId:"1:447276129810:web:a032bcb74897a7911042cb"},lP=i_(aP),Ut=QC(lP),uP=()=>{const[t,e]=A.useState(""),[n,r]=A.useState(""),[i,o]=A.useState(!1),[s,a]=A.useState(!1),l=ta(),u=document.getElementById("input_contra"),[c,h]=A.useState(!1),[d,g]=A.useState(!1),[E,_]=A.useState(!1),T=k=>{k.preventDefault(),a(!1),o(!1),t.length===0||n.length===0?o(!0):p()},p=()=>{try{const O=Ws(Tr(Ut,"sesion"));var k=0;qs(O,U=>{const ne=[];U.forEach(pe=>{const _e={...pe.data(),idDoc:pe.id};ne.push(_e)}),ne.forEach(pe=>{const _e=`${pe.contra}`;pe.correo===t&&_e===n&&k++}),k>0?(localStorage.setItem("sesion",!0),l("/lista-danhos")):a(!0)})}catch{}},f=k=>{e(k.target.value),a(!1),o(!1)},y=k=>{r(k.target.value),a(!1),o(!1)};function S(){u.type==="password"?u.type="text":u.type="password"}const D=()=>{h(!1)},v=()=>{h(!0)},R=async k=>{try{k.preventDefault(),_(!1),g(!1),t.length===0||n.length===0?g(!0):await Tp(Tr(Ut,"sesion"),{contra:n,correo:t})!=null?(localStorage.setItem("sesion",!0),l("/lista-danhos")):_(!0)}catch(O){console.log(O),_(!0)}};return m.jsx(m.Fragment,{children:m.jsxs("div",{className:"flex",children:[m.jsx("aside",{className:"w-1/2 h-dvh hidden lg:flex ",children:m.jsx("img",{className:"h-dvh object-cover",src:kv})}),m.jsx("section",{className:"m-auto animate-fade-up h-dvh flex items-center	",children:m.jsx("div",{className:"w-full bg-stone-100 rounded-lg shadow md:mt-0 sm:max-w-md xl:p-0",children:m.jsxs("div",{className:"p-6 space-y-4 md:space-y-6 sm:p-8",children:[m.jsx("div",{className:"flex justify-center",children:m.jsx("img",{className:"w-3/5",src:Nv})}),m.jsxs("div",{className:"flex gap-2 text-center justify-center",children:[c&&m.jsx("svg",{onClick:D,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 cursor-pointer",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})}),m.jsx("h1",{className:"text-xl font-bold color-principal md:text-2xl text-center",children:c?"Registrate":"Registro de Daos"})]}),c?m.jsxs("form",{className:"space-y-4 md:space-y-6 grid animate-fade-up",onSubmit:R,children:[m.jsxs("div",{children:[m.jsx("label",{className:"block mb-2 text-sm font-medium text-stone-900",children:"Correo"}),m.jsx("input",{type:"email",onChange:f,value:t,className:"bg-gray-20 border border-gray-300 text-stone-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-200 block w-full p-2.5",required:""})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block mb-2 text-sm font-medium text-stone-900",children:"Contrasea"}),m.jsxs("div",{className:"flex items-center cursor-pointer",children:[m.jsx("input",{id:"input_contra",type:"password",onChange:y,value:n,className:"bg-gray-20 border border-gray-300 text-stone-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-200 block w-full p-2.5",required:""}),m.jsxs("svg",{onClick:S,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]})]})]}),m.jsx("button",{type:"submit",className:"w-full text-white bg-secundario focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg text-sm px-5 py-2.5 text-center font-bold",children:"Registrarse"}),d&&m.jsx("div",{className:"bg-orange-100 border-l-4 border-orange-500 text-orange-700 p-4",role:"alert",children:m.jsx("p",{className:"font-bold",children:"Usuario y Contrasea Obligatorios"})}),E&&m.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4",role:"alert",children:m.jsx("p",{className:"font-bold",children:"Error al dar de alta los datos"})})]}):m.jsxs("form",{className:"space-y-4 md:space-y-6 grid animate-fade-up",onSubmit:T,children:[m.jsxs("div",{children:[m.jsx("label",{className:"block mb-2 text-sm font-medium text-stone-900",children:"Correo"}),m.jsx("input",{type:"email",onChange:f,value:t,className:"bg-gray-20 border border-gray-300 text-stone-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-200 block w-full p-2.5",required:""})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block mb-2 text-sm font-medium text-stone-900",children:"Contrasea"}),m.jsxs("div",{className:"flex items-center cursor-pointer",children:[m.jsx("input",{id:"input_contra",type:"password",onChange:y,value:n,className:"bg-gray-20 border border-gray-300 text-stone-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-200 block w-full p-2.5",required:""}),m.jsxs("svg",{onClick:S,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]})]})]}),m.jsx("button",{type:"submit",className:"w-full text-white bg-secundario focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg text-sm px-5 py-2.5 text-center font-bold",children:"Acceder"}),m.jsxs("p",{className:"text-sm font-light text-gray-500 dark:text-gray-400",children:["Aun No Tienes Una Cuenta? ",m.jsx("a",{href:"#",className:"font-medium color-principal hover:underline dark:text-primary-500",onClick:v,children:"Darte de Alta"})]}),i&&m.jsx("div",{className:"bg-orange-100 border-l-4 border-orange-500 text-orange-700 p-4",role:"alert",children:m.jsx("p",{className:"font-bold",children:"Usuario y Contrasea Obligatorios"})}),s&&m.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4",role:"alert",children:m.jsx("p",{className:"font-bold",children:"Usuario/Contrasea Invalidos"})})]})]})})})]})})},py="/assets/logo-blanco-5CcXyzxE.png",SE=()=>{const[t,e]=A.useState(!1),[n,r]=A.useState(1),i=ta(),[o,s]=A.useState(!1),a=()=>{e(!t)},l=[{id:1,text:"Lista de Daos",svg:m.jsx("svg",{color:"#CAF92B",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})})},{id:2,text:"Contacto",svg:m.jsx("svg",{color:"#CAF92B",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48.294 48.294 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"})})},{id:3,text:"FAQ",svg:m.jsx("svg",{color:"#CAF92B",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"})})},{id:4,text:"Cerrar Sesin",svg:m.jsx("svg",{color:"#CAF92B",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15m-3 0-3-3m0 0 3-3m-3 3H15"})})}];function u(d){return n==d.id?m.jsxs("div",{className:"flex",children:[" ",d.svg," ",m.jsx("p",{id:d.id,onClick:c,className:"border-b-4 border-[#CAF92B] px-2",children:d.text})]}):m.jsxs("div",{className:"flex",children:[" ",d.svg," ",m.jsx("p",{id:d.id,onClick:c,className:"hover:border-b-4 hover:border-[#CAF92B] px-2",children:d.text})]})}const c=d=>{switch(console.log(d.target.id),d.target.id){case"4":localStorage.clear(),i("/");break;case"2":s(!0);break}},h=()=>{s(!1)};return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex justify-between items-center mx-auto px-4 text-white contenedor-header-nav bg-[#20556B] sm:bg-[#ffffff]",children:[m.jsxs("a",{href:"",children:[m.jsx("img",{className:"h-20 hidden sm:block",src:Nv,alt:"Inicio"}),m.jsx("img",{className:"h-16 sm:hidden",src:py,alt:"Inicio"})]}),m.jsx("ul",{className:"hidden md:flex",children:l.map(d=>m.jsx("li",{className:"text-black p-4 hover: m-2 cursor-pointer",children:u(d)},d.id))}),m.jsx("h1",{className:"sm:hidden text-2xl",children:"Inspeccin de daos"}),m.jsx("div",{onClick:a,className:"block md:hidden",children:m.jsx("button",{type:"button",className:"inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden","aria-controls":"mobile-menu-2","aria-expanded":"false",children:m.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})})}),m.jsxs("ul",{className:t?"fixed md:hidden left-0 top-0 w-[60%] h-full border-r border-r-gray-900 bg-[#303030] ease-in-out duration-500 z-10":"ease-in-out w-[60%] duration-500 fixed top-0 bottom-0 left-[-100%] z-10",children:[m.jsx("div",{className:"flex justify-center my-4",children:m.jsx("a",{href:"",children:m.jsx("img",{className:"h-20",src:py,alt:"Inicio"})})}),l.map(d=>m.jsx("li",{className:"p-4 duration-300",children:u(d)},d.id))]})]}),o&&m.jsx("div",{className:"h-screen w-screen bg-[#00000099] fixed left-0 top-0 z-[1055] flex items-center justify-center",children:m.jsxs("div",{className:"w-2/3 max-w-md bg-gradient-to-br from-cyan-500 to-purple-900 rounded-2xl shadow-2xl animate-jump-in",children:[m.jsx("div",{className:"flex justify-end m-3",children:m.jsx("svg",{onClick:h,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 cursor-pointer text-white",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})})}),m.jsxs("div",{className:"flex flex-col items-center pb-10",children:[m.jsx("img",{className:"w-24 h-24 mb-3 rounded-full shadow-lg",src:"https://avatars.githubusercontent.com/u/7824692?v=4",alt:"Bonnie image"}),m.jsx("h5",{className:"mb-1 text-xl font-medium text-gray-900 dark:text-white",children:"Carlos Lpez"}),m.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Ing. en Informtica"}),m.jsx("div",{className:"flex mt-4 md:mt-6",children:m.jsx("a",{href:"https://github.com/CarlosLopezP",target:"_blank",className:"inline-flex items-center px-4 py-2 text-sm font-medium text-center text-gray-900 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-gray-200 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-700 dark:focus:ring-gray-700 ms-3",children:"GitHub"})})]})]})})]})},cP="/assets/desvanecido2-vsPthlMf.png",hP=()=>{const t=ta(),e=[{id:"1",nombre:"Aguascalientes"},{id:"2",nombre:"Baja California"},{id:"3",nombre:"Baja California Sur"},{id:"4",nombre:"Campeche"},{id:"5",nombre:"Chiapas"},{id:"6",nombre:"Chihuahua"},{id:"7",nombre:"Coahuila de Zaragoza"},{id:"8",nombre:"Colima"},{id:"9",nombre:"Ciudad de Mxico"},{id:"10",nombre:"Durango"},{id:"11",nombre:"Guanajuato"},{id:"12",nombre:"Guerrero"},{id:"13",nombre:"Hidalgo"},{id:"14",nombre:"Jalisco"},{id:"15",nombre:"Mexico"},{id:"16",nombre:"Michoacan de Ocampo"},{id:"17",nombre:"Morelos"},{id:"18",nombre:"Nayarit"},{id:"19",nombre:"Nuevo Leon"},{id:"20",nombre:"Oaxaca"},{id:"21",nombre:"Puebla"},{id:"22",nombre:"Queretaro de Arteaga"},{id:"23",nombre:"Quintana Roo"},{id:"24",nombre:"San Luis Potosi"},{id:"25",nombre:"Sinaloa"},{id:"26",nombre:"Sonora"},{id:"27",nombre:"Tabasco"},{id:"28",nombre:"Tamaulipas"},{id:"29",nombre:"Tlaxcala"},{id:"30",nombre:"Veracruz-Llave"},{id:"31",nombre:"Yucatan"},{id:"32",nombre:"Zacatecas"}],[n,r]=A.useState(!1),[i,o]=A.useState([]),[s,a]=A.useState(""),[l,u]=A.useState(""),[c,h]=A.useState(""),[d,g]=A.useState(e[0].nombre),[E,_]=A.useState(!1),[T,p]=A.useState(!1),[f,y]=A.useState(!1),[S,D]=A.useState(0),[v,R]=A.useState(!1),[k,O]=A.useState(0),[U,ne]=A.useState(!1);A.useEffect(()=>{localStorage.getItem("sesion")!=null?me():(localStorage.clear(),t("/"))},[]);function pe(){y(!1),r(!0)}function _e(){r(!1)}const pt=B=>{O(B.target.id),R(!0)};function sn(){R(!1)}const Gt=B=>{console.log(B.target.id),B.target.id!=null&&(i.forEach(te=>{te.idDoc===B.target.id&&(localStorage.setItem("titulo",te.titulo),localStorage.setItem("num_secciones",te.numero_secciones),localStorage.setItem("id_danho",te.id_danho))}),t(`/lista-imagenes/${B.target.id}`))},me=async()=>{const B=Ws(Tr(Ut,"danhos"));qs(B,te=>{const At=[];te.forEach(vn=>{const Kn={...vn.data(),idDoc:vn.id};At.push(Kn)}),o(At)})},V=async B=>{try{if(_(!1),p(!1),B.preventDefault(),s==""||l==""||c==""||d=="")_(!0);else if(me(),f){console.log("idDocumentoEdicion"),console.log(S);const te=Ki(Ut,"danhos",S);await IE(te,{fecha:l,numero_secciones:c,titulo:s,ubicacion:d}),r(!1)}else await Tp(Tr(Ut,"danhos"),{id_danho:i.length+1,fecha:l,numero_secciones:c,titulo:s,ubicacion:d})!=null?r(!1):p(!0)}catch(te){console.log(te),p(!0)}},W=B=>{_(!1),p(!1),a(B.target.value)},q=B=>{_(!1),p(!1),u(B.target.value)},le=B=>{_(!1),p(!1),h(B.target.value)},ge=B=>{_(!1),p(!1),g(B.target.value)},Dt=B=>{D(B.target.id),_(!1),p(!1),B.preventDefault(),i.forEach(te=>{te.idDoc==B.target.id&&(a(te.titulo),u(te.fecha),h(te.numero_secciones),g(te.ubicacion))}),y(!0),r(!0)},$e=()=>{try{if(k!=null){var B=0;if(i.forEach(te=>{te.idDoc==k&&(B=te.id_danho)}),B>0){const te=Ws(Tr(Ut,"galeria"));qs(te,async At=>{var vn=[];At.forEach(X=>{const Q={...X.data(),idDoc:X.id};vn.push(Q)});var Kn=[];vn.forEach(X=>{X.id_danho==parseInt(B)&&Kn.push(X)}),Kn.forEach(async X=>{await Ed(Ki(Ut,"galeria",X.idDoc))}),await Ed(Ki(Ut,"danhos",k)),sn()})}}}catch{ne(!0)}};return m.jsxs(m.Fragment,{children:[m.jsx(SE,{}),m.jsxs("header",{className:"grid grid-cols-1 sm:flex justify-between items-center px-4",children:[m.jsx("div",{children:m.jsx("h3",{className:"color-principal font-bold text-2xl sm:text-4xl",children:"Listado de daos"})}),m.jsxs("section",{className:"",children:[m.jsx("button",{className:"bg-secundario text-white text-sm w-28 h-8 font-bold rounded-md shadow-md mx-6 hover:opacity-90 hidden sm:inline",onClick:pe,children:"Crear Dao"}),m.jsx("button",{className:"bg-secundario h-20 w-20 flex items-center justify-center text-white shadow-2xl shadow-red-950 sm:hidden fixed bottom-2 right-2 z-10 rounded-full",onClick:pe,children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-10 h-10",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})}),m.jsx("input",{className:"w-full sm:max-w-fit h-8 px-4 border-solid border-2 rounded-md focus:outline-none shadow-sm",type:"search",name:"buscador",id:"buscador",placeholder:"Buscar dao"})]})]}),m.jsx("section",{className:"principal-contenedor bg-no-repeat bg-contain bg-right-bottom px-2 pb-20 sm:pl-10 sm:pr-10 sm:pb-10 overflow-auto animate-fade-down",style:{backgroundImage:`url(${cP})`},children:i.map(B=>m.jsxs("div",{className:"rounded-md shadow-md w-full flex h-24 sm:h-32 my-4 sm:my-6 border border-gray-200 bg-gradient-to-r from-[#e2edef] to-[#ffffff82]",children:[m.jsxs("div",{className:"w-5/6 grid items-center px-2 sm:px-6",children:[m.jsx("h2",{className:"color-secundario font-bold text-xl sm:text-2xl",children:B.titulo}),m.jsxs("div",{className:"grid sm:flex",children:[m.jsx("div",{className:"w-5/6",children:m.jsx("span",{className:"text-base sm:text-xl",children:B.ubicacion})}),m.jsx("span",{className:"text-base sm:text-xl",children:B.fecha})]})]}),m.jsxs("div",{className:"flex w-2/6 sm:w-1/6 justify-evenly items-center",children:[m.jsx("svg",{id:B.idDoc,onClick:Gt,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 color-secundario cursor-pointer",children:m.jsx("path",{className:"h-14",strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})}),m.jsx("svg",{id:B.idDoc,onClick:Dt,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 color-secundario cursor-pointer",children:m.jsx("path",{className:"h-14",strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})}),m.jsx("svg",{id:B.idDoc,onClick:pt,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 color-secundario cursor-pointer",children:m.jsx("path",{className:"h-14",strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})]})]},`danhos_${B.id_danho}`))}),n&&m.jsx("div",{className:"h-screen w-screen bg-[#00000099] fixed left-0 top-0 z-[1055] flex items-center justify-center",children:m.jsxs("section",{className:"bg-white w-5/6 sm:w-3/6 px-6 animate-fade-up",children:[m.jsxs("header",{className:"flex justify-between h-12 items-center",children:[m.jsx("h2",{className:"color-principal font-bold text-2xl",children:f?"Actualizar Inspeccin":"Crear Inpeccin"}),m.jsx("svg",{onClick:_e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 cursor-pointer",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})})]}),m.jsxs("form",{className:"space-y-4 md:space-y-6 py-6",onSubmit:V,children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"text",className:"block mb-2 text-sm font-medium text-stone-900",children:"Nombre Daos"}),m.jsx("input",{onChange:W,value:s,type:"text",name:"nombre",id:"nombre",className:"bg-gray-20 border border-gray-300 text-stone-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-200 block w-full p-2.5",required:""})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"text",className:"block mb-2 text-sm font-medium text-stone-900",children:"Ubicacin"}),m.jsx("select",{name:"",id:"ubicacion",onChange:ge,value:d,placeholder:"Selecciona la ubicacin",className:"bg-gray-20 border border-gray-300 text-stone-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-200 block w-full p-2.5",children:e.map(B=>m.jsx("option",{value:B.nombre,children:B.nombre},`estado_${B.id}`))})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"date",className:"block mb-2 text-sm font-medium text-stone-900",children:"Fecha Ocurrido"}),m.jsx("input",{onChange:q,value:l,type:"date",name:"date",id:"date",className:"bg-gray-20 border border-gray-300 text-stone-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-200 block w-full p-2.5",required:""})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"number",className:"block mb-2 text-sm font-medium text-stone-900",children:"Nmero de Puntos a Visitar"}),m.jsx("input",{onChange:le,value:c,type:"number",name:"number",id:"number",min:"1",className:"bg-gray-20 border border-gray-300 text-stone-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-200 block w-full p-2.5",required:""})]}),m.jsx("div",{className:"flex justify-end",children:f?m.jsx("button",{type:"submit",className:"w-2/6 text-white bg-secundario focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg text-sm px-5 py-2.5 text-center font-bold",children:"Editar"}):m.jsx("button",{type:"submit",className:"w-2/6 text-white bg-secundario focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg text-sm px-5 py-2.5 text-center font-bold",children:"Agregar"})}),E&&m.jsx("div",{className:"bg-orange-100 border-l-4 border-orange-500 text-orange-700 p-4",role:"alert",children:m.jsx("p",{className:"font-bold",children:"Todos los campos son obligatorios"})}),T&&m.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4",role:"alert",children:m.jsx("p",{className:"font-bold",children:"Ocurri un error favor de intentralo ms tarde"})})]})]})}),v&&m.jsx("div",{className:"h-screen w-screen bg-[#00000099] fixed left-0 top-0 z-[1055] flex items-center justify-center",children:m.jsxs("section",{className:"bg-white w-5/6 sm:w-3/6 px-6 animate-fade-up",children:[m.jsxs("header",{className:"flex justify-between h-12 items-center",children:[m.jsx("h2",{className:"color-principal font-bold text-2xl",children:"Eliminar Dao"}),m.jsx("svg",{onClick:sn,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 cursor-pointer",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})})]}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl text-center",children:"Esta seguro de eliminar este dao?"}),m.jsx("span",{className:"text-md",children:"Todas las fotografas asignadas a ese ser eliminadas igualmente"}),m.jsx("div",{className:"flex justify-end py-5",children:m.jsx("button",{onClick:$e,type:"submit",className:"w-2/6 text-white bg-secundario focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg text-sm px-5 py-2.5 text-center font-bold",children:"Eliminar"})})]}),U&&m.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4",role:"alert",children:m.jsx("p",{className:"font-bold",children:"Ocurri un error favor de intentralo ms tarde"})})]})})]})},dP="/assets/otrodegradado1-OftGbv-H.png",fP=({match:t})=>{const e=ta(),[n,r]=A.useState(!1);XI(),A.useState("");const[i,o]=A.useState(""),[s,a]=A.useState([]);A.useState(0);const[l,u]=A.useState(null),[c,h]=A.useState(null),[d,g]=A.useState([]),E=A.useRef(null),_=A.useRef(null),[T,p]=A.useState([]),[f,y]=A.useState(!1),[S,D]=A.useState(!1),[v,R]=A.useState(0),[k,O]=A.useState(0),[U,ne]=A.useState(!1),[pe,_e]=A.useState(!1),[pt,sn]=A.useState(!1);A.useEffect(()=>{const X=localStorage.getItem("sesion"),Q=localStorage.getItem("titulo"),Ne=parseInt(localStorage.getItem("num_secciones")),Xe=localStorage.getItem("id_danho");if(o(Q),X!=null&&Q!=null&&Ne!=null&&Xe!=null){var qe=[];for(let Ee=0;Ee<Ne;Ee++)qe.push(Ee+1);a(qe),Dt()}else localStorage.clear(),e("/")},[]);function Gt(){e("/lista-danhos")}const me=async X=>{D(!1);const Q=await W();await q(X,Q.latitude,Q.longitude),r(!0)};function V(){$e(),r(!1)}const W=async()=>new Promise((X,Q)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(Ne=>{const{latitude:Xe,longitude:qe}=Ne.coords;u(Xe),h(qe),X({latitude:Xe,longitude:qe})},Ne=>{Q(Ne)}):Q(new Error("Geolocation is not supported by this browser."))}),q=async(X,Q,Ne)=>new Promise((Xe,qe)=>{try{const Ee=X.target.files,xt=[];for(let _n=0;_n<Ee.length;_n++){const pi=Ee[_n],To=URL.createObjectURL(pi),Lr={numeroImagen:_n,imgurl:To,subSeccion:s[0],descripcion:"",lat:Q,long:Ne,imagen:pi};xt.push(Lr)}Xe(g(xt))}catch(Ee){qe(Ee)}}),le=()=>{E.current.click()},ge=()=>{_.current.click()},Dt=()=>{const X=localStorage.getItem("id_danho"),Q=Ws(Tr(Ut,"galeria"));qs(Q,Ne=>{var Xe=[];Ne.forEach(Ee=>{const xt={...Ee.data(),idDoc:Ee.id};Xe.push(xt)});var qe=[];Xe.forEach(Ee=>{Ee.id_danho==parseInt(X)&&qe.push(Ee)}),p(qe)})},$e=()=>{const X=document.getElementById("cargaImagen");X.value=""},B=async()=>{try{y(!1);const Q=localStorage.getItem("id_danho"),Ne=Ws(Tr(Ut,"galeria"));var X=0;if(S){const Xe=Ki(Ut,"galeria",v),qe=document.getElementById(`alta_seccion_${k}`),Ee=document.getElementById(`alta_descripcion_${k}`);await IE(Xe,{descripcion:Ee.value,seccion:qe.value}),V()}else qs(Ne,Xe=>{var qe=[];Xe.forEach(xt=>{const _n={...xt.data(),idDoc:xt.id};qe.push(_n)}),qe.length>0?X=qe[qe.length-1].id_imagen:X=1;var Ee=!1;d.forEach(async xt=>{const _n=document.getElementById(`alta_seccion_${xt.numeroImagen}`),pi=document.getElementById(`alta_descripcion_${xt.numeroImagen}`);X++;const To=xt.imagen,Lr=new FileReader;Lr.onload=async()=>{const Gn=Lr.result;Gn!=""&&await Tp(Tr(Ut,"galeria"),{descripcion:pi.value,id_danho:parseInt(Q),id_imagen:parseInt(X),latitud:xt.lat,longitud:xt.long,seccion:_n.value,imagen:Gn})==null&&(Ee=!0)},Lr.readAsDataURL(To)}),Ee?y(!0):V()})}catch(Q){console.log(Q),y(!0)}},te=X=>{D(!0);var Q=[];T.forEach(Ne=>{Ne.idDoc==X.target.id&&Q.push(Ne)}),Q.length>0&&(g(Q),r(!0),R(Q[0].idDoc),O(Q[0].numeroImagen),setTimeout(()=>{const Ne=document.getElementById(`alta_seccion_${Q[0].numeroImagen}`);Ne.value=Q[0].seccion;const Xe=document.getElementById(`alta_descripcion_${Q[0].numeroImagen}`);Xe.value=Q[0].descripcion},500))},At=X=>{_e(X.target.id),ne(!0)};function vn(){ne(!1)}const Kn=async()=>{try{await Ed(Ki(Ut,"galeria",pe)),vn()}catch{sn(!0)}};return m.jsxs(m.Fragment,{children:[m.jsx(SE,{}),m.jsxs("header",{className:"grid grid-cols-1 sm:flex justify-between items-center px-4",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("svg",{onClick:Gt,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 mr-4 cursor-pointer color-secundario hover:animate-jump",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})}),m.jsx("h3",{className:"color-principal font-bold text-2xl sm:text-3xl",children:i})]}),m.jsxs("section",{className:"",children:[m.jsx("button",{className:"bg-secundario text-white text-sm w-28 h-8 font-bold rounded-md shadow-md mx-6 hover:opacity-90 hidden sm:inline",onClick:le,children:"Cargar Foto"}),m.jsx("input",{id:"cargaImagen",type:"file",accept:"image/jpeg, image/png",multiple:!0,onChange:me,ref:E,className:"hidden"}),m.jsx("button",{className:"bg-secundario h-20 w-20 flex items-center justify-center text-white shadow-2xl shadow-red-950 sm:hidden fixed bottom-2 right-2 z-10 rounded-full",onClick:ge,children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-10 h-10",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"})]})}),m.jsx("input",{type:"file",accept:"image/jpeg, image/png",capture:"camera",onChange:me,ref:_,className:"hidden"}),m.jsx("input",{className:"w-full sm:max-w-fit h-8 px-4 border-solid border-2 rounded-md focus:outline-none shadow-sm",type:"search",name:"buscador",id:"buscador",placeholder:"Buscar foto"})]})]}),m.jsx("section",{className:"principal-contenedor grid bg-no-repeat bg-contain bg-right-bottom px-2 sm:p-10 sm:pt-0 overflow-auto",style:{backgroundImage:`url(${dP})`},children:s.map(X=>m.jsxs("div",{className:"grid my-0 sm:my-3",children:[m.jsxs("h3",{className:"text-2xl sticky top-0 bg-white",children:[" Sub Seccion ",X]}),m.jsx("div",{className:"grid grid-cols-2 gap-2 md:grid-cols-3 md:gap-3 lg:grid-cols-6 lg:gap-6 animate-fade-left",children:T.map(Q=>Q.seccion==X&&m.jsxs("div",{className:"grid border border-gray-200 bg-white rounded-md shadow-lg",children:[m.jsx("img",{className:"w-full h-28 object-cover border-r-4",src:Q.imagen}),m.jsxs("div",{className:"flex justify-end",children:[m.jsx("svg",{id:Q.idDoc,onClick:te,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 color-secundario mx-2 cursor-pointer",children:m.jsx("path",{className:"h-14",strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})}),m.jsx("svg",{id:Q.idDoc,onClick:At,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 color-secundario mx-2 cursor-pointer",children:m.jsx("path",{className:"h-14",strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})]}),m.jsx("span",{className:"text-sm p-2",children:Q.descripcion})]},`img_${Q.id_imagen}`))})]},`item_${X}`))}),n&&m.jsx("div",{className:"h-screen w-screen bg-[#00000099] fixed left-0 top-0 z-[1055] flex items-center justify-center",children:m.jsxs("section",{className:"bg-white w-11/12 h-11/12 sm:h-auto sm:w-5/6 p-2 sm:p-6 animate-fade-up ",children:[m.jsxs("header",{className:"flex justify-between h-12 items-center",children:[m.jsx("h2",{className:"color-principal font-bold text-2xl",children:S?"Edicin":"Subir Imgenes"}),m.jsx("svg",{onClick:V,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 cursor-pointer",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})})]}),m.jsx("section",{className:"py-2 min-h-5/6 min-w-full sm:max-h-[500px] sm:min-h-[200px] overflow-auto",children:d.map(X=>m.jsxs("div",{className:"grid grid-rows-6 gap-2 sm:grid-rows-1 sm:grid-cols-5 sm:gap-6 items-center mb-5",children:[m.jsx("div",{className:"border-2 border-gray-200 rounded-xl shadow-md row-span-3 sm:row-span-1",children:S?m.jsx("img",{className:"h-52 sm:h-24 w-full object-cover rounded-xl",src:X.imagen}):m.jsx("img",{className:"h-52 sm:h-24 w-full object-cover rounded-xl",src:X.imgurl})}),m.jsxs("div",{children:[m.jsx("label",{className:"block mb-2 text-sm font-medium text-stone-900",children:"Sub-seccin"}),m.jsx("select",{id:`alta_seccion_${X.numeroImagen}`,placeholder:"Selecciona la ubicacin",className:"bg-gray-20 border border-gray-300 text-stone-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-200 block w-full p-2.5",children:s.map(Q=>m.jsx("option",{value:Q,children:Q},`accion_${Q}`))})]}),m.jsx("div",{className:"col-span-1 sm:col-span-2",children:m.jsxs("div",{children:[m.jsx("label",{className:"block mb-2 text-sm font-medium text-stone-900",children:"Descripcin (opcional)"}),m.jsx("input",{id:`alta_descripcion_${X.numeroImagen}`,type:"text",name:"nombre",className:"bg-gray-20 border border-gray-300 text-stone-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-200 block w-full p-2.5",required:""})]})}),m.jsxs("div",{className:"grid grid-rows-2",children:[m.jsxs("label",{className:"block mb-2 text-sm font-medium text-stone-900",children:["Lat:",S?X.latitud:X.lat]}),m.jsxs("label",{className:"block mb-2 text-sm font-medium text-stone-900",children:["Lon:",S?X.longitud:X.long]})]})]},X.imgurl))}),m.jsxs("div",{className:"flex justify-end",children:[m.jsx("button",{onClick:V,type:"submit",className:"w-3/6 sm:w-1/6 color-secundario bg-white border-red-900 border-2 rounded-lg text-sm px-5 py-2.5 text-center font-bold mr-6",children:"Cancelar"}),m.jsx("button",{type:"submit",className:"w-3/6 sm:w-1/6 text-white bg-secundario rounded-lg text-sm px-5 py-2.5 text-center font-bold",onClick:B,children:S?"Editar":"Cargar"})]}),f&&m.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4",role:"alert",children:m.jsx("p",{className:"font-bold",children:"Ocurri un error al subir una o varias imgenes, favor de intentralo ms tarde"})})]})}),U&&m.jsx("div",{className:"h-screen w-screen bg-[#00000099] fixed left-0 top-0 z-[1055] flex items-center justify-center",children:m.jsxs("section",{className:"bg-white w-5/6 sm:w-3/6 px-6 animate-fade-up",children:[m.jsxs("header",{className:"flex justify-between h-12 items-center",children:[m.jsx("h2",{className:"color-principal font-bold text-2xl",children:"Eliminar Imagen"}),m.jsx("svg",{onClick:vn,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 cursor-pointer",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})})]}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl text-center",children:"Esta seguro de eliminar esta imagen?"}),m.jsx("div",{className:"flex justify-end py-5",children:m.jsx("button",{onClick:Kn,type:"submit",className:"w-2/6 text-white bg-secundario focus:ring-4 focus:outline-none focus:ring-primary-300 rounded-lg text-sm px-5 py-2.5 text-center font-bold",children:"Eliminar"})})]}),pt&&m.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4",role:"alert",children:m.jsx("p",{className:"font-bold",children:"Ocurri un error favor de intentralo ms tarde"})})]})})]})},pP=()=>{const t=ta();function e(){t(-1)}return m.jsx(m.Fragment,{children:m.jsx("div",{className:"w-screen h-screen grid gap-1 justify-center lg:justify-end bg-no-repeat bg-cover lg:bg-contain content-center",style:{backgroundImage:`url(${kv})`},children:m.jsxs("div",{className:"p-8 bg-gradient-to-r from-cyan-500 to-blue-500 lg:bg-gradient-to-r lg:from-[#ffffff00] lg:to-[#ffffff00] rounded-lg",children:[m.jsx("h1",{className:"text-3xl  lg:text-5xl text-center px-3 lg:pr-32 colorPrincipal font-semibold",children:"Pgina no encontrada"}),m.jsx("div",{className:"px-3 lg:pr-32 text-center",children:m.jsx("button",{className:"h-14 w-fit px-5 bg-secundario text-white m-3 rounded-md text-xl font-bold shadow-lg hover:animate-shake",onClick:e,children:"Regresar"})})]})})})},mP=fS([{path:"/",element:m.jsx(uP,{})},{path:"/lista-danhos",element:m.jsx(hP,{})},{path:"/lista-imagenes/:id",element:m.jsx(fP,{})},{path:"*",element:m.jsx(pP,{})}]);Wc.createRoot(document.getElementById("root")).render(m.jsx(TS,{router:mP,children:m.jsx(cS,{})}));
